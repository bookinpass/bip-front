{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{iSG3:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"PrintingModule\",(function(){return printing_module_PrintingModule}));var common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),compagnies_json=__webpack_require__(\"XSeB\"),airports_json=__webpack_require__(\"Tpxd\"),jspdf_min=__webpack_require__(\"5RHE\"),html2canvas=__webpack_require__(\"wOnQ\"),html2canvas_default=__webpack_require__.n(html2canvas),core=__webpack_require__(\"fXoL\");function PrintFlightTicketComponent_div_4_tbody_62_tr_1_Template(rf,ctx){if(1&rf&&(core.Xb(0,\"tr\",25),core.Xb(1,\"td\"),core.Rc(2),core.Wb(),core.Xb(3,\"td\"),core.Rc(4),core.Wb(),core.Xb(5,\"td\"),core.Rc(6),core.Wb(),core.Xb(7,\"td\"),core.Rc(8),core.jc(9,\"date\"),core.Wb(),core.Xb(10,\"td\"),core.Rc(11),core.jc(12,\"date\"),core.Wb(),core.Xb(13,\"td\"),core.Rc(14),core.Wb(),core.Wb()),2&rf){const segment_r327=ctx.$implicit,ctx_r326=core.ic(3);core.Db(2),core.Sc(ctx_r326.getAirport(segment_r327.departure.iataCode)),core.Db(2),core.Sc(ctx_r326.getAirport(segment_r327.arrival.iataCode)),core.Db(2),core.Uc(\"\",segment_r327.carrierCode,\" \",ctx_r326.ticket.itineraries[0].segments[0].number,\"\"),core.Db(2),core.Sc(core.lc(9,7,segment_r327.departure.at,\"dd/MM/yyyy à HH:mm\")),core.Db(3),core.Sc(core.lc(12,10,segment_r327.arrival.at,\"dd/MM/yyyy à HH:mm\")),core.Db(3),core.Sc(ctx_r326.getChecking(segment_r327.departure.at).toString())}}function PrintFlightTicketComponent_div_4_tbody_62_Template(rf,ctx){if(1&rf&&(core.Xb(0,\"tbody\"),core.Pc(1,PrintFlightTicketComponent_div_4_tbody_62_tr_1_Template,15,13,\"tr\",28),core.Xb(2,\"tr\",25),core.Xb(3,\"td\"),core.Xb(4,\"p\"),core.Xb(5,\"span\"),core.Rc(6,\"Class\"),core.Wb(),core.Rc(7),core.Wb(),core.Xb(8,\"p\"),core.Xb(9,\"span\"),core.Rc(10,\"Seat\"),core.Wb(),core.Rc(11),core.Wb(),core.Xb(12,\"p\"),core.Xb(13,\"span\"),core.Rc(14,\"Baggage (4)\"),core.Wb(),core.Rc(15,\": 2 (PC)\"),core.Wb(),core.Xb(16,\"p\"),core.Xb(17,\"span\"),core.Rc(18,\"Fare basis\"),core.Wb(),core.Rc(19),core.Wb(),core.Wb(),core.Xb(20,\"td\",29),core.Xb(21,\"p\"),core.Xb(22,\"span\"),core.Rc(23,\"Operated by\"),core.Wb(),core.Rc(24),core.Wb(),core.Xb(25,\"p\"),core.Xb(26,\"span\"),core.Rc(27,\"Booking status (1)\"),core.Wb(),core.Rc(28,\": OK\"),core.Wb(),core.Xb(29,\"p\"),core.Xb(30,\"span\"),core.Rc(31,\"Frequent flyer number\"),core.Wb(),core.Rc(32,\": 78443491\"),core.Wb(),core.Wb(),core.Xb(33,\"td\",24),core.Xb(34,\"p\"),core.Xb(35,\"span\"),core.Rc(36,\"NVB (2)\"),core.Wb(),core.Rc(37),core.jc(38,\"date\"),core.Wb(),core.Xb(39,\"p\"),core.Xb(40,\"span\"),core.Rc(41,\"NVA (3)\"),core.Wb(),core.Rc(42),core.jc(43,\"date\"),core.Wb(),core.Wb(),core.Wb(),core.Wb()),2&rf){const itinerary_r325=ctx.$implicit,i_r323=core.ic().index,ctx_r324=core.ic();core.Db(1),core.rc(\"ngForOf\",itinerary_r325.segments),core.Db(6),core.Tc(\": \",null==ctx_r324.ticket.travelerPricings[i_r323].fareDetailsBySegment[0]?null:ctx_r324.ticket.travelerPricings[i_r323].fareDetailsBySegment[0].segmentClass,\"\"),core.Db(4),core.Tc(\": \",null==ctx_r324.ticket.travelerPricings[i_r323].fareDetailsBySegment[0]?null:ctx_r324.ticket.travelerPricings[i_r323].fareDetailsBySegment[0].cabin,\"\"),core.Db(8),core.Tc(\": \",null==ctx_r324.ticket.travelerPricings[i_r323].fareDetailsBySegment[0]?null:ctx_r324.ticket.travelerPricings[i_r323].fareDetailsBySegment[0].fareBasis,\"\"),core.Db(5),core.Tc(\":\",ctx_r324.airlines.designation.toUpperCase(),\"\"),core.Db(13),core.Tc(\": \",core.lc(38,7,ctx_r324.ticket.itineraries[0].segments[0].departure.at,\"dd/MM/yyyy\"),\"\"),core.Db(5),core.Tc(\": \",core.lc(43,10,ctx_r324.ticket.itineraries[ctx_r324.ticket.itineraries.length-1].segments[ctx_r324.ticket.itineraries[ctx_r324.ticket.itineraries.length-1].segments.length-1].arrival.at,\"dd-MM-yyyy\"),\"\")}}const _c0=function(a0,a1){return[a0,a1,\"symbol-narrow\",\"1.1-2\",\"fr-FR\"]},_c1=function(a0,a1){return[a0,a1,\"symbol-narrow\",\"1.0-2\",\"fr-FR\"]};function PrintFlightTicketComponent_div_4_Template(rf,ctx){if(1&rf&&(core.Xb(0,\"div\",4),core.Xb(1,\"table\",5),core.Xb(2,\"tbody\"),core.Xb(3,\"tr\"),core.Xb(4,\"td\",6),core.Sb(5,\"img\",7),core.Xb(6,\"p\",8),core.Rc(7),core.Wb(),core.Wb(),core.Wb(),core.Xb(8,\"tr\"),core.Xb(9,\"td\",9),core.Xb(10,\"p\",10),core.Rc(11),core.jc(12,\"titlecase\"),core.jc(13,\"titlecase\"),core.Wb(),core.Xb(14,\"p\",10),core.Rc(15),core.Wb(),core.Xb(16,\"p\",11),core.Xb(17,\"span\",12),core.Rc(18,\"Ticket number:\"),core.Wb(),core.Rc(19,\" 083 2130196431\"),core.Wb(),core.Xb(20,\"p\",11),core.Xb(21,\"span\",12),core.Rc(22,\"Transaction number:\"),core.Wb(),core.Rc(23),core.Wb(),core.Wb(),core.Xb(24,\"td\",13),core.Xb(25,\"p\",14),core.Rc(26,\"Issuing \"),core.Wb(),core.Xb(27,\"p\",11),core.Xb(28,\"span\",12),core.Rc(29,\"Office:\"),core.Wb(),core.Rc(30,\" BookinPass\"),core.Wb(),core.Xb(31,\"p\",11),core.Xb(32,\"span\",12),core.Rc(33,\"Date:\"),core.Wb(),core.Rc(34),core.jc(35,\"date\"),core.Wb(),core.Wb(),core.Wb(),core.Wb(),core.Wb(),core.Xb(36,\"div\",15),core.Xb(37,\"h2\",16),core.Rc(38,\"REÇU DE VOTRE BILLET ÉLECTRONIQUE\"),core.Wb(),core.Wb(),core.Xb(39,\"p\",17),core.Rc(40,\"Thank you for booking with us.\"),core.Wb(),core.Xb(41,\"p\",17),core.Rc(42,\"This is your e-ticket receipt containing all the details of your forthcoming flight.\"),core.Wb(),core.Xb(43,\"p\",17),core.Rc(44,\"We advise you to print and carry this e-ticket receipt as you will need to present it at check-in together with a valid form of identification such as an RSA Identity Document or Passport (for international travel).\"),core.Wb(),core.Xb(45,\"p\",18),core.Rc(46,\"We look forward to welcoming you on board.\"),core.Wb(),core.Xb(47,\"table\",19),core.Xb(48,\"thead\"),core.Xb(49,\"tr\",20),core.Xb(50,\"th\"),core.Rc(51,\"De\"),core.Wb(),core.Xb(52,\"th\"),core.Rc(53,\"A\"),core.Wb(),core.Xb(54,\"th\"),core.Rc(55,\"Vol\"),core.Wb(),core.Xb(56,\"th\"),core.Rc(57,\"Depart\"),core.Wb(),core.Xb(58,\"th\"),core.Rc(59,\"Arrive\"),core.Wb(),core.Xb(60,\"th\"),core.Rc(61,\"Check-in\"),core.Wb(),core.Wb(),core.Wb(),core.Pc(62,PrintFlightTicketComponent_div_4_tbody_62_Template,44,13,\"tbody\",21),core.Wb(),core.Xb(63,\"div\",22),core.Xb(64,\"p\"),core.Rc(65,\"(1) OK = Confirm \"),core.Wb(),core.Xb(66,\"p\"),core.Rc(67,\"(2) NVB = Not valid before \"),core.Wb(),core.Xb(68,\"p\"),core.Rc(69,\"(3) NVA = Not valid after \"),core.Wb(),core.Xb(70,\"p\"),core.Rc(71,\"(4) Each passenger can check in a specific amount of baggage at no extra cost as indicated above in the column baggage.\"),core.Wb(),core.Wb(),core.Xb(72,\"div\",23),core.Xb(73,\"p\"),core.Xb(74,\"span\"),core.Rc(75,\"ELECTRONIC TICKET REMARKS\"),core.Wb(),core.Rc(76,\":\"),core.Sb(77,\"br\"),core.Rc(78,\" Don't wait in line, check-in online.\"),core.Sb(79,\"br\"),core.Rc(80,\" South African Airways is pleased to offer our online check-in service, a simpler smarter and faster way to check in. Select or change your seat, and print your boarding pass between 24 hours and 3 hours prior to flight departure.\"),core.Sb(81,\"br\"),core.Xb(82,\"span\"),core.Rc(83,\"CANCEL NOTICE\"),core.Wb(),core.Rc(84,\":\"),core.Sb(85,\"br\"),core.Rc(86),core.Wb(),core.Wb(),core.Xb(87,\"table\"),core.Xb(88,\"thead\"),core.Xb(89,\"tr\",20),core.Xb(90,\"th\"),core.Rc(91,\"PAYMENT DETAILS\"),core.Wb(),core.Xb(92,\"th\",24),core.Rc(93,\"FARE PRICING DETAILS\"),core.Wb(),core.Wb(),core.Wb(),core.Xb(94,\"tbody\"),core.Xb(95,\"tr\",25),core.Xb(96,\"td\",26),core.Rc(97,\" Fare Calculation: CPT SA JNB8.59SA KGL78.79SA\"),core.Sb(98,\"br\"),core.Rc(99,\" JNB78.79SACPT63.75NUC229.92END ROE13.960370 \"),core.Sb(100,\"br\"),core.Rc(101),core.Sb(102,\"br\"),core.Rc(103,\" Endorsements: NONEND-/REF \"),core.Wb(),core.Xb(104,\"td\"),core.Rc(105,\"Fare\"),core.Wb(),core.Xb(106,\"td\"),core.Rc(107),core.jc(108,\"currency\"),core.Wb(),core.Wb(),core.Xb(109,\"tr\",25),core.Xb(110,\"td\"),core.Rc(111,\"Taxes and Fees\"),core.Wb(),core.Xb(112,\"td\"),core.Rc(113),core.jc(114,\"currency\"),core.Wb(),core.Wb(),core.Xb(115,\"tr\",25),core.Xb(116,\"td\"),core.Rc(117,\"Total Amount\"),core.Wb(),core.Xb(118,\"td\"),core.Rc(119),core.jc(120,\"currency\"),core.Wb(),core.Wb(),core.Wb(),core.Wb(),core.Xb(121,\"div\",27),core.Xb(122,\"p\"),core.Xb(123,\"span\"),core.Rc(124,\"RECEIPT REMARKS\"),core.Wb(),core.Rc(125,\":\"),core.Sb(126,\"br\"),core.Rc(127,\" If your itinerary includes flights operated by airlines other than South African Airways, on the same ticket as your South African Airways flights, different baggage rules may apply for these sectors. If your flight originates with another carrier, additional baggage fees may apply. \"),core.Wb(),core.Wb(),core.Wb()),2&rf){const item_r322=ctx.$implicit,i_r323=ctx.index,ctx_r321=core.ic();core.Db(5),core.tc(\"src\",\"../../assets/images/airlines/\",ctx_r321.ticket.validatingAirlineCodes[0],\".png\",core.Kc),core.Db(2),core.Sc(ctx_r321.airlines.designation),core.Db(4),core.Vc(\"Passenger: \",\"MALE\"===item_r322.gender?\"Mr\":\"Mme\",\" \",core.kc(12,14,item_r322.name.lastName+\" \"+item_r322.name.firstName),\" \",item_r322.name.middleName?item_r322.name.middleName:core.kc(13,16,\"\"),\"\"),core.Db(4),core.Tc(\"Booking ref: \",ctx_r321.listOfBookingRef[i_r323],\"\"),core.Db(8),core.Tc(\" \",ctx_r321.transaction,\"\"),core.Db(11),core.Tc(\" \",core.lc(35,18,ctx_r321.today,\"dd MMMM yyyy\"),\"\"),core.Db(28),core.rc(\"ngForOf\",ctx_r321.ticket.itineraries),core.Db(24),core.Tc(\" For changes to your travel plans, please contact the \",ctx_r321.airlines.designation,\"'s office nearest to you. Please note that all changes and cancellations to this ticket must abide by the fare rule.\"),core.Db(15),core.Tc(\" Form of payment:Paypal, ID=\",ctx_r321.transaction,\"\"),core.Db(6),core.Sc(core.oc(108,21,core.wc(39,_c0,ctx_r321.ticket.travelerPricings[i_r323].price.base,ctx_r321.ticket.price.currency))),core.Db(6),core.Sc(core.oc(114,27,core.wc(42,_c1,ctx_r321.ticket.travelerPricings[i_r323].price.total-ctx_r321.ticket.travelerPricings[i_r323].price.base,ctx_r321.ticket.price.currency))),core.Db(6),core.Sc(core.oc(120,33,core.wc(45,_c1,ctx_r321.ticket.travelerPricings[i_r323].price.total,ctx_r321.ticket.price.currency)))}}const routes=[{path:\"flight\",component:(()=>{class PrintFlightTicketComponent{constructor(activatedRoute,datePipe){this.activatedRoute=activatedRoute,this.datePipe=datePipe,this.today=new Date,this.listOfBookingRef=[],this.loading=!0,this.airport=(new airports_json.a).airport}ngOnInit(){window.scroll({behavior:\"smooth\",top:0,left:0}),this.transaction=this.activatedRoute.snapshot.queryParamMap.get(\"order\"),this.ticket=JSON.parse(localStorage.getItem(\"ticket\")),this.travelers=JSON.parse(localStorage.getItem(\"travelers\")),this.travelers.forEach(()=>{this.listOfBookingRef.push(this.getBookingRef())}),this.airlines=(new compagnies_json.a).companies.find(x=>x.iata===this.ticket.validatingAirlineCodes[0])}ngAfterViewInit(){setTimeout(()=>this.captureScreen(),1e3)}captureScreen(){const data=document.getElementsByClassName(\"ticket-container\"),date=this.datePipe.transform(this.ticket.itineraries[0].segments[0].departure.at,\"dd MMMM yyyy\");for(let i=0;i<data.length;++i)html2canvas_default()(data.item(i)).then(canvas=>{const imgHeight=208*canvas.height/canvas.width,contentDataURL=canvas.toDataURL(\"image/png\"),pdf=new jspdf_min(\"p\",\"mm\",\"a4\");pdf.addImage(contentDataURL,\"PNG\",0,0,208,imgHeight);const names=\"BILLET \"+this.travelers[i].name.firstName.toUpperCase()+\" \"+this.travelers[i].name.lastName.toUpperCase();pdf.save(`${names}-${this.listOfBookingRef[i]}-${date}.pdf`,{returnPromise:!0}).then(()=>{this.loading=!1})})}getChecking(at){const date=new Date(at);return date.setHours(date.getHours()-1),date.setSeconds(0),this.datePipe.transform(date,\"dd/MM/yyyy à HH:mm\")}getAirport(iataCode){const ap=this.airport.find(x=>x.iata===iataCode);return`${ap.airportName}, ${ap.state} - ${ap.countryName}`}getBookingRef(){let result=\"\";const charactersLength=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".length;for(let i=0;i<7;i++)result+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".charAt(Math.floor(Math.random()*charactersLength));return result}}return PrintFlightTicketComponent.ɵfac=function(t){return new(t||PrintFlightTicketComponent)(core.Rb(router.a),core.Rb(common.f))},PrintFlightTicketComponent.ɵcmp=core.Lb({type:PrintFlightTicketComponent,selectors:[[\"app-print-flight-ticket\"]],decls:5,vars:3,consts:[[1,\"ui\",\"form\",\"d-flex\",\"flex-column\",\"justify-content-center\",\"align-items-center\",\"printable\",\"mb-3\",3,\"ngClass\"],[3,\"ngClass\"],[1,\"ui\",\"text\",\"loader\"],[\"class\",\"ticket-container\",4,\"ngFor\",\"ngForOf\"],[1,\"ticket-container\"],[1,\"w-100\",\"border-0\"],[1,\"w-100\",\"d-flex\",\"flex-row\",\"align-items-center\",\"mb-3\"],[\"alt\",\"airline logo\",\"width\",\"150px\",3,\"src\"],[1,\"strongDarkBlue\",\"h1\",\"m-0\"],[1,\"w-50\",\"no-p-margin\"],[1,\"h3\",\"strongDarkBlue\"],[1,\"h4\"],[1,\"strongDarkBlue\"],[1,\"w-50\",\"text-left\",\"no-p-margin\",\"d-flex\",\"flex-column\",\"justify-content-end\"],[1,\"h3\",\"strongDarkBlue\",\"underlined\"],[1,\"title-banner\"],[1,\"text-white\",\"font-weight-bolder\"],[1,\"strongDarkBlue\",\"mb-1\",\"font-italic\"],[1,\"strongDarkBlue\",\"mb-5\",\"font-italic\"],[1,\"w-100\"],[1,\"table-header\"],[4,\"ngFor\",\"ngForOf\"],[1,\"abbreviations-explanation\"],[1,\"details-text\",\"mt-3\",\"mb-5\"],[\"colspan\",\"2\"],[1,\"table-content\"],[\"rowspan\",\"3\"],[1,\"details-text\",\"mt-4\",\"mb-5\"],[\"class\",\"table-content\",4,\"ngFor\",\"ngForOf\"],[\"colspan\",\"3\"]],template:function(rf,ctx){1&rf&&(core.Xb(0,\"div\",0),core.Xb(1,\"div\",1),core.Xb(2,\"div\",2),core.Rc(3,\"Nous préparons votre réservation. Vous pouvez ensuite le télécharger.\"),core.Wb(),core.Wb(),core.Pc(4,PrintFlightTicketComponent_div_4_Template,128,48,\"div\",3),core.Wb()),2&rf&&(core.rc(\"ngClass\",ctx.loading?\"w-100\":\"container\"),core.Db(1),core.rc(\"ngClass\",ctx.loading?\"ui active dimmer\":\"\"),core.Db(3),core.rc(\"ngForOf\",ctx.travelers))},directives:[common.n,common.o],pipes:[common.y,common.f,common.d],styles:[\"*[_ngcontent-%COMP%]{font-family:Open Sans,Roboto Slab,AdineuePRO,Ubuntu,Roboto,Helvetica Neue,sans-serif;font-weight:500}.loader-gif[_ngcontent-%COMP%]{background-image:url(loading.fdd306d6a94bd16f9e19.gif);background-repeat:no-repeat;background-size:100% 100%;background-position:0 0;position:fixed;left:0;top:0;width:100%;height:100%;background-color:#fff;z-index:2}.ticket-container[_ngcontent-%COMP%]{width:900px;font-size:18px}.strongDarkBlue[_ngcontent-%COMP%]{font-weight:bolder;color:#1a3e68}.title-banner[_ngcontent-%COMP%]{background-color:#1a3e68;height:40px;margin:10px 0;display:flex;justify-content:center;align-items:center}.no-p-margin[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:3px}.table-header[_ngcontent-%COMP%]{background-color:#1a3e68;height:40px;font-size:18px;color:#fff;text-align:center}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #1a3e68;border-right-color:#fff}.table-header[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-last-child{border-right-color:#1a3e68}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type, .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(2){width:22%}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(3){width:7%;text-align:center}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(4), .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(5), .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(6){width:11%;text-align:center}.table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border:1px solid #1a3e68}.table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:16px;vertical-align:baseline;color:#1a3e68;font-weight:600;margin-bottom:1px}.table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{text-decoration:underline;font-weight:700}.abbreviations-explanation[_ngcontent-%COMP%]{margin-bottom:3px}.abbreviations-explanation[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:12px;font-weight:400;margin-bottom:1px}.details-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1a3e68;font-weight:600;font-style:italic;font-size:17px}.details-text[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline;font-size:18px}\"]}),PrintFlightTicketComponent})()}];let printing_routing_module_PrintingRoutingModule=(()=>{class PrintingRoutingModule{}return PrintingRoutingModule.ɵmod=core.Pb({type:PrintingRoutingModule}),PrintingRoutingModule.ɵinj=core.Ob({factory:function(t){return new(t||PrintingRoutingModule)},imports:[[router.g.forChild(routes)],router.g]}),PrintingRoutingModule})(),printing_module_PrintingModule=(()=>{class PrintingModule{}return PrintingModule.ɵmod=core.Pb({type:PrintingModule}),PrintingModule.ɵinj=core.Ob({factory:function(t){return new(t||PrintingModule)},imports:[[common.c,printing_routing_module_PrintingRoutingModule]]}),PrintingModule})()}}]);","extractedComments":[]}