function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{iSG3:function(t,e,n){"use strict";n.r(e),n.d(e,"PrintingModule",(function(){return C}));var a=n("ofXK"),i=n("tyNb"),r=n("XSeB"),c=n("Tpxd"),o=n("5RHE"),b=n("wOnQ"),s=n.n(b),l=n("fXoL");function g(t,e){if(1&t&&(l.Yb(0,"tr",25),l.Yb(1,"td"),l.Wc(2),l.Xb(),l.Yb(3,"td"),l.Wc(4),l.Xb(),l.Yb(5,"td"),l.Wc(6),l.Xb(),l.Yb(7,"td"),l.Wc(8),l.oc(9,"date"),l.Xb(),l.Yb(10,"td"),l.Wc(11),l.oc(12,"date"),l.Xb(),l.Yb(13,"td"),l.Wc(14),l.Xb(),l.Xb()),2&t){var n=e.$implicit,a=l.nc(3);l.Db(2),l.Xc(a.getAirport(n.departure.iataCode)),l.Db(2),l.Xc(a.getAirport(n.arrival.iataCode)),l.Db(2),l.Zc("",n.carrierCode," ",a.ticket.itineraries[0].segments[0].number,""),l.Db(2),l.Xc(l.qc(9,7,n.departure.at,"dd/MM/yyyy \xe0 HH:mm")),l.Db(3),l.Xc(l.qc(12,10,n.arrival.at,"dd/MM/yyyy \xe0 HH:mm")),l.Db(3),l.Xc(a.getChecking(n.departure.at).toString())}}function d(t,e){if(1&t&&(l.Yb(0,"tbody"),l.Uc(1,g,15,13,"tr",28),l.Yb(2,"tr",25),l.Yb(3,"td"),l.Yb(4,"p"),l.Yb(5,"span"),l.Wc(6,"Class"),l.Xb(),l.Wc(7),l.Xb(),l.Yb(8,"p"),l.Yb(9,"span"),l.Wc(10,"Seat"),l.Xb(),l.Wc(11),l.Xb(),l.Yb(12,"p"),l.Yb(13,"span"),l.Wc(14,"Baggage (4)"),l.Xb(),l.Wc(15,": 2 (PC)"),l.Xb(),l.Yb(16,"p"),l.Yb(17,"span"),l.Wc(18,"Fare basis"),l.Xb(),l.Wc(19),l.Xb(),l.Xb(),l.Yb(20,"td",29),l.Yb(21,"p"),l.Yb(22,"span"),l.Wc(23,"Operated by"),l.Xb(),l.Wc(24),l.Xb(),l.Yb(25,"p"),l.Yb(26,"span"),l.Wc(27,"Booking status (1)"),l.Xb(),l.Wc(28,": OK"),l.Xb(),l.Yb(29,"p"),l.Yb(30,"span"),l.Wc(31,"Frequent flyer number"),l.Xb(),l.Wc(32,": 78443491"),l.Xb(),l.Xb(),l.Yb(33,"td",24),l.Yb(34,"p"),l.Yb(35,"span"),l.Wc(36,"NVB (2)"),l.Xb(),l.Wc(37),l.oc(38,"date"),l.Xb(),l.Yb(39,"p"),l.Yb(40,"span"),l.Wc(41,"NVA (3)"),l.Xb(),l.Wc(42),l.oc(43,"date"),l.Xb(),l.Xb(),l.Xb(),l.Xb()),2&t){var n=e.$implicit,a=l.nc().index,i=l.nc();l.Db(1),l.wc("ngForOf",n.segments),l.Db(6),l.Yc(": ",null==i.ticket.travelerPricings[a].fareDetailsBySegment[0]?null:i.ticket.travelerPricings[a].fareDetailsBySegment[0].segmentClass,""),l.Db(4),l.Yc(": ",null==i.ticket.travelerPricings[a].fareDetailsBySegment[0]?null:i.ticket.travelerPricings[a].fareDetailsBySegment[0].cabin,""),l.Db(8),l.Yc(": ",null==i.ticket.travelerPricings[a].fareDetailsBySegment[0]?null:i.ticket.travelerPricings[a].fareDetailsBySegment[0].fareBasis,""),l.Db(5),l.Yc(":",i.airlines.designation.toUpperCase(),""),l.Db(13),l.Yc(": ",l.qc(38,7,i.ticket.itineraries[0].segments[0].departure.at,"dd/MM/yyyy"),""),l.Db(5),l.Yc(": ",l.qc(43,10,i.ticket.itineraries[i.ticket.itineraries.length-1].segments[i.ticket.itineraries[i.ticket.itineraries.length-1].segments.length-1].arrival.at,"dd-MM-yyyy"),"")}}var p=function(t,e){return[t,e,"symbol-narrow","1.1-2","fr-FR"]},f=function(t,e){return[t,e,"symbol-narrow","1.0-2","fr-FR"]};function u(t,e){if(1&t&&(l.Yb(0,"div",4),l.Yb(1,"table",5),l.Yb(2,"tbody"),l.Yb(3,"tr"),l.Yb(4,"td",6),l.Tb(5,"img",7),l.Yb(6,"p",8),l.Wc(7),l.Xb(),l.Xb(),l.Xb(),l.Yb(8,"tr"),l.Yb(9,"td",9),l.Yb(10,"p",10),l.Wc(11),l.oc(12,"titlecase"),l.oc(13,"titlecase"),l.Xb(),l.Yb(14,"p",10),l.Wc(15),l.Xb(),l.Yb(16,"p",11),l.Yb(17,"span",12),l.Wc(18,"Ticket number:"),l.Xb(),l.Wc(19," 083 2130196431"),l.Xb(),l.Yb(20,"p",11),l.Yb(21,"span",12),l.Wc(22,"Transaction number:"),l.Xb(),l.Wc(23),l.Xb(),l.Xb(),l.Yb(24,"td",13),l.Yb(25,"p",14),l.Wc(26,"Issuing "),l.Xb(),l.Yb(27,"p",11),l.Yb(28,"span",12),l.Wc(29,"Office:"),l.Xb(),l.Wc(30," BookinPass"),l.Xb(),l.Yb(31,"p",11),l.Yb(32,"span",12),l.Wc(33,"Date:"),l.Xb(),l.Wc(34),l.oc(35,"date"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(36,"div",15),l.Yb(37,"h2",16),l.Wc(38,"RE\xc7U DE VOTRE BILLET \xc9LECTRONIQUE"),l.Xb(),l.Xb(),l.Yb(39,"p",17),l.Wc(40,"Thank you for booking with us."),l.Xb(),l.Yb(41,"p",17),l.Wc(42,"This is your e-ticket receipt containing all the details of your forthcoming flight."),l.Xb(),l.Yb(43,"p",17),l.Wc(44,"We advise you to print and carry this e-ticket receipt as you will need to present it at check-in together with a valid form of identification such as an RSA Identity Document or Passport (for international travel)."),l.Xb(),l.Yb(45,"p",18),l.Wc(46,"We look forward to welcoming you on board."),l.Xb(),l.Yb(47,"table",19),l.Yb(48,"thead"),l.Yb(49,"tr",20),l.Yb(50,"th"),l.Wc(51,"De"),l.Xb(),l.Yb(52,"th"),l.Wc(53,"A"),l.Xb(),l.Yb(54,"th"),l.Wc(55,"Vol"),l.Xb(),l.Yb(56,"th"),l.Wc(57,"Depart"),l.Xb(),l.Yb(58,"th"),l.Wc(59,"Arrive"),l.Xb(),l.Yb(60,"th"),l.Wc(61,"Check-in"),l.Xb(),l.Xb(),l.Xb(),l.Uc(62,d,44,13,"tbody",21),l.Xb(),l.Yb(63,"div",22),l.Yb(64,"p"),l.Wc(65,"(1) OK = Confirm "),l.Xb(),l.Yb(66,"p"),l.Wc(67,"(2) NVB = Not valid before "),l.Xb(),l.Yb(68,"p"),l.Wc(69,"(3) NVA = Not valid after "),l.Xb(),l.Yb(70,"p"),l.Wc(71,"(4) Each passenger can check in a specific amount of baggage at no extra cost as indicated above in the column baggage."),l.Xb(),l.Xb(),l.Yb(72,"div",23),l.Yb(73,"p"),l.Yb(74,"span"),l.Wc(75,"ELECTRONIC TICKET REMARKS"),l.Xb(),l.Wc(76,":"),l.Tb(77,"br"),l.Wc(78," Don't wait in line, check-in online."),l.Tb(79,"br"),l.Wc(80," South African Airways is pleased to offer our online check-in service, a simpler smarter and faster way to check in. Select or change your seat, and print your boarding pass between 24 hours and 3 hours prior to flight departure."),l.Tb(81,"br"),l.Yb(82,"span"),l.Wc(83,"CANCEL NOTICE"),l.Xb(),l.Wc(84,":"),l.Tb(85,"br"),l.Wc(86),l.Xb(),l.Xb(),l.Yb(87,"table"),l.Yb(88,"thead"),l.Yb(89,"tr",20),l.Yb(90,"th"),l.Wc(91,"PAYMENT DETAILS"),l.Xb(),l.Yb(92,"th",24),l.Wc(93,"FARE PRICING DETAILS"),l.Xb(),l.Xb(),l.Xb(),l.Yb(94,"tbody"),l.Yb(95,"tr",25),l.Yb(96,"td",26),l.Wc(97," Fare Calculation: CPT SA JNB8.59SA KGL78.79SA"),l.Tb(98,"br"),l.Wc(99," JNB78.79SACPT63.75NUC229.92END ROE13.960370 "),l.Tb(100,"br"),l.Wc(101),l.Tb(102,"br"),l.Wc(103," Endorsements: NONEND-/REF "),l.Xb(),l.Yb(104,"td"),l.Wc(105,"Fare"),l.Xb(),l.Yb(106,"td"),l.Wc(107),l.oc(108,"currency"),l.Xb(),l.Xb(),l.Yb(109,"tr",25),l.Yb(110,"td"),l.Wc(111,"Taxes and Fees"),l.Xb(),l.Yb(112,"td"),l.Wc(113),l.oc(114,"currency"),l.Xb(),l.Xb(),l.Yb(115,"tr",25),l.Yb(116,"td"),l.Wc(117,"Total Amount"),l.Xb(),l.Yb(118,"td"),l.Wc(119),l.oc(120,"currency"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(121,"div",27),l.Yb(122,"p"),l.Yb(123,"span"),l.Wc(124,"RECEIPT REMARKS"),l.Xb(),l.Wc(125,":"),l.Tb(126,"br"),l.Wc(127," If your itinerary includes flights operated by airlines other than South African Airways, on the same ticket as your South African Airways flights, different baggage rules may apply for these sectors. If your flight originates with another carrier, additional baggage fees may apply. "),l.Xb(),l.Xb(),l.Xb()),2&t){var n=e.$implicit,a=e.index,i=l.nc();l.Db(5),l.yc("src","../../assets/images/airlines/",i.ticket.validatingAirlineCodes[0],".png",l.Pc),l.Db(2),l.Xc(i.airlines.designation),l.Db(4),l.ad("Passenger: ","MALE"===n.gender?"Mr":"Mme"," ",l.pc(12,14,n.name.lastName+" "+n.name.firstName)," ",n.name.middleName?n.name.middleName:l.pc(13,16,""),""),l.Db(4),l.Yc("Booking ref: ",i.listOfBookingRef[a],""),l.Db(8),l.Yc(" ",i.transaction,""),l.Db(11),l.Yc(" ",l.qc(35,18,i.today,"dd MMMM yyyy"),""),l.Db(28),l.wc("ngForOf",i.ticket.itineraries),l.Db(24),l.Yc(" For changes to your travel plans, please contact the ",i.airlines.designation,"'s office nearest to you. Please note that all changes and cancellations to this ticket must abide by the fare rule."),l.Db(15),l.Yc(" Form of payment:Paypal, ID=",i.transaction,""),l.Db(6),l.Xc(l.tc(108,21,l.Bc(39,p,i.ticket.travelerPricings[a].price.base,i.ticket.price.currency))),l.Db(6),l.Xc(l.tc(114,27,l.Bc(42,f,i.ticket.travelerPricings[a].price.total-i.ticket.travelerPricings[a].price.base,i.ticket.price.currency))),l.Db(6),l.Xc(l.tc(120,33,l.Bc(45,f,i.ticket.travelerPricings[a].price.total,i.ticket.price.currency)))}}var h,m,y,X=[{path:"flight",component:(h=function(){function t(e,n){_classCallCheck(this,t),this.activatedRoute=e,this.datePipe=n,this.today=new Date,this.listOfBookingRef=[],this.loading=!0,this.airport=(new c.a).airport}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;window.scroll({behavior:"smooth",top:0,left:0}),this.transaction=this.activatedRoute.snapshot.queryParamMap.get("order"),this.ticket=JSON.parse(localStorage.getItem("ticket")),this.travelers=JSON.parse(localStorage.getItem("travelers")),this.travelers.forEach((function(){t.listOfBookingRef.push(t.getBookingRef())})),this.airlines=(new r.a).companies.find((function(e){return e.iata===t.ticket.validatingAirlineCodes[0]}))}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout((function(){return t.captureScreen()}),1e3)}},{key:"captureScreen",value:function(){for(var t=this,e=document.getElementsByClassName("ticket-container"),n=this.datePipe.transform(this.ticket.itineraries[0].segments[0].departure.at,"dd MMMM yyyy"),a=function(a){s()(e.item(a)).then((function(e){var i=208*e.height/e.width,r=e.toDataURL("image/png"),c=new o("p","mm","a4");c.addImage(r,"PNG",0,0,208,i);var b="BILLET "+t.travelers[a].name.firstName.toUpperCase()+" "+t.travelers[a].name.lastName.toUpperCase();c.save("".concat(b,"-").concat(t.listOfBookingRef[a],"-").concat(n,".pdf"),{returnPromise:!0}).then((function(){t.loading=!1}))}))},i=0;i<e.length;++i)a(i)}},{key:"getChecking",value:function(t){var e=new Date(t);return e.setHours(e.getHours()-1),e.setSeconds(0),this.datePipe.transform(e,"dd/MM/yyyy \xe0 HH:mm")}},{key:"getAirport",value:function(t){var e=this.airport.find((function(e){return e.iata===t}));return"".concat(e.airportName,", ").concat(e.state," - ").concat(e.countryName)}},{key:"getBookingRef",value:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZ".length,n=0;n<7;n++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(Math.random()*e));return t}}]),t}(),h.\u0275fac=function(t){return new(t||h)(l.Sb(i.a),l.Sb(a.f))},h.\u0275cmp=l.Mb({type:h,selectors:[["app-print-flight-ticket"]],decls:5,vars:3,consts:[[1,"ui","form","d-flex","flex-column","justify-content-center","align-items-center","printable","mb-3",3,"ngClass"],[3,"ngClass"],[1,"ui","text","loader"],["class","ticket-container",4,"ngFor","ngForOf"],[1,"ticket-container"],[1,"w-100","border-0"],[1,"w-100","d-flex","flex-row","align-items-center","mb-3"],["alt","airline logo","width","150px",3,"src"],[1,"strongDarkBlue","h1","m-0"],[1,"w-50","no-p-margin"],[1,"h3","strongDarkBlue"],[1,"h4"],[1,"strongDarkBlue"],[1,"w-50","text-left","no-p-margin","d-flex","flex-column","justify-content-end"],[1,"h3","strongDarkBlue","underlined"],[1,"title-banner"],[1,"text-white","font-weight-bolder"],[1,"strongDarkBlue","mb-1","font-italic"],[1,"strongDarkBlue","mb-5","font-italic"],[1,"w-100"],[1,"table-header"],[4,"ngFor","ngForOf"],[1,"abbreviations-explanation"],[1,"details-text","mt-3","mb-5"],["colspan","2"],[1,"table-content"],["rowspan","3"],[1,"details-text","mt-4","mb-5"],["class","table-content",4,"ngFor","ngForOf"],["colspan","3"]],template:function(t,e){1&t&&(l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Wc(3,"Nous pr\xe9parons votre r\xe9servation. Vous pouvez ensuite le t\xe9l\xe9charger."),l.Xb(),l.Xb(),l.Uc(4,u,128,48,"div",3),l.Xb()),2&t&&(l.wc("ngClass",e.loading?"w-100":"container"),l.Db(1),l.wc("ngClass",e.loading?"ui active dimmer":""),l.Db(3),l.wc("ngForOf",e.travelers))},directives:[a.o,a.p],pipes:[a.z,a.f,a.d],styles:["*[_ngcontent-%COMP%]{font-family:Open Sans,Roboto Slab,AdineuePRO,Ubuntu,Roboto,Helvetica Neue,sans-serif;font-weight:500}.loader-gif[_ngcontent-%COMP%]{background-image:url(loading.fdd306d6a94bd16f9e19.gif);background-repeat:no-repeat;background-size:100% 100%;background-position:0 0;position:fixed;left:0;top:0;width:100%;height:100%;background-color:#fff;z-index:2}.ticket-container[_ngcontent-%COMP%]{width:900px;font-size:18px}.strongDarkBlue[_ngcontent-%COMP%]{font-weight:bolder;color:#1a3e68}.title-banner[_ngcontent-%COMP%]{background-color:#1a3e68;height:40px;margin:10px 0;display:flex;justify-content:center;align-items:center}.no-p-margin[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:3px}.table-header[_ngcontent-%COMP%]{background-color:#1a3e68;height:40px;font-size:18px;color:#fff;text-align:center}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #1a3e68;border-right-color:#fff}.table-header[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-last-child{border-right-color:#1a3e68}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-of-type, .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(2){width:22%}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(3){width:7%;text-align:center}.table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(4), .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(5), .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-of-type(6){width:11%;text-align:center}.table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border:1px solid #1a3e68}.table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:16px;vertical-align:baseline;color:#1a3e68;font-weight:600;margin-bottom:1px}.table-content[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{text-decoration:underline;font-weight:700}.abbreviations-explanation[_ngcontent-%COMP%]{margin-bottom:3px}.abbreviations-explanation[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:12px;font-weight:400;margin-bottom:1px}.details-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#1a3e68;font-weight:600;font-style:italic;font-size:17px}.details-text[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline;font-size:18px}"]}),h)}],Y=((y=function t(){_classCallCheck(this,t)}).\u0275mod=l.Qb({type:y}),y.\u0275inj=l.Pb({factory:function(t){return new(t||y)},imports:[[i.g.forChild(X)],i.g]}),y),C=((m=function t(){_classCallCheck(this,t)}).\u0275mod=l.Qb({type:m}),m.\u0275inj=l.Pb({factory:function(t){return new(t||m)},imports:[[a.c,Y]]}),m)}}]);