{"version":3,"file":"ngx-fomantic-ui.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-fomantic-ui/behaviors/localization/locales/en-GB.ts","ng://ngx-fomantic-ui/behaviors/localization/services/localization.service.ts","ng://ngx-fomantic-ui/behaviors/localization/localization.module.ts","ng://ngx-fomantic-ui/collections/message/classes/active-message.ts","ng://ngx-fomantic-ui/collections/message/classes/message-config.ts","ng://ngx-fomantic-ui/collections/message/classes/message-controller.ts","ng://ngx-fomantic-ui/modules/transition/classes/transition.ts","ng://ngx-fomantic-ui/modules/transition/classes/transition-controller.ts","ng://ngx-fomantic-ui/modules/transition/directives/transition.ts","ng://ngx-fomantic-ui/modules/transition/transition.module.ts","ng://ngx-fomantic-ui/collections/message/components/message.ts","ng://ngx-fomantic-ui/misc/util/helpers/custom-validator.ts","ng://ngx-fomantic-ui/misc/util/helpers/custom-value-accessor.ts","ng://ngx-fomantic-ui/misc/util/helpers/util.ts","ng://ngx-fomantic-ui/misc/util/helpers/date.ts","ng://ngx-fomantic-ui/misc/util/services/component-factory.service.ts","ng://ngx-fomantic-ui/misc/util/services/positioning.service.ts","ng://ngx-fomantic-ui/misc/util/util.module.ts","ng://ngx-fomantic-ui/collections/message/components/message-container.ts","ng://ngx-fomantic-ui/collections/message/components/message-global-container.ts","ng://ngx-fomantic-ui/collections/message/services/message-service.ts","ng://ngx-fomantic-ui/modules/progress/components/progress.ts","ng://ngx-fomantic-ui/modules/progress/progress.module.ts","ng://ngx-fomantic-ui/collections/message/message.module.ts","ng://ngx-fomantic-ui/collections/pagination/components/pagination.ts","ng://ngx-fomantic-ui/collections/pagination/pagination.module.ts","ng://ngx-fomantic-ui/modules/accordion/components/accordion-panel.ts","ng://ngx-fomantic-ui/modules/accordion/services/accordion.service.ts","ng://ngx-fomantic-ui/modules/accordion/components/accordion.ts","ng://ngx-fomantic-ui/modules/collapse/directives/collapse.ts","ng://ngx-fomantic-ui/modules/collapse/collapse.module.ts","ng://ngx-fomantic-ui/modules/accordion/accordion.module.ts","ng://ngx-fomantic-ui/modules/checkbox/components/checkbox.ts","ng://ngx-fomantic-ui/modules/checkbox/components/radio.ts","ng://ngx-fomantic-ui/modules/checkbox/directives/radio-manager.ts","ng://ngx-fomantic-ui/modules/checkbox/checkbox.module.ts","ng://ngx-fomantic-ui/modules/datepicker/services/calendar.service.ts","ng://ngx-fomantic-ui/modules/datepicker/directives/calendar-item.ts","ng://ngx-fomantic-ui/modules/datepicker/views/calendar-view.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/calendar-mappings.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/calendar-config.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/date-comparer.ts","ng://ngx-fomantic-ui/modules/datepicker/helpers/date-fns.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/date-parser.ts","ng://ngx-fomantic-ui/modules/datepicker/services/calendar-range.service.ts","ng://ngx-fomantic-ui/modules/datepicker/components/calendar-view-title.ts","ng://ngx-fomantic-ui/modules/datepicker/components/datepicker.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-config.ts","ng://ngx-fomantic-ui/modules/popup/components/popup.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-controller.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-component-controller.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-template-controller.ts","ng://ngx-fomantic-ui/modules/popup/components/popup-arrow.ts","ng://ngx-fomantic-ui/modules/popup/services/popup.service.ts","ng://ngx-fomantic-ui/modules/popup/directives/popup.directive.ts","ng://ngx-fomantic-ui/modules/popup/popup.module.ts","ng://ngx-fomantic-ui/modules/datepicker/directives/datepicker.directive.ts","ng://ngx-fomantic-ui/modules/datepicker/directives/input.directive.ts","ng://ngx-fomantic-ui/modules/datepicker/views/date-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/hour-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/minute-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/month-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/year-view.ts","ng://ngx-fomantic-ui/modules/datepicker/datepicker.module.ts","ng://ngx-fomantic-ui/modules/dimmer/components/dimmer.ts","ng://ngx-fomantic-ui/modules/dimmer/dimmer.module.ts","ng://ngx-fomantic-ui/modules/dropdown/services/dropdown.service.ts","ng://ngx-fomantic-ui/modules/dropdown/directives/dropdown-menu.ts","ng://ngx-fomantic-ui/modules/dropdown/directives/dropdown.ts","ng://ngx-fomantic-ui/modules/dropdown/dropdown.module.ts","ng://ngx-fomantic-ui/modules/modal/classes/active-modal.ts","ng://ngx-fomantic-ui/modules/modal/classes/modal-config.ts","ng://ngx-fomantic-ui/modules/modal/classes/modal-controls.ts","ng://ngx-fomantic-ui/modules/modal/classes/modal-template.ts","ng://ngx-fomantic-ui/modules/modal/components/modal.ts","ng://ngx-fomantic-ui/modules/modal/services/modal.service.ts","ng://ngx-fomantic-ui/modules/modal/components/dimmer.ts","ng://ngx-fomantic-ui/modules/modal/modal.module.ts","ng://ngx-fomantic-ui/modules/rating/components/rating.ts","ng://ngx-fomantic-ui/modules/rating/rating.module.ts","ng://ngx-fomantic-ui/modules/search/components/search-result.ts","ng://ngx-fomantic-ui/modules/search/services/search.service.ts","ng://ngx-fomantic-ui/modules/search/components/search.ts","ng://ngx-fomantic-ui/modules/search/search.module.ts","ng://ngx-fomantic-ui/modules/select/components/select-option.ts","ng://ngx-fomantic-ui/modules/select/directives/select-search.ts","ng://ngx-fomantic-ui/modules/select/classes/select-base.ts","ng://ngx-fomantic-ui/modules/select/components/multi-select-label.ts","ng://ngx-fomantic-ui/modules/select/components/multi-select.ts","ng://ngx-fomantic-ui/modules/select/components/select.ts","ng://ngx-fomantic-ui/modules/select/select.module.ts","ng://ngx-fomantic-ui/modules/sidebar/services/sidebar.service.ts","ng://ngx-fomantic-ui/modules/sidebar/components/sidebar.ts","ng://ngx-fomantic-ui/modules/sidebar/components/sidebar-sibling.ts","ng://ngx-fomantic-ui/modules/sidebar/components/sidebar-container.ts","ng://ngx-fomantic-ui/modules/sidebar/sidebar.module.ts","ng://ngx-fomantic-ui/modules/tabs/classes/tab.ts","ng://ngx-fomantic-ui/modules/tabs/directives/tab-header.ts","ng://ngx-fomantic-ui/modules/tabs/directives/tab-content.ts","ng://ngx-fomantic-ui/modules/tabs/components/tabset.ts","ng://ngx-fomantic-ui/modules/tabs/tab.module.ts","ng://ngx-fomantic-ui/modules/toast/directives/toast-title.ts","ng://ngx-fomantic-ui/modules/toast/directives/toast-message.ts","ng://ngx-fomantic-ui/modules/toast/classes/toast.ts","ng://ngx-fomantic-ui/modules/toast/classes/toast-container.ts","ng://ngx-fomantic-ui/modules/toast/classes/toast-config.ts","ng://ngx-fomantic-ui/modules/toast/toast.module.ts","ng://ngx-fomantic-ui/fui.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {ILocaleValues} from './interfaces/values';\r\n\r\nconst enGB: ILocaleValues = {\r\n  datepicker: {\r\n    months: [\r\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\r\n    ],\r\n    monthsShort: [\r\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\r\n    ],\r\n    weekdays: [\r\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\r\n    ],\r\n    weekdaysShort: [\r\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'\r\n    ],\r\n    weekdaysNarrow: [\r\n      'S', 'M', 'T', 'W', 'T', 'F', 'S'\r\n    ],\r\n    timesOfDay: [\r\n      'a.m.', 'p.m.'\r\n    ],\r\n    timesOfDayUppercase: [\r\n      'AM', 'PM'\r\n    ],\r\n    timesOfDayLowercase: [\r\n      'am', 'pm'\r\n    ],\r\n    formats: {\r\n      time: 'h:mm A',\r\n      datetime: 'D MMMM YYYY h:mm A',\r\n      date: 'D MMMM YYYY',\r\n      month: 'MMMM YYYY',\r\n      year: 'YYYY'\r\n    },\r\n    firstDayOfWeek: 1\r\n  },\r\n  search: {\r\n    placeholder: 'Search...',\r\n    noResults: {\r\n      header: 'No Results',\r\n      message: 'Your search returned no results.'\r\n    }\r\n  },\r\n  select: {\r\n    noResultsMessage: 'No results',\r\n    single: {\r\n      placeholder: 'Select one'\r\n    },\r\n    multi: {\r\n      placeholder: 'Select...',\r\n      maxSelectedMessage: 'Max #{max} selections',\r\n      selectedMessage: '#{count} selections'\r\n    }\r\n  }\r\n};\r\n\r\nexport default enGB;\r\n","import {EventEmitter, Injectable} from '@angular/core';\r\nimport {ILocaleValues, IPartialLocaleValues, RecursivePartial} from '../locales/interfaces/values';\r\nimport enGB from '../locales/en-GB';\r\nimport * as $extend from 'extend';\r\n\r\nfunction deepClone<T>(obj: T): T {\r\n  return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\nfunction deepExtend<T, U>(target: T, source: U): T & U {\r\n  // Rollup...\r\n  const extend = ($extend as any).default || $extend;\r\n  return extend(true, target, source);\r\n}\r\n\r\nfunction lang(language: string): string {\r\n  return language.toLowerCase().replace('-', '');\r\n}\r\n\r\ninterface ILocalizationValuesContainer {\r\n  [name: string]: IPartialLocaleValues;\r\n}\r\n\r\n@Injectable()\r\nexport class FuiLocalizationService {\r\n\r\n  public onLanguageUpdate: EventEmitter<void>;\r\n  private _fallbackValues: ILocaleValues;\r\n  private _values: ILocalizationValuesContainer;\r\n\r\n  constructor() {\r\n    this.onLanguageUpdate = new EventEmitter<void>();\r\n\r\n    this._fallbackValues = enGB;\r\n    this._values = {};\r\n    this._language = 'en-GB';\r\n    this.load('en-GB', enGB);\r\n  }\r\n\r\n  private _language: string;\r\n\r\n  public get language(): string {\r\n    return this._language;\r\n  }\r\n\r\n  public setLanguage(language: string): void {\r\n    if (lang(this._language) !== lang(language)) {\r\n      this._language = language;\r\n      this.onLanguageUpdate.emit();\r\n    }\r\n  }\r\n\r\n  public get(language: string = this.language): ILocaleValues {\r\n    const values = deepClone(this._fallbackValues);\r\n    if (!this._values[lang(language)]) {\r\n      throw new Error(`Locale ${language} is not loaded`);\r\n    }\r\n    deepExtend(values, this._values[lang(language)]);\r\n    return deepClone(values);\r\n  }\r\n\r\n  public override<T extends keyof ILocaleValues>(\r\n    values: ILocaleValues[T],\r\n    overrides: RecursivePartial<ILocaleValues[T]>\r\n  ): ILocaleValues[T] {\r\n    return deepExtend(deepClone(values), overrides);\r\n  }\r\n\r\n  public load(language: string, values: IPartialLocaleValues): void {\r\n    this._values[lang(language)] = deepClone(values);\r\n    this.onLanguageUpdate.emit();\r\n  }\r\n\r\n  public patch(language: string, values: IPartialLocaleValues): void {\r\n    deepExtend(this._values[lang(language)], values);\r\n  }\r\n\r\n  public interpolate(value: string, variables: [string, string][]): string {\r\n    return variables.reduce((s, [k, v]) => s.replace(new RegExp(`#{${k}}`, 'g'), v), value);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiLocalizationService} from './services/localization.service';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  providers: [FuiLocalizationService]\r\n})\r\nexport class FuiLocalizationModule {\r\n}\r\n","import {MessageConfig} from './message-config';\r\nimport {ComponentRef} from '@angular/core';\r\nimport {FuiMessage} from '../components/message';\r\n\r\nexport abstract class FuiActiveMessage {\r\n  public abstract onClick(callback: () => void): FuiActiveMessage;\r\n\r\n  public abstract onDismiss(callback: () => void): FuiActiveMessage;\r\n\r\n  public abstract dismiss(): void;\r\n}\r\n\r\nexport class ActiveMessage implements FuiActiveMessage {\r\n  public config: MessageConfig;\r\n  public componentRef: ComponentRef<FuiMessage>;\r\n\r\n  constructor(config: MessageConfig, componentRef: ComponentRef<FuiMessage>) {\r\n    this.config = config;\r\n    this.componentRef = componentRef;\r\n\r\n    this.component.onDismiss.subscribe(() => this.componentRef.destroy());\r\n  }\r\n\r\n  public get component(): FuiMessage {\r\n    return this.componentRef.instance;\r\n  }\r\n\r\n  public onClick(callback: () => void): ActiveMessage {\r\n    this.config.onClick.subscribe(() => callback());\r\n    return this;\r\n  }\r\n\r\n  public onDismiss(callback: () => void): ActiveMessage {\r\n    this.config.onDismiss.subscribe(() => callback());\r\n    return this;\r\n  }\r\n\r\n  public dismiss(): void {\r\n    this.component.dismiss();\r\n  }\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\n\r\nexport type MessageState = '' | 'info' | 'success' | 'warning' | 'error';\r\n\r\nexport const MessageState = {\r\n  Default: '' as MessageState,\r\n  Info: 'info' as MessageState,\r\n  Success: 'success' as MessageState,\r\n  Warning: 'warning' as MessageState,\r\n  Error: 'error' as MessageState\r\n};\r\n\r\nexport class MessageConfig {\r\n  public text: string;\r\n  public header?: string;\r\n  public state: MessageState;\r\n\r\n  public timeout: number;\r\n  public extendedTimeout: number;\r\n\r\n  public hasDismissButton: boolean;\r\n  public hasProgress: boolean;\r\n\r\n  public transition: string;\r\n  public transitionInDuration: number;\r\n  public transitionOutDuration: number;\r\n\r\n  public onClick: EventEmitter<void>;\r\n  public onDismiss: EventEmitter<void>;\r\n\r\n  constructor(text: string, state: MessageState = MessageState.Default, header?: string) {\r\n    this.text = text;\r\n    this.state = state;\r\n    this.header = header;\r\n\r\n    this.timeout = 5000;\r\n    this.extendedTimeout = 1000;\r\n\r\n    this.hasDismissButton = true;\r\n    this.hasProgress = false;\r\n\r\n    this.transition = 'fade';\r\n    this.transitionInDuration = 400;\r\n    this.transitionOutDuration = 1000;\r\n\r\n    this.onClick = new EventEmitter<void>();\r\n    this.onDismiss = new EventEmitter<void>();\r\n  }\r\n}\r\n","import {MessageConfig} from './message-config';\r\nimport {FuiActiveMessage} from './active-message';\r\nimport {FuiMessageContainer} from '../components/message-container';\r\n\r\nexport interface IMessageController {\r\n  maxShown: number;\r\n  isNewestOnTop: boolean;\r\n\r\n  show(config: MessageConfig): FuiActiveMessage;\r\n\r\n  dismissAll(): void;\r\n}\r\n\r\nexport class MessageController implements IMessageController {\r\n  public maxShown: number;\r\n  public isNewestOnTop: boolean;\r\n  private _container: FuiMessageContainer;\r\n\r\n  constructor() {\r\n    this.maxShown = 7;\r\n    this.isNewestOnTop = true;\r\n  }\r\n\r\n  public registerContainer(container: FuiMessageContainer): void {\r\n    this._container = container;\r\n  }\r\n\r\n  public show(config: MessageConfig): FuiActiveMessage {\r\n    this.throwContainerError();\r\n\r\n    return this._container.show(config, this.maxShown, this.isNewestOnTop);\r\n  }\r\n\r\n  public dismissAll(): void {\r\n    this.throwContainerError();\r\n\r\n    return this._container.dismissAll();\r\n  }\r\n\r\n  private throwContainerError(): void {\r\n    if (!this._container) {\r\n      throw new Error('You must pass this controller to a message container.');\r\n    }\r\n  }\r\n}\r\n","// Possible directions for a transition.\r\nexport enum TransitionDirection {\r\n  In,\r\n  Out,\r\n  Either,\r\n  Static\r\n}\r\n\r\nexport class Transition {\r\n  public readonly type: string;\r\n\r\n  public readonly duration: number;\r\n\r\n  public direction: TransitionDirection;\r\n  // Stores the individual classes for the transition, e.g. \"fade out\" -> [\"fade\", \"out\"].\r\n  public readonly classes: string[];\r\n  public onComplete: () => void;\r\n\r\n  constructor(name: string,\r\n              duration: number = 250,\r\n              direction: TransitionDirection = TransitionDirection.Either,\r\n              onComplete: (() => void) = () => {\r\n              }) {\r\n\r\n    this.type = name;\r\n\r\n    // We set a minimum duration of 1ms, to give the appearance of an immediate transition\r\n    // whilst allowing positioning calculations to happen without a visible flicker.\r\n    this.duration = Math.max(duration, 1);\r\n\r\n    this.direction = direction;\r\n    this.classes = this.type.split(' ');\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  // Converts TransitionDirection to class name.\r\n  public get directionClass(): string {\r\n    switch (this.direction) {\r\n      case TransitionDirection.In:\r\n        return 'in';\r\n      case TransitionDirection.Out:\r\n        return 'out';\r\n    }\r\n\r\n    return '';\r\n  }\r\n}\r\n","import {ChangeDetectorRef, ElementRef, Renderer2} from '@angular/core';\r\nimport {Transition, TransitionDirection} from './transition';\r\n\r\nexport class TransitionController {\r\n  private _renderer: Renderer2;\r\n\r\n  private _element: ElementRef;\r\n\r\n  private _changeDetector: ChangeDetectorRef;\r\n  // Sets the 'display' style when visible.\r\n  private _display: string;\r\n  // Stores queued transitions.\r\n  private _queue: Transition[];\r\n  // Stores the setTimeout pointer for cancelling the animation callback.\r\n  private _animationTimeout: number;\r\n\r\n  constructor(isInitiallyVisible: boolean = true, display: string = 'block') {\r\n    // isInitiallyVisible sets whether the element starts out visible.\r\n    this._isVisible = isInitiallyVisible;\r\n    this._isHidden = !this._isVisible;\r\n\r\n    this._display = display;\r\n    this._queue = [];\r\n\r\n    this._isAnimating = false;\r\n  }\r\n\r\n  private _isAnimating: boolean;\r\n\r\n  public get isAnimating(): boolean {\r\n    return this._isAnimating;\r\n  }\r\n\r\n  // Set when the element is visible, and while it is transitioning out.\r\n  private _isVisible: boolean;\r\n\r\n  public get isVisible(): boolean {\r\n    return this._isVisible;\r\n  }\r\n\r\n  // Set when the element is hidden, and not while it is transitioning.\r\n  private _isHidden: boolean;\r\n\r\n  public get isHidden(): boolean {\r\n    return this._isHidden;\r\n  }\r\n\r\n  // Used to delay animations until we have an element to animate.\r\n  private get _isReady(): boolean {\r\n    return this._renderer != undefined && this._element != undefined && this._changeDetector != undefined;\r\n  }\r\n\r\n  // Gets the first transition in the queue.\r\n  private get _queueFirst(): Transition {\r\n    return this._queue[0];\r\n  }\r\n\r\n  // Gets the last transition in the queue.\r\n  private get _queueLast(): Transition {\r\n    return this._queue[this._queue.length - 1];\r\n  }\r\n\r\n  // Sets the renderer to be used for animating.\r\n  public registerRenderer(renderer: Renderer2): void {\r\n    this._renderer = renderer;\r\n    this.performTransition();\r\n  }\r\n\r\n  // Sets the element to perform the animations on.\r\n  public registerElement(element: ElementRef): void {\r\n    this._element = element;\r\n    this.performTransition();\r\n  }\r\n\r\n  // Sets the change detector to detect changes when using ChangeDetectionStrategy.OnPush.\r\n  public registerChangeDetector(changeDetector: ChangeDetectorRef): void {\r\n    this._changeDetector = changeDetector;\r\n    this.performTransition();\r\n  }\r\n\r\n  public animate(transition: Transition): void {\r\n    // Test if transition is one of the list that doesn't change the visible state.\r\n    // Should these eventually become classes?\r\n    const isDirectionless = ['jiggle', 'flash', 'shake', 'pulse', 'tada', 'bounce'].indexOf(transition.type) !== -1;\r\n    if (isDirectionless) {\r\n      transition.direction = TransitionDirection.Static;\r\n    } else if (transition.direction == undefined || transition.direction === TransitionDirection.Either) {\r\n      // Set the direction to the opposite of the current visible state automatically if not set, or set to either direction.\r\n      transition.direction = this._isVisible ? TransitionDirection.Out : TransitionDirection.In;\r\n      if (this._queueLast) {\r\n        // If there is an transition in the queue already, set the direction to the opposite of the direction of that transition.\r\n        if (this._queueLast.direction === TransitionDirection.In) {\r\n          transition.direction = TransitionDirection.Out;\r\n        } else if (this._queueLast.direction === TransitionDirection.Out) {\r\n          transition.direction = TransitionDirection.In;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Store the transition in the queue before attempting to perform it.\r\n    this._queue.push(transition);\r\n\r\n    this.performTransition();\r\n  }\r\n\r\n  // Stops the current transition, leaves the rest of the queue intact.\r\n  public stop(transition: Transition = this._queueFirst): void {\r\n    if (!transition || !this._isAnimating) {\r\n      return;\r\n    }\r\n\r\n    this.finalizeTransition(transition);\r\n  }\r\n\r\n  // Cancels the current transition, leaves the rest of the queue intact.\r\n  public cancel(transition: Transition = this._queueFirst): void {\r\n    if (!transition || !this._isAnimating) {\r\n      return;\r\n    }\r\n\r\n    this.completeTransition(transition);\r\n\r\n    if (transition.direction === TransitionDirection.In) {\r\n      // Return hidden class if we were originally transitioning in.\r\n      this._isHidden = true;\r\n    }\r\n  }\r\n\r\n  // Stops the current transition, and empties the queue.\r\n  public stopAll(): void {\r\n    this.clearQueue();\r\n    this.stop();\r\n  }\r\n\r\n  public cancelAll(): void {\r\n    this.clearQueue();\r\n    this.cancel();\r\n  }\r\n\r\n  // Empties the transition queue but carries on with the current transition.\r\n  public clearQueue(): void {\r\n    if (this.isAnimating) {\r\n      this._queue = [this._queueFirst];\r\n      return;\r\n    }\r\n    this._queue = [];\r\n  }\r\n\r\n  private performTransition(): void {\r\n    if (!this._isReady || this._isAnimating || !this._queueFirst) {\r\n      // Don't transition until we are ready, or if we are animating, or if there aren't any transitions in the queue.\r\n      return;\r\n    }\r\n\r\n    this._isAnimating = true;\r\n\r\n    const transition = this._queueFirst;\r\n\r\n    // Set the Fomantic UI classes for transitioning.\r\n    transition.classes.forEach(c => this._renderer.addClass(this._element, c));\r\n    this._renderer.addClass(this._element, `animating`);\r\n    this._renderer.addClass(this._element, transition.directionClass);\r\n\r\n    // Set the Fomantic UI styles for transitioning.\r\n    this._renderer.setStyle(this._element, `animationDuration`, `${transition.duration}ms`);\r\n    this._renderer.setStyle(this._element, `display`, this._display);\r\n\r\n    if (transition.direction === TransitionDirection.In) {\r\n      // Unset hidden if we are transitioning in.\r\n      this._isHidden = false;\r\n    }\r\n\r\n    // Wait the length of the animation before calling the complete callback.\r\n    this._animationTimeout = window.setTimeout(() => this.finalizeTransition(transition), transition.duration);\r\n  }\r\n\r\n  private completeTransition(transition: Transition): void {\r\n    transition.classes.forEach(c => this._renderer.removeClass(this._element, c));\r\n    this._renderer.removeClass(this._element, `animating`);\r\n    this._renderer.removeClass(this._element, transition.directionClass);\r\n\r\n    this._renderer.removeStyle(this._element, `animationDuration`);\r\n    this._renderer.removeStyle(this._element, `display`);\r\n\r\n    // Delete the transition from the queue.\r\n    this._queue.shift();\r\n    this._isAnimating = false;\r\n\r\n    this._changeDetector.markForCheck();\r\n\r\n    clearTimeout(this._animationTimeout);\r\n  }\r\n\r\n  // Called when a transition has completed.\r\n  private finalizeTransition(transition: Transition): void {\r\n    this.completeTransition(transition);\r\n\r\n    if (transition.direction === TransitionDirection.In) {\r\n      // If we have just animated in, we are now visible.\r\n      this._isVisible = true;\r\n    } else if (transition.direction === TransitionDirection.Out) {\r\n      // If we have transitioned out, we should be invisible and hidden.\r\n      this._isVisible = false;\r\n      this._isHidden = true;\r\n    }\r\n\r\n    if (transition.onComplete) {\r\n      // Call the user-defined transition callback.\r\n      transition.onComplete();\r\n    }\r\n\r\n    // Immediately attempt to perform another transition.\r\n    this.performTransition();\r\n  }\r\n}\r\n","import {ChangeDetectorRef, Directive, ElementRef, HostBinding, Input, Renderer2} from '@angular/core';\r\nimport {TransitionController} from '../classes/transition-controller';\r\n\r\n@Directive({\r\n  selector: '[fuiTransition]',\r\n  exportAs: 'transition'\r\n})\r\nexport class FuiTransition {\r\n  @HostBinding('class.transition')\r\n  public transitionClass = true;\r\n  // Each transition must have a controller associated that dispatches the transitions.\r\n  private _controller: TransitionController;\r\n\r\n  constructor(protected _renderer: Renderer2, protected _element: ElementRef, private _changeDetector: ChangeDetectorRef) {\r\n  }\r\n\r\n  @Input()\r\n  public set fuiTransition(tC: TransitionController) {\r\n    // Set the transition controller (e.g. '<div [fuiTransition]=\"transitionController\"></div>').\r\n    this.setTransitionController(tC);\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  public get isVisible(): boolean {\r\n    if (this._controller) {\r\n      return this._controller.isVisible;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  @HostBinding('class.hidden')\r\n  public get isHidden(): boolean {\r\n    if (this._controller) {\r\n      return this._controller.isHidden;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // Initialises the controller with the injected renderer and elementRef.\r\n  public setTransitionController(transitionController: TransitionController): void {\r\n    this._controller = transitionController;\r\n    this._controller.registerRenderer(this._renderer);\r\n    this._controller.registerElement(this._element.nativeElement);\r\n    this._controller.registerChangeDetector(this._changeDetector);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransition} from './directives/transition';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [\r\n    FuiTransition\r\n  ],\r\n  exports: [\r\n    FuiTransition\r\n  ],\r\n  providers: []\r\n})\r\nexport class FuiTransitionModule {\r\n}\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {Transition, TransitionController, TransitionDirection} from '../../../modules/transition/internal';\r\nimport {HandledEvent, IDynamicClasses} from '../../../misc/util/internal';\r\nimport {MessageConfig, MessageState} from '../classes/message-config';\r\n\r\nexport interface IMessage {\r\n  dismiss(): void;\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-message',\r\n  template: `\r\n<div [fuiTransition]=\"transitionController\">\r\n    <div class=\"ui message\"\r\n         [ngClass]=\"dynamicClasses\"\r\n         (mousemove)=\"cancelTimer()\"\r\n         (mouseleave)=\"beginTimer(extendedTimeout)\"\r\n         (click)=\"onClicked($event)\">\r\n        <i class=\"close icon\" *ngIf=\"hasDismissButton\" (click)=\"onDismissClicked($event)\"></i>\r\n        <ng-content></ng-content>\r\n        <ng-container *ngIf=\"isDynamic\">\r\n            <div class=\"header\" *ngIf=\"header\">{{ header }}</div>\r\n            <p>{{ text }}</p>\r\n        </ng-container>\r\n    </div>\r\n    <fui-progress *ngIf=\"isDynamic && hasProgress\"\r\n                  class=\"bottom attached\"\r\n                  [value]=\"timeoutProgress\"\r\n                  [autoSuccess]=\"false\"\r\n                  transition=\"linear\"\r\n                  [transitionDuration]=\"currentTimeout\"\r\n                  [canCompletelyEmpty]=\"true\"></fui-progress>\r\n</div>\r\n`\r\n})\r\nexport class FuiMessage implements IMessage {\r\n  public isDynamic: boolean;\r\n  public isClosing: boolean;\r\n  public isDismissing: boolean;\r\n\r\n  public text: string;\r\n  public header?: string;\r\n  public state: MessageState;\r\n\r\n  public timeout: number;\r\n  public extendedTimeout: number;\r\n  public currentTimeout: number;\r\n\r\n  @Input()\r\n  public hasDismissButton: boolean;\r\n\r\n  public hasProgress: boolean;\r\n\r\n  public timeoutProgress: number;\r\n\r\n  public transitionController: TransitionController;\r\n\r\n  @Input()\r\n  public transition: string;\r\n  public transitionInDuration: number;\r\n\r\n  @Input('transitionDuration')\r\n  public transitionOutDuration: number;\r\n  @Output('click')\r\n  public onClick: EventEmitter<void>;\r\n  @Output('dismiss')\r\n  public onDismiss: EventEmitter<void>;\r\n  @Input('class')\r\n  public classes: string;\r\n  private _displayTimeout: number;\r\n\r\n  constructor() {\r\n    const config = new MessageConfig('');\r\n    this.loadConfig(config);\r\n\r\n    this.isDynamic = false;\r\n    this.transitionOutDuration = 300;\r\n    this.timeoutProgress = 100;\r\n\r\n    this.transitionController = new TransitionController(false);\r\n\r\n    this.show();\r\n  }\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n    classes[this.state] = true;\r\n\r\n    if (this.isDynamic && this.hasProgress) {\r\n      classes.attached = true;\r\n    }\r\n\r\n    (this.classes || '')\r\n      .split(' ')\r\n      .forEach(c => classes[c] = true);\r\n\r\n    return classes;\r\n  }\r\n\r\n  public loadConfig(config: MessageConfig): void {\r\n    this.isDynamic = true;\r\n\r\n    this.text = config.text;\r\n    this.header = config.header;\r\n    this.state = config.state;\r\n\r\n    this.timeout = config.timeout;\r\n    this.extendedTimeout = config.extendedTimeout;\r\n\r\n    this.hasDismissButton = config.hasDismissButton;\r\n    this.hasProgress = config.hasProgress;\r\n\r\n    this.transition = config.transition;\r\n    this.transitionInDuration = config.transitionInDuration;\r\n    this.transitionOutDuration = config.transitionOutDuration;\r\n\r\n    this.onClick = config.onClick;\r\n    this.onDismiss = config.onDismiss;\r\n  }\r\n\r\n  public show(): void {\r\n    this.transitionController.stopAll();\r\n    this.transitionController.animate(\r\n      new Transition(\r\n        this.transition,\r\n        this.isDynamic ? this.transitionInDuration : 0,\r\n        TransitionDirection.In,\r\n        () => {\r\n          if (this.isDynamic) {\r\n            this.beginTimer(this.timeout);\r\n          }\r\n        }));\r\n  }\r\n\r\n  public dismiss(): void {\r\n    this.isDismissing = true;\r\n    this.transitionOutDuration = this.transitionInDuration;\r\n\r\n    this.hide();\r\n  }\r\n\r\n  public hide(): void {\r\n    this.isClosing = true;\r\n\r\n    this.transitionController.stopAll();\r\n    this.transitionController.animate(\r\n      new Transition(\r\n        this.transition,\r\n        this.transitionOutDuration,\r\n        TransitionDirection.Out,\r\n        () => {\r\n          this.isClosing = false;\r\n          this.onDismiss.emit();\r\n        }));\r\n  }\r\n\r\n  public beginTimer(timeout: number): void {\r\n    if (this.isDynamic && !this.isDismissing) {\r\n      this.timeoutProgress = 0;\r\n      this.currentTimeout = timeout;\r\n      this._displayTimeout = window.setTimeout(() => this.onTimedOut(), timeout);\r\n    }\r\n  }\r\n\r\n  public cancelTimer(): void {\r\n    if (this.isDynamic && !this.isDismissing) {\r\n      this.timeoutProgress = 100;\r\n      this.currentTimeout = 0;\r\n      clearTimeout(this._displayTimeout);\r\n\r\n      if (this.isClosing) {\r\n        this.isClosing = false;\r\n\r\n        this.transitionController.cancel();\r\n      }\r\n    }\r\n  }\r\n\r\n  public onClicked(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      this.cancelTimer();\r\n      this.onClick.emit();\r\n    }\r\n  }\r\n\r\n  public onDismissClicked(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n    this.dismiss();\r\n  }\r\n\r\n  private onTimedOut(): void {\r\n    this.hide();\r\n  }\r\n}\r\n","import {AbstractControl, NG_VALIDATORS, ValidationErrors, Validator} from '@angular/forms';\r\nimport {forwardRef, InjectionToken, Type} from '@angular/core';\r\n\r\nexport interface ICustomValidatorHost {\r\n  validate(c: AbstractControl): ValidationErrors | null;\r\n}\r\n\r\nexport class CustomValidator<T extends ICustomValidatorHost> implements Validator {\r\n  public onValidatorChange = () => {\r\n  }\r\n\r\n  constructor(private _host: T) {\r\n  }\r\n\r\n  public validate(c: AbstractControl): ValidationErrors | null {\r\n    return this._host.validate(c);\r\n  }\r\n\r\n  public registerOnValidatorChange(fn: () => void): void {\r\n    this.onValidatorChange = fn;\r\n  }\r\n}\r\n\r\nexport interface IValidationProvider {\r\n  provide: InjectionToken<(Function | Validator)[]>;\r\n  useExisting: Type<any>;\r\n  multi: boolean;\r\n}\r\n\r\nexport function customValidatorFactory(type: Function): IValidationProvider {\r\n  return {\r\n    provide: NG_VALIDATORS,\r\n    useExisting: forwardRef(() => type),\r\n    multi: true\r\n  };\r\n}\r\n","import {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {forwardRef, InjectionToken, Type} from '@angular/core';\r\n\r\nexport interface ICustomValueAccessorHost<T> {\r\n  writeValue(value: T): void;\r\n}\r\n\r\nexport class CustomValueAccessor<U, T extends ICustomValueAccessorHost<U>> implements ControlValueAccessor {\r\n  public onChange = (event: Event) => {\r\n  }\r\n  public onTouched = () => {\r\n  }\r\n\r\n  constructor(private _host: T) {\r\n  }\r\n\r\n  public writeValue(value: U): void {\r\n    this._host.writeValue(value);\r\n  }\r\n\r\n  public registerOnChange(fn: () => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n}\r\n\r\nexport interface IValueAccessorProvider {\r\n  provide: InjectionToken<ControlValueAccessor>;\r\n  useExisting: Type<any>;\r\n  multi: boolean;\r\n}\r\n\r\nexport function customValueAccessorFactory(type: Function): IValueAccessorProvider {\r\n  return {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => type),\r\n    multi: true\r\n  };\r\n}\r\n","// Keyboard keycodes.\r\nexport enum KeyCode {\r\n  Left = 37,\r\n  Up = 38,\r\n  Right = 39,\r\n  Down = 40,\r\n\r\n  Escape = 27,\r\n  Enter = 13,\r\n\r\n  Space = 32,\r\n  Backspace = 8\r\n}\r\n\r\ninterface IRecursiveObject {\r\n  [name: string]: IRecursiveObject;\r\n}\r\n\r\nexport interface ITemplateRefContext<T> {\r\n  $implicit: T;\r\n}\r\n\r\nexport interface IAugmentedElement extends Element {\r\n  closest(selector: string): IAugmentedElement;\r\n}\r\n\r\nexport class HandledEvent {\r\n  public eventHandled: boolean;\r\n}\r\n\r\nexport interface IDynamicClasses {\r\n  [name: string]: true;\r\n}\r\n\r\nexport const Util = {\r\n  Array: {\r\n    range(n: number, offset: number = 0): number[] {\r\n      return Array(n).fill(0).map((z, i) => i + offset);\r\n    },\r\n    group<T>(items: T[], groupLength: number): T[][] {\r\n      const mutable = items.slice(0);\r\n\r\n      const groups: T[][] = [];\r\n      while (mutable.length > 0) {\r\n        groups.push(mutable.splice(0, groupLength));\r\n      }\r\n      return groups;\r\n    },\r\n    groupBy<T>(items: T[], field: keyof T): { [name: string]: T[] } {\r\n      return items.reduce<{ [name: string]: T[] }>(\r\n        (groups, i) => {\r\n          const fieldValue = i[field].toString();\r\n          groups[fieldValue] = groups[fieldValue] || [];\r\n          groups[fieldValue].push(i);\r\n          return groups;\r\n        },\r\n        Object());\r\n    },\r\n    flatten<T>(items: T[][]): T[] {\r\n      return items.reduce((is, i) => is.concat(i), []);\r\n    }\r\n  },\r\n\r\n  String: {\r\n    padLeft(str: string, length: number, padding: string): string {\r\n      let s = str;\r\n      while (s.length < length) {\r\n        s = padding + s;\r\n      }\r\n      return s;\r\n    }\r\n  },\r\n\r\n  DOM: {\r\n    parseBooleanAttribute(attributeValue: boolean): boolean {\r\n      let value = attributeValue;\r\n      if (typeof attributeValue === 'string') {\r\n        value = true;\r\n      }\r\n\r\n      return value;\r\n    },\r\n    getDocumentFontSize(): number {\r\n      return parseFloat(window\r\n        .getComputedStyle(document.documentElement, undefined)\r\n        .getPropertyValue('font-size'));\r\n    }\r\n  },\r\n\r\n  Object: {\r\n    readValue<T, U>(object: T, path?: string): U {\r\n      if (!path) {\r\n        return object as any as U;\r\n      }\r\n\r\n      let recursed = object as any as IRecursiveObject;\r\n\r\n      for (let i = 0, p = path.split('.'), len = p.length; i < len; i++) {\r\n        recursed = (recursed as any as IRecursiveObject)[p[i]];\r\n      }\r\n\r\n      return recursed as any as U;\r\n    }\r\n  },\r\n\r\n  Math: {\r\n    round(r: number, n: number): number {\r\n      return Math.round(r / n) * n;\r\n    },\r\n    roundUp(r: number, n: number): number {\r\n      return Math.ceil(r / n) * n;\r\n    },\r\n    roundDown(r: number, n: number): number {\r\n      return Math.floor(r / n) * n;\r\n    },\r\n    mod(r: number, n: number): number {\r\n      const rem = r % n;\r\n      if (rem < 0) {\r\n        return rem + n;\r\n      }\r\n      return rem;\r\n    }\r\n  }\r\n};\r\n","import {Util} from './util';\r\n\r\nexport enum DatePrecision {\r\n  Decade = 0,\r\n  Year = 1,\r\n  Month = 2,\r\n  Date = 3,\r\n  Hour = 4,\r\n  Minute = 5\r\n}\r\n\r\nexport const DateUtil = {\r\n  startOf(precision: DatePrecision, date: Date, resetAll: boolean = false): Date {\r\n    switch (precision) {\r\n      case DatePrecision.Decade:\r\n        const start = Math.floor(date.getFullYear() / 10) * 10 + 1;\r\n        date.setFullYear(start);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Year:\r\n        date.setMonth(0);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Month:\r\n        date.setDate(1);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Date:\r\n        date.setHours(0);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Hour:\r\n        date.setMinutes(0);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Minute:\r\n        date.setSeconds(0, 0);\r\n    }\r\n\r\n    return date;\r\n  },\r\n\r\n  endOf(precision: DatePrecision, date: Date): Date {\r\n    switch (precision) {\r\n      case DatePrecision.Year:\r\n        date.setMonth(12, 0);\r\n      // falls through\r\n      case DatePrecision.Month:\r\n        date.setMonth(date.getMonth() + 1, 0);\r\n      // falls through\r\n      case DatePrecision.Date:\r\n        date.setHours(23, 59, 59, 999);\r\n        break;\r\n      case DatePrecision.Hour:\r\n        date.setMinutes(59, 59, 999);\r\n        break;\r\n      case DatePrecision.Minute:\r\n        date.setSeconds(59, 999);\r\n        break;\r\n    }\r\n\r\n    return date;\r\n  },\r\n\r\n  equal(precision: DatePrecision, a: Date, b: Date): boolean {\r\n    let equal = true;\r\n    switch (precision) {\r\n      case DatePrecision.Minute:\r\n        equal = equal && a.getMinutes() === b.getMinutes();\r\n      // falls through\r\n      case DatePrecision.Hour:\r\n        equal = equal && a.getHours() === b.getHours();\r\n      // falls through\r\n      case DatePrecision.Date:\r\n        equal = equal && a.getDate() === b.getDate();\r\n      // falls through\r\n      case DatePrecision.Month:\r\n        equal = equal && a.getMonth() === b.getMonth();\r\n      // falls through\r\n      case DatePrecision.Year:\r\n        equal = equal && a.getFullYear() === b.getFullYear();\r\n    }\r\n    return equal;\r\n  },\r\n\r\n  next(precision: DatePrecision, date: Date): Date {\r\n    return DateUtil.add(precision, date, 1);\r\n  },\r\n\r\n  add(precision: DatePrecision, date: Date, i: number): Date {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n\r\n    switch (precision) {\r\n      case DatePrecision.Decade:\r\n        date.setFullYear(year + i * 10);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Year:\r\n        date.setFullYear(year + i);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Month:\r\n        date.setMonth(month + i);\r\n        if (date.getMonth() !== Util.Math.mod(month + i, 12)) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Date:\r\n        date.setDate(day + i);\r\n        break;\r\n      case DatePrecision.Hour:\r\n        date.setHours(date.getHours() + i);\r\n        break;\r\n      case DatePrecision.Minute:\r\n        date.setMinutes(date.getMinutes() + i);\r\n        break;\r\n    }\r\n    return date;\r\n  },\r\n\r\n  previous(precision: DatePrecision, date: Date): Date {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n\r\n    switch (precision) {\r\n      case DatePrecision.Decade:\r\n        date.setFullYear(year - 10);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Year:\r\n        date.setFullYear(year - 1);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Month:\r\n        date.setMonth(month - 1);\r\n        if (date.getMonth() !== Util.Math.mod(month - 1, 12)) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Date:\r\n        date.setDate(day - 1);\r\n        break;\r\n      case DatePrecision.Hour:\r\n        const hours = date.getHours();\r\n        date.setHours(hours - 1);\r\n        if (date.getHours() !== Util.Math.mod(hours - 1, 24)) {\r\n          date.setHours(hours - 2);\r\n        }\r\n        break;\r\n      case DatePrecision.Minute:\r\n        const minutes = date.getMinutes();\r\n        date.setMinutes(minutes - 1);\r\n    }\r\n    return date;\r\n  },\r\n\r\n  clone(date: Date): Date {\r\n    return new Date(date.getTime());\r\n  }\r\n};\r\n","import {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Injectable,\r\n  Injector,\r\n  Provider,\r\n  ReflectiveInjector,\r\n  TemplateRef,\r\n  Type,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nexport interface IImplicitContext<T> {\r\n  $implicit?: T;\r\n}\r\n\r\n@Injectable()\r\nexport class FuiComponentFactory {\r\n  constructor(private _applicationRef: ApplicationRef,\r\n              private _componentFactoryResolver: ComponentFactoryResolver,\r\n              private _injector: Injector) {\r\n  }\r\n\r\n  public createComponent<T>(type: Type<T>, providers: Provider[] = []): ComponentRef<T> {\r\n    // Resolve a factory for creating components of type `type`.\r\n    const factory = this._componentFactoryResolver.resolveComponentFactory(type as Type<T>);\r\n\r\n    // Resolve and create an injector with the specified providers.\r\n    const injector = ReflectiveInjector.resolveAndCreate(\r\n      providers,\r\n      this._injector\r\n    );\r\n\r\n    // Create a component using the previously resolved factory & injector.\r\n    const componentRef = factory.create(injector);\r\n\r\n    return componentRef;\r\n  }\r\n\r\n  public createView<T, U extends IImplicitContext<T>>(viewContainer: ViewContainerRef, template: TemplateRef<U>, context: U): void {\r\n    viewContainer.createEmbeddedView<U>(template, context);\r\n  }\r\n\r\n  // Inserts the component into the specified view container.\r\n  public attachToView<T>(componentRef: ComponentRef<T>, viewContainer: ViewContainerRef): void {\r\n    viewContainer.insert(componentRef.hostView, 0);\r\n  }\r\n\r\n  // Inserts the component in the root application node.\r\n  public attachToApplication<T>(componentRef: ComponentRef<T>): void {\r\n    this._applicationRef.attachView(componentRef.hostView);\r\n  }\r\n\r\n  // Detaches the component from the root application node.\r\n  public detachFromApplication<T>(componentRef: ComponentRef<T>): void {\r\n    this._applicationRef.detachView(componentRef.hostView);\r\n  }\r\n\r\n  // Moves the component to the specified DOM element.\r\n  public moveToElement<T>(componentRef: ComponentRef<T>, element: Element): void {\r\n    element.appendChild(componentRef.location.nativeElement);\r\n  }\r\n\r\n  // Moves the component to the document body.\r\n  public moveToDocumentBody<T>(componentRef: ComponentRef<T>): void {\r\n    this.moveToElement(componentRef, document.querySelector('body')!);\r\n  }\r\n\r\n  public detachFromDocument<T>(componentRef: ComponentRef<T>): void {\r\n    const element = componentRef.location.nativeElement as Element;\r\n    // We can't use `element.remove()` due to lack of IE11 support.\r\n    if (element.parentNode) {\r\n      element.parentNode.removeChild(element);\r\n    }\r\n  }\r\n}\r\n","import {ElementRef} from '@angular/core';\r\nimport Popper, {Data, Modifiers, Placement, PopperOptions} from 'popper.js';\r\n\r\ntype PopperModifiers = Modifiers & {\r\n  computeStyle?: {\r\n    gpuAcceleration: boolean;\r\n  };\r\n};\r\ntype PopperInstance = Popper & {\r\n  options: PopperOptions & {\r\n    modifiers: PopperModifiers;\r\n  };\r\n};\r\n\r\nexport type PositioningPlacement = 'auto' |\r\n  'top left' | 'top' | 'top right' |\r\n  'bottom left' | 'bottom' | 'bottom right' |\r\n  'left top' | 'left' | 'left bottom' |\r\n  'right top' | 'right' | 'right bottom';\r\n\r\nexport const PositioningPlacement = {\r\n  Auto: 'auto' as PositioningPlacement,\r\n  TopLeft: 'top left' as PositioningPlacement,\r\n  Top: 'top' as PositioningPlacement,\r\n  TopRight: 'top right' as PositioningPlacement,\r\n  LeftTop: 'left top' as PositioningPlacement,\r\n  Left: 'left' as PositioningPlacement,\r\n  LeftBottom: 'left bottom' as PositioningPlacement,\r\n  BottomLeft: 'bottom left' as PositioningPlacement,\r\n  Bottom: 'bottom' as PositioningPlacement,\r\n  BottomRight: 'bottom right' as PositioningPlacement,\r\n  RightTop: 'right top' as PositioningPlacement,\r\n  Right: 'right' as PositioningPlacement,\r\n  RightBottom: 'right bottom' as PositioningPlacement\r\n};\r\n\r\nexport interface IPositionBoundingBox {\r\n  width: number;\r\n  height: number;\r\n  top: number;\r\n  left: number;\r\n  bottom: number;\r\n  right: number;\r\n}\r\n\r\nfunction placementToPopper(placement: PositioningPlacement): Placement {\r\n  if (!placement || placement === PositioningPlacement.Auto) {\r\n    return 'auto';\r\n  }\r\n\r\n  // All placements of the format: `direction alignment`, e.g. `top left`.\r\n  const [direction, alignment] = placement.split(' ');\r\n\r\n  // Direction alone covers case of just `top`, `left`, `bottom`, `right`.\r\n  const chosenPlacement = [direction];\r\n\r\n  // Add `start` / `end` to placement, depending on alignment direction.\r\n  switch (alignment) {\r\n    case 'top':\r\n    case 'left':\r\n      chosenPlacement.push('start');\r\n      break;\r\n    case 'bottom':\r\n    case 'right':\r\n      chosenPlacement.push('end');\r\n      break;\r\n  }\r\n\r\n  // Join with hyphen to create Popper compatible placement.\r\n  return chosenPlacement.join('-') as Placement;\r\n}\r\n\r\nfunction popperToPlacement(popper: string): PositioningPlacement {\r\n  if (!popper || popper === 'auto') {\r\n    return 'auto';\r\n  }\r\n\r\n  const [direction, alignment] = popper.split('-');\r\n\r\n  const chosenPlacement = [direction];\r\n\r\n  switch (direction) {\r\n    case 'top':\r\n    case 'bottom':\r\n      switch (alignment) {\r\n        case 'start':\r\n          chosenPlacement.push('left');\r\n          break;\r\n        case 'end':\r\n          chosenPlacement.push('right');\r\n          break;\r\n      }\r\n      break;\r\n    case 'left':\r\n    case 'right':\r\n      switch (alignment) {\r\n        case 'start':\r\n          chosenPlacement.push('top');\r\n          break;\r\n        case 'end':\r\n          chosenPlacement.push('bottom');\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n\r\n  return chosenPlacement.join(' ') as PositioningPlacement;\r\n}\r\n\r\nexport class PositioningService {\r\n\r\n  public readonly anchor: ElementRef;\r\n  public readonly subject: ElementRef;\r\n  private _popper: PopperInstance;\r\n  private _popperState: Data;\r\n  private _arrowSelector: string | undefined;\r\n\r\n  constructor(anchor: ElementRef, subject: ElementRef, placement: PositioningPlacement, arrowSelector?: string) {\r\n    this.anchor = anchor;\r\n    this.subject = subject;\r\n    this._placement = placement;\r\n    this._arrowSelector = arrowSelector;\r\n    this.init();\r\n  }\r\n\r\n  public get actualPlacement(): PositioningPlacement {\r\n    if (!this._popperState) {\r\n      return PositioningPlacement.Auto;\r\n    }\r\n\r\n    return popperToPlacement(this._popperState.placement);\r\n  }\r\n\r\n  public get state(): Data {\r\n    return this._popperState;\r\n  }\r\n\r\n  private _placement: PositioningPlacement;\r\n\r\n  public get placement(): PositioningPlacement {\r\n    return this._placement;\r\n  }\r\n\r\n  public set placement(placement: PositioningPlacement) {\r\n    this._placement = placement;\r\n    if (this._popper) {\r\n      this._popper.options.placement = placementToPopper(placement);\r\n    }\r\n  }\r\n\r\n  private _hasArrow: boolean;\r\n\r\n  public set hasArrow(hasArrow: boolean) {\r\n    this._hasArrow = hasArrow;\r\n  }\r\n\r\n  public init(): void {\r\n    const modifiers: PopperModifiers = {\r\n      computeStyle: {\r\n        gpuAcceleration: false\r\n      },\r\n      preventOverflow: {\r\n        escapeWithReference: true,\r\n        boundariesElement: document.body\r\n      },\r\n      arrow: {\r\n        element: this._arrowSelector\r\n      },\r\n      offset: {\r\n        fn: (data: Popper.Data) => {\r\n          if (this._hasArrow) {\r\n            const offsets = this.calculateOffsets();\r\n            data.offsets.popper.left += offsets.left;\r\n            data.offsets.popper.top += offsets.top;\r\n          }\r\n          return data;\r\n        }\r\n      }\r\n    };\r\n\r\n    if (!this._arrowSelector) {\r\n      delete modifiers.arrow;\r\n    }\r\n\r\n    this._popper = new Popper(\r\n      this.anchor.nativeElement,\r\n      this.subject.nativeElement,\r\n      {\r\n        placement: placementToPopper(this._placement),\r\n        modifiers,\r\n        onCreate: initial => this._popperState = initial,\r\n        onUpdate: update => this._popperState = update\r\n      }) as PopperInstance;\r\n  }\r\n\r\n  public update(): void {\r\n    this._popper.update();\r\n  }\r\n\r\n  public destroy(): void {\r\n    this._popper.destroy();\r\n  }\r\n\r\n  private calculateOffsets(): Popper.Offset {\r\n    let left = 0;\r\n    let top = 0;\r\n\r\n    // To support correct positioning for all popup sizes we should calculate offset using em\r\n    const fontSize = parseFloat(window.getComputedStyle(this.subject.nativeElement).getPropertyValue('font-size'));\r\n    // The Fomantic UI popup arrow width and height are 0.71428571em and the margin from the popup edge is 1em\r\n    const arrowCenter = (0.71428571 / 2 + 1) * fontSize;\r\n\r\n    if (this.anchor.nativeElement.offsetWidth <= arrowCenter * 2) {\r\n      const anchorCenterWidth = this.anchor.nativeElement.offsetWidth / 2;\r\n      if (this._placement === PositioningPlacement.TopLeft || this._placement === PositioningPlacement.BottomLeft) {\r\n        left = anchorCenterWidth - arrowCenter;\r\n      }\r\n      if (this._placement === PositioningPlacement.TopRight || this._placement === PositioningPlacement.BottomRight) {\r\n        left = arrowCenter - anchorCenterWidth;\r\n      }\r\n    }\r\n\r\n    if (this.anchor.nativeElement.offsetHeight <= arrowCenter * 2) {\r\n      const anchorCenterHeight = this.anchor.nativeElement.offsetHeight / 2;\r\n      if (this._placement === PositioningPlacement.LeftTop || this._placement === PositioningPlacement.RightTop) {\r\n        top = anchorCenterHeight - arrowCenter;\r\n      }\r\n      if (this._placement === PositioningPlacement.LeftBottom || this._placement === PositioningPlacement.RightBottom) {\r\n        top = arrowCenter - anchorCenterHeight;\r\n      }\r\n    }\r\n    return {top, left, width: 0, height: 0};\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiComponentFactory} from './services/component-factory.service';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  providers: [\r\n    FuiComponentFactory\r\n  ]\r\n})\r\nexport class FuiUtilityModule {\r\n}\r\n","import {Component, ElementRef, Input, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {MessageConfig} from '../classes/message-config';\r\nimport {ActiveMessage, FuiActiveMessage} from '../classes/active-message';\r\nimport {FuiMessage} from './message';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {MessageController} from '../classes/message-controller';\r\n\r\n@Component({\r\n  selector: 'fui-message-container',\r\n  template: `\r\n<div #containerSibling></div>\r\n`,\r\n  styles: [`\r\n:host {\r\n    display: block;\r\n}\r\n:host >>> fui-message {\r\n    display: block;\r\n    margin-bottom: 1rem;\r\n}\r\n:host >>> fui-message:last-of-type {\r\n    margin-bottom: 0;\r\n}\r\n:host >>> fui-message {\r\n    cursor: pointer;\r\n}\r\n`]\r\n})\r\nexport class FuiMessageContainer {\r\n  @ViewChild('containerSibling', {read: ViewContainerRef, static: false})\r\n  public containerSibling: ViewContainerRef;\r\n  private _messages: ActiveMessage[];\r\n  private _queue: ActiveMessage[];\r\n\r\n  constructor(private _componentFactory: FuiComponentFactory, private _element: ElementRef) {\r\n    this._messages = [];\r\n    this._queue = [];\r\n  }\r\n\r\n  @Input()\r\n  public set controller(controller: MessageController) {\r\n    controller.registerContainer(this);\r\n  }\r\n\r\n  public show(config: MessageConfig, maxShown: number, showNewestFirst: boolean): FuiActiveMessage {\r\n    const componentRef = this._componentFactory.createComponent(FuiMessage);\r\n    componentRef.instance.loadConfig(config);\r\n\r\n    const active = new ActiveMessage(config, componentRef)\r\n      .onDismiss(() => this.onMessageClose(active, showNewestFirst));\r\n\r\n    if (this._messages.length < maxShown) {\r\n      this.open(active, showNewestFirst);\r\n    } else {\r\n      this.queue(active);\r\n    }\r\n\r\n    return active;\r\n  }\r\n\r\n  public dismissAll(): void {\r\n    this._queue = [];\r\n    this._messages.forEach(m => m.dismiss());\r\n  }\r\n\r\n  private open(message: ActiveMessage, showNewestFirst: boolean): void {\r\n    this._messages.push(message);\r\n\r\n    this._componentFactory.attachToView(message.componentRef, this.containerSibling);\r\n    if (!showNewestFirst) {\r\n      this._componentFactory.moveToElement(message.componentRef, this._element.nativeElement);\r\n    }\r\n\r\n    message.component.show();\r\n  }\r\n\r\n  private queue(message: ActiveMessage): void {\r\n    this._queue.push(message);\r\n  }\r\n\r\n  private onMessageClose(message: ActiveMessage, showNewestFirst: boolean): void {\r\n    this._messages = this._messages.filter(m => m !== message);\r\n\r\n    if (this._queue.length > 0) {\r\n      const [queued] = this._queue.slice(0, 1);\r\n\r\n      this.open(queued, showNewestFirst);\r\n    }\r\n  }\r\n}\r\n","import {Component, HostListener} from '@angular/core';\r\nimport {MessageController} from '../classes/message-controller';\r\nimport {IDynamicClasses, Util} from '../../../misc/util/internal';\r\n\r\nexport type MessagePosition = 'top' | 'top-left' | 'top-right' |\r\n  'bottom' | 'bottom-left' | 'bottom-right';\r\n\r\nexport const MessagePosition = {\r\n  Top: 'top' as MessagePosition,\r\n  TopLeft: 'top-left' as MessagePosition,\r\n  TopRight: 'top-right' as MessagePosition,\r\n  Bottom: 'bottom' as MessagePosition,\r\n  BottomLeft: 'bottom-left' as MessagePosition,\r\n  BottomRight: 'bottom-right' as MessagePosition\r\n};\r\n\r\n@Component({\r\n  selector: 'fui-message-global-container',\r\n  template: `\r\n<div class=\"global container\" [ngClass]=\"dynamicClasses\" [style.width.px]=\"dynamicWidth\">\r\n    <fui-message-container [controller]=\"controller\"></fui-message-container>\r\n</div>\r\n`,\r\n  styles: [`\r\n.global.container {\r\n    display: block;\r\n    position: fixed;\r\n}\r\n.global.container.top {\r\n    top: 1rem;\r\n}\r\n.global.container.bottom {\r\n    bottom: 1rem;\r\n}\r\n.global.container.left {\r\n    left: 1rem;\r\n}\r\n.global.container.right {\r\n    right: 1rem;\r\n}\r\n.global.container:not(.left):not(.right) {\r\n    left: 1rem;\r\n}\r\n`]\r\n})\r\nexport class FuiMessageGlobalContainer {\r\n  public controller: MessageController;\r\n\r\n  public position: MessagePosition;\r\n  public width: number;\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n\r\n    this.position\r\n      .split('-')\r\n      .forEach(p => classes[p] = true);\r\n\r\n    return classes;\r\n  }\r\n\r\n  public get dynamicWidth(): number {\r\n    const margin = Util.DOM.getDocumentFontSize();\r\n    let width = this.width;\r\n\r\n    if (this.position === MessagePosition.Top ||\r\n      this.position === MessagePosition.Bottom ||\r\n      window.innerWidth < width + margin * 2) {\r\n\r\n      width = window.innerWidth - margin * 2;\r\n    }\r\n\r\n    return width;\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  public onDocumentResize(): void {\r\n  }\r\n}\r\n","import {ComponentRef, Injectable} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {MessagePosition, FuiMessageGlobalContainer} from '../components/message-global-container';\r\nimport {IMessageController, MessageController} from '../classes/message-controller';\r\nimport {MessageConfig} from '../classes/message-config';\r\nimport {FuiActiveMessage} from '../classes/active-message';\r\n\r\n@Injectable()\r\nexport class FuiMessageService implements IMessageController {\r\n  private _controller: MessageController;\r\n  private _containerRef: ComponentRef<FuiMessageGlobalContainer>;\r\n\r\n  constructor(private _componentFactory: FuiComponentFactory) {\r\n    this._controller = new MessageController();\r\n\r\n    this._containerRef = this._componentFactory.createComponent(FuiMessageGlobalContainer);\r\n    this._container.controller = this._controller;\r\n\r\n    this._componentFactory.attachToApplication(this._containerRef);\r\n    this._componentFactory.moveToDocumentBody(this._containerRef);\r\n\r\n    this.position = MessagePosition.TopRight;\r\n    this.width = 480;\r\n  }\r\n\r\n  public get position(): MessagePosition {\r\n    return this._container.position;\r\n  }\r\n\r\n  public set position(position: MessagePosition) {\r\n    this._container.position = position;\r\n  }\r\n\r\n  public get width(): number {\r\n    return this._container.width;\r\n  }\r\n\r\n  public set width(width: number) {\r\n    this._container.width = width;\r\n  }\r\n\r\n  public get maxShown(): number {\r\n    return this._controller.maxShown;\r\n  }\r\n\r\n  public set maxShown(max: number) {\r\n    this._controller.maxShown = max;\r\n  }\r\n\r\n  public get isNewestOnTop(): boolean {\r\n    return this._controller.isNewestOnTop;\r\n  }\r\n\r\n  public set isNewestOnTop(value: boolean) {\r\n    this._controller.isNewestOnTop = value;\r\n  }\r\n\r\n  private get _container(): FuiMessageGlobalContainer {\r\n    return this._containerRef.instance;\r\n  }\r\n\r\n  public show(config: MessageConfig): FuiActiveMessage {\r\n    return this._controller.show(config);\r\n  }\r\n\r\n  public dismissAll(): void {\r\n    return this._controller.dismissAll();\r\n  }\r\n}\r\n","import {Component, HostBinding, Input} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'fui-progress',\r\n  template: `\r\n<div class=\"bar\"\r\n    [style.width.%]=\"percentage\"\r\n    [style.minWidth]=\"canCompletelyEmpty ? 0 : null\"\r\n    [style.transitionTimingFunction]=\"transition\"\r\n    [style.transitionDuration.ms]=\"transitionDuration\">\r\n    <div class=\"progress\" *ngIf=\"showProgress\">{{ percentage }}%</div>\r\n</div>\r\n<div class=\"label\">\r\n    <ng-content></ng-content>\r\n</div>\r\n`,\r\n  styles: [`\r\n.bar {\r\n    transition-duration: 300ms !important;\r\n    z-index: 1;\r\n}\r\n`]\r\n})\r\nexport class FuiProgress {\r\n  @Input()\r\n  public transition: string;\r\n\r\n  @Input()\r\n  public transitionDuration: number;\r\n\r\n  @Input()\r\n  public canCompletelyEmpty: boolean;\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.progress')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public autoSuccess: boolean;\r\n  @Input()\r\n  public showProgress: boolean;\r\n  private _overrideSuccess: boolean;\r\n\r\n  constructor() {\r\n    this.value = 0;\r\n    this.maximum = 100;\r\n    this.precision = 0;\r\n\r\n    this._overrideSuccess = false;\r\n    this.autoSuccess = true;\r\n    this.showProgress = true;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostBinding('class.success')\r\n  public get reachedMaximum(): boolean {\r\n    return this._overrideSuccess || ((this.value >= this.maximum) && this.autoSuccess);\r\n  }\r\n\r\n  @HostBinding('attr.data-percent')\r\n  public get percentage(): string {\r\n    const boundedValue = Math.min(Math.max(this.value, 0), this.maximum);\r\n\r\n    const percentage = (boundedValue / this.maximum) * 100;\r\n\r\n    return percentage.toFixed(this.precision);\r\n  }\r\n\r\n  @Input('class')\r\n  public set classValue(classes: string) {\r\n    if (classes.includes('attached') || classes.includes('tiny')) {\r\n      this.showProgress = false;\r\n    }\r\n    if (classes.includes('success')) {\r\n      this._overrideSuccess = true;\r\n    }\r\n\r\n    this.transition = 'ease';\r\n    this.transitionDuration = 350;\r\n    this.canCompletelyEmpty = false;\r\n  }\r\n\r\n  private _value: number;\r\n\r\n  @Input()\r\n  public get value(): number {\r\n    return this._value;\r\n  }\r\n\r\n  public set value(value: number) {\r\n    // Convert value from string to number where necessary.\r\n    const converted = +value;\r\n\r\n    if (Number.isNaN(converted)) {\r\n      return;\r\n    }\r\n\r\n    this._value = converted;\r\n  }\r\n\r\n  private _maximum: number;\r\n\r\n  @Input()\r\n  public get maximum(): number {\r\n    return this._maximum;\r\n  }\r\n\r\n  public set maximum(value: number) {\r\n    // Convert value from string to number where necessary.\r\n    const converted = +value;\r\n\r\n    if (Number.isNaN(converted)) {\r\n      return;\r\n    }\r\n\r\n    this._maximum = converted;\r\n  }\r\n\r\n  private _precision: number;\r\n\r\n  @Input()\r\n  public get precision(): number {\r\n    return this._precision;\r\n  }\r\n\r\n  public set precision(value: number) {\r\n    // Convert value from string to number where necessary.\r\n    const converted = +value;\r\n\r\n    if (Number.isNaN(converted)) {\r\n      return;\r\n    }\r\n\r\n    this._precision = Math.min(Math.max(converted, 0), 20);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiProgress} from './components/progress';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiProgress\r\n  ],\r\n  exports: [\r\n    FuiProgress\r\n  ]\r\n})\r\nexport class FuiProgressModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../../modules/transition/internal';\r\nimport {FuiProgressModule} from '../../modules/progress/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\n\r\nimport {FuiMessageContainer} from './components/message-container';\r\nimport {FuiMessage} from './components/message';\r\nimport {FuiMessageGlobalContainer} from './components/message-global-container';\r\nimport {FuiMessageService} from './services/message-service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule,\r\n    FuiProgressModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiMessage,\r\n    FuiMessageContainer,\r\n    FuiMessageGlobalContainer\r\n  ],\r\n  exports: [\r\n    FuiMessage,\r\n    FuiMessageContainer\r\n  ],\r\n  providers: [\r\n    FuiMessageService\r\n  ],\r\n  entryComponents: [\r\n    FuiMessage,\r\n    FuiMessageGlobalContainer\r\n  ]\r\n})\r\nexport class FuiMessageModule {\r\n}\r\n","import {Component, EventEmitter, HostBinding, Input, OnChanges, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'fui-pagination',\r\n  template: `\r\n<a *ngIf=\"hasBoundaryLinks\" class=\"item\"  (click)=\"setPage(1)\" [class.disabled]=\"page===1\">\r\n    <span><i class=\"angle double left icon\"></i></span>\r\n</a>\r\n<a *ngIf=\"hasNavigationLinks\" class=\"item\" (click)=\"setPage(page-1)\" [class.disabled]=\"!hasPrevious()\">\r\n    <span><i class=\"angle left icon\"></i></span>\r\n</a>\r\n<ng-container *ngIf=\"hasEllipses\">\r\n    <a class=\"item\" (click)=\"setPage(1)\" *ngIf=\"pages[0] !== 1\">\r\n        <span>1</span>\r\n    </a>\r\n    <a class=\"disabled item\" *ngIf=\"pages[0] > 2\">...</a>\r\n</ng-container>\r\n<a *ngFor=\"let p of pages\" class=\"item\" [class.active]=\"p===page\" (click)=\"setPage(p)\">\r\n    {{ p }}\r\n</a>\r\n<ng-container *ngIf=\"hasEllipses\">\r\n    <a class=\"disabled item\" *ngIf=\"pages[pages.length - 1] < pageCount - 1\">...</a>\r\n    <a class=\"item\" (click)=\"setPage(pageCount)\" *ngIf=\"pages[pages.length - 1] !== pageCount\">\r\n        <span>{{ pageCount }}</span>\r\n    </a>\r\n</ng-container>\r\n<a *ngIf=\"hasNavigationLinks\" class=\"item\" (click)=\"setPage(page+1)\" [class.disabled]=\"!hasNext()\">\r\n    <span><i class=\"angle right icon\"></i></span>\r\n</a>\r\n<a *ngIf=\"hasBoundaryLinks\" class=\"item\"  (click)=\"setPage(pageCount)\" [class.disabled]=\"page===pageCount\">\r\n    <span><i class=\"angle double right icon\"></i></span>\r\n</a>\r\n`,\r\n  styles: [`\r\n:host .item {\r\n    transition: none;\r\n}\r\n`]\r\n})\r\nexport class FuiPagination implements OnChanges {\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.pagination')\r\n  @HostBinding('class.menu')\r\n  public readonly hasClasses: boolean;\r\n  // Public members\r\n  public pageCount: number;\r\n  @Output()\r\n  public pageChange: EventEmitter<number>;\r\n  @Input()\r\n  public pageSize: number;\r\n  @Input()\r\n  public hasBoundaryLinks: boolean;\r\n  @Input()\r\n  public canRotate: boolean;\r\n  @Input()\r\n  public hasEllipses: boolean;\r\n\r\n  constructor() {\r\n    this.hasClasses = true;\r\n    this.pageChange = new EventEmitter<number>();\r\n\r\n    this.pageSize = 10;\r\n    this._page = 1;\r\n    this._pages = [];\r\n    this.pageCount = 1;\r\n    this.hasNavigationLinks = true;\r\n    this.hasBoundaryLinks = false;\r\n    this.canRotate = false;\r\n    this.hasEllipses = true;\r\n  }\r\n\r\n  // Private members\r\n  private _maxSize?: number;\r\n\r\n  @Input()\r\n  public get maxSize(): number | undefined {\r\n    return this._maxSize;\r\n  }\r\n\r\n  public set maxSize(value: number | undefined) {\r\n    this._maxSize = (value != undefined) ? Math.max(value, 1) : undefined;\r\n  }\r\n\r\n  private _collectionSize: number;\r\n\r\n  @Input()\r\n  public get collectionSize(): number {\r\n    return this._collectionSize;\r\n  }\r\n\r\n  public set collectionSize(value: number) {\r\n    this._collectionSize = Math.max(value, 0);\r\n    this.pageCount = Math.max(1, Math.ceil(this._collectionSize / this.pageSize));\r\n  }\r\n\r\n  private _page: number;\r\n\r\n  @Input()\r\n  public get page(): number {\r\n    return this._page;\r\n  }\r\n\r\n  public set page(value: number) {\r\n    this.setPage(value);\r\n  }\r\n\r\n  private _pages: number[];\r\n\r\n  public get pages(): number[] {\r\n    return this._pages;\r\n  }\r\n\r\n  private _hasNavigationLinks: boolean;\r\n\r\n  @Input()\r\n  public get hasNavigationLinks(): boolean {\r\n    const maxSize = this._maxSize || this.pageCount;\r\n    return this._hasNavigationLinks || maxSize < this.pageCount;\r\n  }\r\n\r\n  public set hasNavigationLinks(value: boolean) {\r\n    this._hasNavigationLinks = value;\r\n  }\r\n\r\n  // Public methods\r\n  public hasPrevious(): boolean {\r\n    return this.page > 1;\r\n  }\r\n\r\n  public hasNext(): boolean {\r\n    return this.page < this.pageCount;\r\n  }\r\n\r\n  public setPage(newPage: number): void {\r\n    const value: number = (Number.isInteger(newPage)) ? Math.min(Math.max(newPage, 1), this.pageCount) : 1;\r\n    if (value !== this._page) {\r\n      this._page = value;\r\n      this.pageChange.emit(this._page);\r\n    }\r\n  }\r\n\r\n  // Lifecycle hooks\r\n  public ngOnChanges(): void {\r\n    this.updatePages();\r\n  }\r\n\r\n  // Private methods\r\n  private updatePages(): void {\r\n    this.pageCount = Math.max(1, Math.ceil(this._collectionSize / this.pageSize));\r\n\r\n    const [start, end] = this.applyPagination();\r\n\r\n    this._pages = Array<number>(end - start)\r\n      .fill(start + 1)\r\n      .map((s, i) => s + i);\r\n  }\r\n\r\n  private applyPagination(): [number, number] {\r\n    const maxSize = (this.maxSize != undefined) ? Math.min(this.maxSize, this.pageCount) : this.pageCount;\r\n\r\n    const page = Math.ceil(this.page / maxSize) - 1;\r\n    let start = 0;\r\n    let end = this.pageCount;\r\n\r\n    if (this.canRotate) {\r\n      const leftOffset = Math.floor(maxSize / 2);\r\n      const rightOffset = maxSize % 2 === 0 ? leftOffset - 1 : leftOffset;\r\n\r\n      if (this.page <= leftOffset) {\r\n        end = maxSize;\r\n      } else if (this.pageCount - this.page < leftOffset) {\r\n        start = this.pageCount - maxSize;\r\n      } else {\r\n        start = this.page - leftOffset - 1;\r\n        end = this.page + rightOffset;\r\n      }\r\n    } else {\r\n      start = page * maxSize;\r\n      end = start + maxSize;\r\n    }\r\n\r\n    return [start, Math.min(end, this.pageCount)];\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {FuiPagination} from './components/pagination';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [FuiPagination],\r\n  declarations: [FuiPagination],\r\n  providers: []\r\n})\r\nexport class FuiPaginationModule {\r\n}\r\n","import {ChangeDetectorRef, Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {FuiAccordionService} from '../services/accordion.service';\r\nimport {Transition, TransitionController} from '../../transition/internal';\r\n\r\n@Component({\r\n  selector: 'fui-accordion-panel',\r\n  exportAs: 'fuiAccordionPanel',\r\n  template: `\r\n<!-- Title -->\r\n<div class=\"title\" [class.active]=\"isOpen\" (click)=\"toggle()\" >\r\n    <ng-content select=\"[title]\"></ng-content>\r\n</div>\r\n<!-- Content -->\r\n<div [fuiCollapse]=\"!isOpen\" [collapseDuration]=\"transitionDuration\">\r\n    <div class=\"content\" [class.active]=\"isOpen\" [fuiTransition]=\"transitionController\">\r\n        <ng-content select=\"[content]\"></ng-content>\r\n    </div>\r\n</div>\r\n`,\r\n  styles: [`\r\n/* Manual style as Fomantic UI relies on > selector */\r\n.content {\r\n    padding: .5em 0 1em;\r\n}\r\n\r\n/* Another > selector fix */\r\n:host:first-child .title {\r\n    border-top: none;\r\n}\r\n`]\r\n})\r\nexport class FuiAccordionPanel {\r\n\r\n  public transitionController: TransitionController;\r\n  @Input()\r\n  public isDisabled: boolean;\r\n  @Output()\r\n  public isOpenChange: EventEmitter<boolean>;\r\n\r\n  constructor(private _changeDetector: ChangeDetectorRef) {\r\n    this.transitionController = new TransitionController(false);\r\n\r\n    this._isOpen = false;\r\n    this.isOpenChange = new EventEmitter<boolean>(false);\r\n  }\r\n\r\n  public get transition(): string {\r\n    if (this._service) {\r\n      return this._service.transition;\r\n    }\r\n\r\n    return 'fade';\r\n  }\r\n\r\n  public get transitionDuration(): number {\r\n    if (this._service) {\r\n      // Return the service defined transition duration.\r\n      return this._service.transitionDuration;\r\n    }\r\n    // Revert to instantaneous if the service is not yet loaded.\r\n    return 0;\r\n  }\r\n\r\n  private _service: FuiAccordionService;\r\n\r\n  public set service(service: FuiAccordionService) {\r\n    this._service = service;\r\n    this._changeDetector.detectChanges();\r\n  }\r\n\r\n  private _isOpen: boolean;\r\n\r\n  @Input()\r\n  public get isOpen(): boolean {\r\n    return this._isOpen;\r\n  }\r\n\r\n  public set isOpen(value: boolean) {\r\n    // Convert to boolean (fixes false != undefined)\r\n    const isOpen = !!value;\r\n\r\n    if (isOpen !== this.isOpen) {\r\n      // Only update if the value has changed.\r\n      this._isOpen = isOpen;\r\n\r\n      if (isOpen && this._service) {\r\n        // If we are opening this panel, we must close the other ones.\r\n        this._service.closeOtherPanels(this);\r\n      }\r\n      this.isOpenChange.emit(this.isOpen);\r\n\r\n      // Cancel all current animations, and fade the contents. The direction is automatic.\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(new Transition(this.transition, this.transitionDuration));\r\n    }\r\n  }\r\n\r\n  public toggle(): void {\r\n    if (!this.isDisabled) {\r\n      this.isOpen = !this.isOpen;\r\n    }\r\n  }\r\n}\r\n","import {FuiAccordionPanel} from '../components/accordion-panel';\r\n\r\nexport class FuiAccordionService {\r\n  public closeOthers: boolean;\r\n\r\n  public transition: string;\r\n  public transitionDuration: number;\r\n\r\n  public panels: FuiAccordionPanel[];\r\n\r\n  constructor() {\r\n    this.closeOthers = true;\r\n\r\n    this.transition = 'fade';\r\n    this.transitionDuration = 350;\r\n\r\n    this.panels = [];\r\n  }\r\n\r\n  public addPanel(panel: FuiAccordionPanel): void {\r\n    panel.service = this;\r\n    this.panels.push(panel);\r\n  }\r\n\r\n  public closeOtherPanels(panel: FuiAccordionPanel): void {\r\n    if (!this.closeOthers) {\r\n      return;\r\n    }\r\n\r\n    this.panels.forEach(p => {\r\n      if (p !== panel) {\r\n        p.isOpen = false;\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {AfterContentInit, Component, ContentChildren, HostBinding, Input, QueryList} from '@angular/core';\r\nimport {FuiAccordionPanel} from './accordion-panel';\r\nimport {FuiAccordionService} from '../services/accordion.service';\r\n\r\n@Component({\r\n  selector: 'fui-accordion',\r\n  template: `\r\n<ng-content></ng-content>\r\n`,\r\n  styles: [`\r\n/* Fix for general styling issues */\r\n:host {\r\n    display: block;\r\n}\r\n\r\n/* Fix for styled border issue */\r\n:host.styled fui-accordion-panel:first-child .title {\r\n    border-top: none\r\n}\r\n`]\r\n})\r\nexport class FuiAccordion implements AfterContentInit {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.accordion')\r\n  public readonly hasClasses: boolean;\r\n  protected _service: FuiAccordionService;\r\n  @ContentChildren(FuiAccordionPanel)\r\n  protected _panels: QueryList<FuiAccordionPanel>;\r\n\r\n  constructor() {\r\n    // Accordion service is unique to each set of panels.\r\n    this._service = new FuiAccordionService();\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @Input()\r\n  public get closeOthers(): boolean {\r\n    return this._service.closeOthers;\r\n  }\r\n\r\n  public set closeOthers(value: boolean) {\r\n    this._service.closeOthers = value;\r\n  }\r\n\r\n  @Input()\r\n  public set transition(transition: string) {\r\n    this._service.transition = transition;\r\n  }\r\n\r\n  @Input()\r\n  public set transitionDuration(duration: number) {\r\n    this._service.transitionDuration = duration;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this.updatePanels();\r\n\r\n    // Reconnect panels after they have updated.\r\n    this._panels.changes.subscribe(() => this.updatePanels());\r\n  }\r\n\r\n  public updatePanels(): void {\r\n    this._panels.forEach(p => this._service.addPanel(p));\r\n  }\r\n}\r\n","import {Directive, ElementRef, HostBinding, Input, Renderer2} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[fuiCollapse]'\r\n})\r\nexport class FuiCollapse {\r\n\r\n  @Input()\r\n  public collapseDuration: number;\r\n  // Flag that is initially true, to make the 1st animation instantaneous.\r\n  private _pristine: boolean;\r\n\r\n  public constructor(private _element: ElementRef, private _renderer: Renderer2) {\r\n    this._pristine = true;\r\n\r\n    // Collapse animation duration is 350ms by default.\r\n    this.collapseDuration = 350;\r\n\r\n    this._isExpanded = false;\r\n    this._isCollapsing = false;\r\n  }\r\n\r\n  // Set when the collapse is closed, and not animating.\r\n  @HostBinding('class.collapsed')\r\n  public get isCollapsed(): boolean {\r\n    return !this.isExpanded && !this.isCollapsing;\r\n  }\r\n\r\n  @Input()\r\n  public get fuiCollapse(): boolean {\r\n    return this._isExpanded;\r\n  }\r\n\r\n  // Sets the state of the collapse, `true` is collapsed.\r\n  public set fuiCollapse(value: boolean) {\r\n    if (value) {\r\n      this.hide();\r\n    } else {\r\n      this.show();\r\n    }\r\n  }\r\n\r\n  private _isExpanded: boolean;\r\n\r\n  // Set when the collapse is open, and not animating.\r\n  @HostBinding('class.expanded')\r\n  public get isExpanded(): boolean {\r\n    return this._isExpanded;\r\n  }\r\n\r\n  private _isCollapsing: boolean;\r\n\r\n  // Set when the collapse is animating.\r\n  @HostBinding('class.collapsing')\r\n  public get isCollapsing(): boolean {\r\n    return this._isCollapsing;\r\n  }\r\n\r\n  private get _animationDuration(): number {\r\n    return this._pristine ? 0 : this.collapseDuration;\r\n  }\r\n\r\n  public hide(): void {\r\n    this._isCollapsing = true;\r\n    this._isExpanded = false;\r\n\r\n    // Forcibly hide the overflow so that content is not visible past the boundaries of its container.\r\n    this._renderer.setStyle(this._element.nativeElement, 'overflow', 'hidden');\r\n\r\n    // Animate the host element from its scroll height to 0.\r\n    this.animate(this._element.nativeElement.scrollHeight, 0, false, () => {\r\n      this._isCollapsing = false;\r\n    });\r\n  }\r\n\r\n  public show(): void {\r\n    this._isCollapsing = true;\r\n\r\n    // Animate the host element from its offset height to its scroll height.\r\n    this.animate(this._element.nativeElement.offsetHeight, this._element.nativeElement.scrollHeight, true, () => {\r\n      // Remove the overflow override to enable user styling once again.\r\n      this._renderer.removeStyle(this._element.nativeElement, 'overflow');\r\n\r\n      this._isCollapsing = false;\r\n      this._isExpanded = true;\r\n    });\r\n  }\r\n\r\n  private animate(startHeight: number, endHeight: number, removeOnComplete: boolean = false, callback: () => void = () => {\r\n  }): void {\r\n    const heightFrames = [\r\n      {\r\n        offset: 0,\r\n        height: `${startHeight}px`\r\n      },\r\n      {\r\n        offset: 1,\r\n        height: `${endHeight}px`\r\n      }\r\n    ];\r\n\r\n    if (removeOnComplete) {\r\n      heightFrames.push({\r\n        offset: 1,\r\n        height: `auto`\r\n      });\r\n    }\r\n\r\n    // Animate the collapse using the web animations API.\r\n    // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n    this._element.nativeElement.animate(\r\n      heightFrames,\r\n      {\r\n        delay: 0,\r\n        // Disable animation on 1st collapse / expansion.\r\n        duration: this._animationDuration,\r\n        iterations: 1,\r\n        easing: 'ease',\r\n        fill: 'both'\r\n      }\r\n    );\r\n\r\n    if (this._pristine) {\r\n      // Remove pristine flag when first hit.\r\n      this._pristine = false;\r\n    }\r\n\r\n    setTimeout(() => callback(), this.collapseDuration);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiCollapse} from './directives/collapse';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiCollapse\r\n  ],\r\n  exports: [\r\n    FuiCollapse\r\n  ]\r\n})\r\nexport class FuiCollapseModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiCollapseModule} from '../collapse/internal';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiAccordion} from './components/accordion';\r\nimport {FuiAccordionPanel} from './components/accordion-panel';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiCollapseModule,\r\n    FuiTransitionModule\r\n  ],\r\n  declarations: [\r\n    FuiAccordion,\r\n    FuiAccordionPanel\r\n  ],\r\n  exports: [\r\n    FuiAccordion,\r\n    FuiAccordionPanel\r\n  ],\r\n  providers: []\r\n})\r\nexport class FuiAccordionModule {\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input, Output, ViewChild} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-checkbox',\r\n  exportAs: 'fuiCheckbox',\r\n  template: `\r\n<input class=\"hidden\"\r\n       type=\"checkbox\"\r\n       [attr.name]=\"name\"\r\n       [attr.checked]=\"checkedAttribute\"\r\n       [attr.disabled]=\"isDisabledAttribute\"\r\n       [(ngModel)]=\"isChecked\"\r\n       #checkbox>\r\n<label>\r\n    <ng-content></ng-content>\r\n</label>\r\n`\r\n})\r\nexport class FuiCheckbox implements ICustomValueAccessorHost<boolean> {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.checkbox')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input()\r\n  public name: string;\r\n\r\n  @HostBinding('class.checked')\r\n  public isChecked: boolean;\r\n\r\n  @Output('checkChange')\r\n  public onCheckChange: EventEmitter<boolean>;\r\n\r\n  @Output('touched')\r\n  public onTouched: EventEmitter<void>;\r\n\r\n  @Input()\r\n  public isDisabled: boolean;\r\n\r\n  @HostBinding('class.read-only')\r\n  @Input()\r\n  public isReadonly: boolean;\r\n  @ViewChild('checkbox', {static: false})\r\n  private _checkboxElement: ElementRef;\r\n\r\n  constructor() {\r\n    this.isChecked = false;\r\n    this.onCheckChange = new EventEmitter<boolean>();\r\n    this.onTouched = new EventEmitter<void>();\r\n\r\n    this.isDisabled = false;\r\n    this.isReadonly = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get checkedAttribute(): string | undefined {\r\n    return this.isChecked ? '' : undefined;\r\n  }\r\n\r\n  public get isDisabledAttribute(): string | undefined {\r\n    return this.isDisabled ? 'disabled' : undefined;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  public onMouseDown(e: MouseEvent): void {\r\n    e.preventDefault();\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (!this.isDisabled && !this.isReadonly) {\r\n      this.toggle();\r\n      this.focusCheckbox();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout')\r\n  public onFocusOut(): void {\r\n    this.onTouched.emit();\r\n  }\r\n\r\n  public toggle(): void {\r\n    this.isChecked = !this.isChecked;\r\n    this.onCheckChange.emit(this.isChecked);\r\n  }\r\n\r\n  public writeValue(value: boolean): void {\r\n    this.isChecked = value;\r\n  }\r\n\r\n  private focusCheckbox(): void {\r\n    this._checkboxElement.nativeElement.focus();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'fui-checkbox',\r\n  host: {\r\n    '(checkChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiCheckboxValueAccessor)]\r\n})\r\nexport class FuiCheckboxValueAccessor extends CustomValueAccessor<boolean, FuiCheckbox> {\r\n  constructor(host: FuiCheckbox) {\r\n    super(host);\r\n  }\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input, Output, ViewChild} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-radio-button',\r\n  template: `\r\n<input class=\"hidden\"\r\n       type=\"checkbox\"\r\n       [attr.name]=\"name\"\r\n       [attr.checked]=\"checkedAttribute\"\r\n       [attr.disabled]=\"isDisabledAttribute\"\r\n       [ngModel]=\"isChecked\"\r\n       (ngModel)=\"currentValue = value\"\r\n       #radio>\r\n<label>\r\n    <ng-content></ng-content>\r\n</label>\r\n`\r\n})\r\nexport class FuiRadio<T> implements ICustomValueAccessorHost<T> {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.radio')\r\n  @HostBinding('class.checkbox')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input()\r\n  public name: string;\r\n\r\n  @Input()\r\n  public value: T;\r\n\r\n  @HostBinding('class.checked')\r\n  public isChecked: boolean;\r\n\r\n  public currentValue: T;\r\n\r\n  @Output('currentValueChange')\r\n  public onCurrentValueChange: EventEmitter<T>;\r\n\r\n  @Output('touched')\r\n  public onTouched: EventEmitter<void>;\r\n\r\n  @Input()\r\n  public isDisabled: boolean;\r\n\r\n  @HostBinding('class.read-only')\r\n  @Input()\r\n  public isReadonly: boolean;\r\n\r\n  @ViewChild('radio', {static: false})\r\n  private _radioElement: ElementRef;\r\n\r\n  constructor() {\r\n    this.isChecked = false;\r\n    this.onCurrentValueChange = new EventEmitter<T>();\r\n    this.onTouched = new EventEmitter<void>();\r\n\r\n    this.isDisabled = false;\r\n    this.isReadonly = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get checkedAttribute(): string | undefined {\r\n    return this.isChecked ? '' : undefined;\r\n  }\r\n\r\n  public get isDisabledAttribute(): string | undefined {\r\n    return this.isDisabled ? 'disabled' : undefined;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  public onMouseDown(e: MouseEvent): void {\r\n    e.preventDefault();\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (!this.isDisabled && !this.isReadonly) {\r\n      this.currentValue = this.value;\r\n      this.onCurrentValueChange.emit(this.currentValue);\r\n      this.update();\r\n      this.focusRadio();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout')\r\n  public onFocusOut(): void {\r\n    this.onTouched.emit();\r\n  }\r\n\r\n  public update(): void {\r\n    this.isChecked = this.currentValue === this.value;\r\n  }\r\n\r\n  public writeValue(value: T): void {\r\n    this.currentValue = value;\r\n    this.update();\r\n  }\r\n\r\n  private focusRadio(): void {\r\n    this._radioElement.nativeElement.focus();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'fui-radio-button',\r\n  host: {\r\n    '(currentValueChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiRadioValueAccessor)]\r\n})\r\nexport class FuiRadioValueAccessor<T> extends CustomValueAccessor<T, FuiRadio<T>> {\r\n  constructor(host: FuiRadio<T>) {\r\n    super(host);\r\n  }\r\n}\r\n","import {AfterContentInit, ContentChildren, Directive, ElementRef, QueryList} from '@angular/core';\r\nimport {FuiRadio} from '../components/radio';\r\nimport {Subscription} from 'rxjs';\r\nimport {Util} from '../../../misc/util/internal';\r\n\r\n@Directive({\r\n  selector: 'form:not([ngForm]):not([[ngForm]]),ngForm,[ngForm]'\r\n})\r\nexport class FuiRadioManager<T> implements AfterContentInit {\r\n\r\n  public isNested: boolean;\r\n\r\n  @ContentChildren(FuiRadioManager, {descendants: true})\r\n  private _subManagers: QueryList<FuiRadioManager<T>>;\r\n\r\n  @ContentChildren(FuiRadio, {descendants: true})\r\n  private _renderedRadios: QueryList<FuiRadio<T>>;\r\n\r\n  private _radioSubs: Subscription[];\r\n\r\n  constructor(public element: ElementRef) {\r\n    this.isNested = false;\r\n    this._radioSubs = [];\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this.updateNesting();\r\n    this._subManagers.changes.subscribe(() => this.updateNesting());\r\n\r\n    this.updateRadios();\r\n    this._renderedRadios.changes.subscribe(() => this.updateRadios());\r\n  }\r\n\r\n  private updateNesting(): void {\r\n    this._subManagers\r\n      .filter(m => m !== this)\r\n      .forEach(m => m.isNested = true);\r\n  }\r\n\r\n  private updateRadios(): void {\r\n    this._radioSubs.forEach(s => s.unsubscribe());\r\n    this._radioSubs = [];\r\n\r\n    const groups = Util.Array.groupBy(this._renderedRadios.toArray(), 'name');\r\n    Object\r\n      .keys(groups)\r\n      .map(k => groups[k])\r\n      .forEach(g => g\r\n        .forEach(r => this._radioSubs\r\n          .push(r.onCurrentValueChange\r\n            .subscribe((v: T) => {\r\n              if (!this.isNested) {\r\n                g.forEach(radio => radio.writeValue(v));\r\n              }\r\n            }))));\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiCheckbox, FuiCheckboxValueAccessor} from './components/checkbox';\r\nimport {FuiRadio, FuiRadioValueAccessor} from './components/radio';\r\nimport {FuiRadioManager} from './directives/radio-manager';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [\r\n    FuiCheckbox,\r\n    FuiCheckboxValueAccessor,\r\n    FuiRadio,\r\n    FuiRadioValueAccessor,\r\n    FuiRadioManager\r\n  ],\r\n  exports: [\r\n    FuiCheckbox,\r\n    FuiCheckboxValueAccessor,\r\n    FuiRadio,\r\n    FuiRadioValueAccessor,\r\n    FuiRadioManager\r\n  ]\r\n})\r\nexport class FuiCheckboxModule {\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\nimport {IDatepickerLocaleValues} from '../../../behaviors/localization/internal';\r\nimport {DateUtil} from '../../../misc/util/internal';\r\nimport {CalendarViewType} from '../views/calendar-view';\r\nimport {CalendarConfig} from '../classes/calendar-config';\r\n\r\nexport enum CalendarMode {\r\n  DateOnly = 0,\r\n  TimeOnly = 1,\r\n  Both = 2\r\n}\r\n\r\nexport class CalendarService {\r\n\r\n  constructor(config: CalendarConfig, public localeValues: IDatepickerLocaleValues) {\r\n    this.config = config;\r\n\r\n    this.currentDate = new Date();\r\n\r\n    this.firstDayOfWeek = this.localeValues.firstDayOfWeek;\r\n\r\n    this.onDateChange = new EventEmitter<Date>();\r\n\r\n    this.reset();\r\n  }\r\n\r\n  public get inFinalView(): boolean {\r\n    return this.currentView === this.config.mappings.finalView;\r\n  }\r\n\r\n  public get config(): CalendarConfig {\r\n    return this._config;\r\n  }\r\n\r\n  public set config(config: CalendarConfig) {\r\n    this._config = config;\r\n    config.updateBounds(this._selectedDate || this.currentDate);\r\n  }\r\n\r\n  public get selectedDate(): Date | undefined {\r\n    return this._selectedDate;\r\n  }\r\n\r\n  public set selectedDate(date: Date | undefined) {\r\n    if (date) {\r\n      this._selectedDate = DateUtil.clone(date);\r\n      this.currentDate = DateUtil.clone(date);\r\n    } else {\r\n      this._selectedDate = undefined;\r\n    }\r\n\r\n    this.config.updateBounds(this._selectedDate || this.currentDate);\r\n    this.onManualUpdate();\r\n  }\r\n\r\n  public get minDate(): Date | undefined {\r\n    if (this._minDate && this.config.dateMinBound) {\r\n      return this._minDate > this.config.dateMinBound ? this._minDate : this.config.dateMinBound;\r\n    }\r\n    return this._minDate || this.config.dateMinBound;\r\n  }\r\n\r\n  public set minDate(min: Date | undefined) {\r\n    this._minDate = min;\r\n  }\r\n\r\n  public get maxDate(): Date | undefined {\r\n    if (this._maxDate && this.config.dateMaxBound) {\r\n      return this._maxDate < this.config.dateMaxBound ? this._maxDate : this.config.dateMaxBound;\r\n    }\r\n    return this._maxDate || this.config.dateMaxBound;\r\n  }\r\n\r\n  public set maxDate(max: Date | undefined) {\r\n    this._maxDate = max;\r\n  }\r\n\r\n  public get firstDayOfWeek(): number {\r\n    return this._firstDayOfWeek;\r\n  }\r\n\r\n  public set firstDayOfWeek(firstDayOfWeek: number) {\r\n    if (firstDayOfWeek != undefined) {\r\n      this._firstDayOfWeek = Math.max(0, Math.min(6, firstDayOfWeek));\r\n    }\r\n  }\r\n\r\n  public currentView: CalendarViewType;\r\n  public currentDate: Date;\r\n  public onDateChange: EventEmitter<Date>;\r\n\r\n  private _config: CalendarConfig;\r\n\r\n  private _selectedDate?: Date;\r\n\r\n  private _minDate?: Date;\r\n\r\n  private _maxDate?: Date;\r\n\r\n  private _firstDayOfWeek: number;\r\n  public onManualUpdate: () => void = () => {\r\n  }\r\n\r\n  public reset(): void {\r\n    this.currentView = this.config.mappings.finalView;\r\n\r\n    if (!this._selectedDate) {\r\n      let current = this.currentDate.getTime();\r\n      if (this._minDate) {\r\n        current = Math.max(current, this._minDate.getTime());\r\n      }\r\n      if (this._maxDate) {\r\n        current = Math.min(current, this._maxDate.getTime());\r\n      }\r\n\r\n      this.currentDate = new Date(current);\r\n      this.config.updateBounds(this.currentDate);\r\n\r\n      this.currentView = this.config.mappings.initialView;\r\n    }\r\n  }\r\n\r\n  public changeDate(date: Date, fromView: CalendarViewType): void {\r\n    this.currentDate = date;\r\n\r\n    if (fromView === this.config.mappings.finalView) {\r\n      this.selectedDate = date;\r\n\r\n      return this.onDateChange.emit(date);\r\n    }\r\n\r\n    this.updateView(this.config.mappings.changed, fromView);\r\n  }\r\n\r\n  public zoomOut(fromView: CalendarViewType): void {\r\n    this.updateView(this.config.mappings.zoom, fromView);\r\n  }\r\n\r\n  private updateView(mappings: Map<CalendarViewType, CalendarViewType>, fromView: CalendarViewType): void {\r\n    const mapping = mappings.get(fromView);\r\n    if (mapping == undefined) {\r\n      throw new Error('Unknown view type.');\r\n    }\r\n    this.currentView = mapping;\r\n  }\r\n}\r\n","import {ChangeDetectorRef, Directive, EventEmitter, HostBinding, HostListener, Input} from '@angular/core';\r\n\r\nexport class CalendarItem {\r\n  public date: Date;\r\n  public humanReadable: string;\r\n  public isDisabled: boolean;\r\n  public isActive: boolean;\r\n  public isOutsideRange: boolean;\r\n  public isToday: boolean;\r\n  public isSelectable: boolean;\r\n\r\n  constructor(date: Date) {\r\n    this.date = date;\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[calendarItem]'\r\n})\r\nexport class FuiCalendarItem {\r\n  @Input('calendarItem')\r\n  public item: CalendarItem;\r\n  @HostBinding('class.focus')\r\n  public hasFocus: boolean;\r\n  public onFocussed: EventEmitter<boolean>;\r\n\r\n  constructor(public changeDetector: ChangeDetectorRef) {\r\n    this.hasFocus = false;\r\n\r\n    this.onFocussed = new EventEmitter<boolean>();\r\n  }\r\n\r\n  @HostBinding('class.disabled')\r\n  public get isSelectable(): boolean {\r\n    return this.item.isSelectable;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    return this.item.isActive;\r\n  }\r\n\r\n  @HostBinding('class.today')\r\n  public get isToday(): boolean {\r\n    return this.item.isToday;\r\n  }\r\n\r\n  @HostListener('mousemove')\r\n  public onMouseMove(): void {\r\n    if (!this.hasFocus) {\r\n      this.hasFocus = true;\r\n      this.onFocussed.emit(this.hasFocus);\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave')\r\n  public onMouseLeave(): void {\r\n    this.hasFocus = false;\r\n    this.onFocussed.emit(this.hasFocus);\r\n  }\r\n}\r\n","import {AfterViewInit, Input, OnDestroy, QueryList, Renderer2, ViewChildren} from '@angular/core';\r\nimport {KeyCode} from '../../../misc/util/internal';\r\nimport {CalendarItem, FuiCalendarItem} from '../directives/calendar-item';\r\nimport {CalendarService} from '../services/calendar.service';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\n\r\nexport enum CalendarViewType {\r\n  Year = 0,\r\n  Month = 1,\r\n  Date = 2,\r\n  Hour = 3,\r\n  Minute = 4\r\n}\r\n\r\nexport type CalendarViewResult = [Date, CalendarViewType];\r\n\r\nexport abstract class CalendarView implements AfterViewInit, OnDestroy {\r\n\r\n  public ranges: CalendarRangeService;\r\n  private _type: CalendarViewType;\r\n  @ViewChildren(FuiCalendarItem)\r\n  private _renderedItems: QueryList<FuiCalendarItem>;\r\n  private _highlightedItem?: CalendarItem;\r\n  private _documentKeyDownListener: () => void;\r\n\r\n  constructor(renderer: Renderer2, viewType: CalendarViewType, ranges: CalendarRangeService) {\r\n    this._type = viewType;\r\n    this.ranges = ranges;\r\n\r\n    this._documentKeyDownListener = renderer.listen('document', 'keydown', (e: KeyboardEvent) => this.onDocumentKeyDown(e));\r\n  }\r\n\r\n  public get currentDate(): Date {\r\n    return this.service.currentDate;\r\n  }\r\n\r\n  public get selectedDate(): Date | undefined {\r\n    return this.service.selectedDate;\r\n  }\r\n\r\n  private _service: CalendarService;\r\n\r\n  public get service(): CalendarService {\r\n    return this._service;\r\n  }\r\n\r\n  @Input()\r\n  public set service(service: CalendarService) {\r\n    this._service = service;\r\n    this.ranges.loadService(service);\r\n\r\n    this.service.onManualUpdate = () => {\r\n      this.ranges.refresh();\r\n\r\n      delete this._highlightedItem;\r\n      this.autoHighlight();\r\n    };\r\n  }\r\n\r\n  // Template Methods\r\n\r\n  public setDate(item: CalendarItem): void {\r\n    this.service.changeDate(item.date, this._type);\r\n  }\r\n\r\n  public zoomOut(): void {\r\n    this.service.zoomOut(this._type);\r\n  }\r\n\r\n  // Keyboard Control\r\n\r\n  public ngAfterViewInit(): void {\r\n    this._renderedItems.changes.subscribe(() => this.onRenderedItemsChanged());\r\n    this.onRenderedItemsChanged();\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._documentKeyDownListener();\r\n  }\r\n\r\n  private onRenderedItemsChanged(): void {\r\n    this._renderedItems.forEach(i =>\r\n      i.onFocussed.subscribe((hasFocus: boolean) => {\r\n        if (hasFocus) {\r\n          this.highlightItem(i.item);\r\n        }\r\n      }));\r\n\r\n    this.autoHighlight();\r\n    this.highlightItem(this._highlightedItem);\r\n  }\r\n\r\n  private autoHighlight(): void {\r\n    let date = this.selectedDate && this.ranges.current.containsDate(this.selectedDate) ? this.selectedDate : this.currentDate;\r\n    if (this._highlightedItem && this.ranges.current.containsDate(this._highlightedItem.date)) {\r\n      date = this._highlightedItem.date;\r\n    }\r\n\r\n    const initiallyHighlighted = this.ranges.current.items.find(i => this.ranges.dateComparer.equal(i.date, date));\r\n    if (initiallyHighlighted && !initiallyHighlighted.isDisabled) {\r\n      this._highlightedItem = initiallyHighlighted;\r\n    }\r\n  }\r\n\r\n  private highlightItem(item: CalendarItem | undefined): void {\r\n    if (item) {\r\n      this._renderedItems.forEach(i => i.hasFocus = false);\r\n      const rendered = this._renderedItems.find(ri => ri.item === item);\r\n      if (rendered && !rendered.hasFocus) {\r\n        rendered.hasFocus = true;\r\n        rendered.changeDetector.detectChanges();\r\n      }\r\n\r\n      this._highlightedItem = item;\r\n    }\r\n  }\r\n\r\n  private onDocumentKeyDown(e: KeyboardEvent): void {\r\n    if (this._highlightedItem && e.keyCode === KeyCode.Enter) {\r\n      this.setDate(this._highlightedItem);\r\n      return;\r\n    }\r\n\r\n    if (!this._highlightedItem) {\r\n      this.autoHighlight();\r\n    }\r\n\r\n    const index = this.ranges.current.findIndex(this._highlightedItem);\r\n    let isMovingForward = true;\r\n    let delta = 0;\r\n\r\n    switch (e.keyCode) {\r\n      case KeyCode.Right:\r\n        delta += 1;\r\n        break;\r\n      case KeyCode.Left:\r\n        delta -= 1;\r\n        isMovingForward = false;\r\n        break;\r\n      case KeyCode.Down:\r\n        delta += this.ranges.columns;\r\n        break;\r\n      case KeyCode.Up:\r\n        delta -= this.ranges.columns;\r\n        isMovingForward = false;\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    // Stop these keypresses being captured elsewhere.\r\n    e.preventDefault();\r\n\r\n    let nextItem = this.ranges.current.items[index + delta];\r\n\r\n    if (nextItem && nextItem.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    if (nextItem && !nextItem.isOutsideRange) {\r\n      return this.highlightItem(nextItem);\r\n    }\r\n\r\n    if (nextItem && nextItem.isOutsideRange) {\r\n      if (index + delta >= this.ranges.current.inRange.length) {\r\n        isMovingForward = true;\r\n      }\r\n    }\r\n\r\n    if (!nextItem) {\r\n      let adjustedIndex = this.ranges.current.findIndex(this._highlightedItem);\r\n\r\n      const nextItems = this.ranges.calc(isMovingForward).inRange;\r\n\r\n      if (isMovingForward) {\r\n        adjustedIndex -= this.ranges.current.inRange.length;\r\n      } else {\r\n        adjustedIndex += nextItems.length;\r\n      }\r\n\r\n      nextItem = nextItems[adjustedIndex + delta];\r\n\r\n      if (nextItem.isDisabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.ranges.move(isMovingForward);\r\n    this._highlightedItem = this.ranges.current.find(nextItem);\r\n  }\r\n}\r\n","import {CalendarViewType} from '../views/calendar-view';\r\n\r\nexport type CalendarMapping<T = CalendarViewType> = Map<CalendarViewType, T>;\r\n\r\nexport abstract class CalendarMappings {\r\n  public initialView: CalendarViewType;\r\n  public finalView: CalendarViewType;\r\n  public changed: CalendarMapping;\r\n  public zoom: CalendarMapping;\r\n}\r\n\r\nexport class DateMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Date;\r\n    this.finalView = CalendarViewType.Date;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Date],\r\n      [CalendarViewType.Date, CalendarViewType.Date]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Date],\r\n      [CalendarViewType.Month, CalendarViewType.Year],\r\n      [CalendarViewType.Date, CalendarViewType.Month]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class TimeMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Hour;\r\n    this.finalView = CalendarViewType.Minute;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Hour, CalendarViewType.Minute],\r\n      [CalendarViewType.Minute, CalendarViewType.Minute]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Hour, CalendarViewType.Minute],\r\n      [CalendarViewType.Minute, CalendarViewType.Hour]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class DatetimeMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Date;\r\n    this.finalView = CalendarViewType.Minute;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Date],\r\n      [CalendarViewType.Date, CalendarViewType.Hour],\r\n      [CalendarViewType.Hour, CalendarViewType.Minute],\r\n      [CalendarViewType.Minute, CalendarViewType.Minute]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Date],\r\n      [CalendarViewType.Month, CalendarViewType.Year],\r\n      [CalendarViewType.Date, CalendarViewType.Month],\r\n      [CalendarViewType.Hour, CalendarViewType.Date],\r\n      [CalendarViewType.Minute, CalendarViewType.Hour]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class MonthMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Month;\r\n    this.finalView = CalendarViewType.Month;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Month]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Year]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class YearMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Year;\r\n    this.finalView = CalendarViewType.Year;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Year]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Year]\r\n    ]);\r\n  }\r\n}\r\n","import {CalendarMode} from '../services/calendar.service';\r\nimport {CalendarMappings, DateMappings, DatetimeMappings, MonthMappings, TimeMappings, YearMappings} from './calendar-mappings';\r\nimport {DatePrecision, DateUtil} from '../../../misc/util/internal';\r\n\r\nexport abstract class CalendarConfig {\r\n  public mode: CalendarMode;\r\n  public precision: DatePrecision;\r\n  public mappings: CalendarMappings;\r\n\r\n  public fallback: string;\r\n\r\n  public dateMinBound?: Date;\r\n  public dateMaxBound?: Date;\r\n\r\n  constructor(mode: CalendarMode, precision: DatePrecision, mappings: CalendarMappings, fallback: string) {\r\n    this.mode = mode;\r\n    this.precision = precision;\r\n    this.mappings = mappings;\r\n    this.fallback = fallback;\r\n  }\r\n\r\n  public updateBounds(providedDate: Date): void {\r\n    this.dateMinBound = DateUtil.startOf(DatePrecision.Year, new Date(), true);\r\n    this.dateMinBound.setFullYear(0);\r\n  }\r\n}\r\n\r\nexport class DateConfigBase extends CalendarConfig {\r\n  constructor(precision: DatePrecision, mappings: CalendarMappings, fallback: string) {\r\n    super(CalendarMode.DateOnly, precision, mappings, fallback);\r\n  }\r\n}\r\n\r\nexport class YearConfig extends DateConfigBase {\r\n  constructor() {\r\n    super(\r\n      DatePrecision.Year,\r\n      new YearMappings(),\r\n      'number');\r\n  }\r\n}\r\n\r\nexport class MonthConfig extends DateConfigBase {\r\n  constructor() {\r\n    super(\r\n      DatePrecision.Month,\r\n      new MonthMappings(),\r\n      'month');\r\n  }\r\n}\r\n\r\nexport class DateConfig extends DateConfigBase {\r\n  constructor() {\r\n    super(\r\n      DatePrecision.Date,\r\n      new DateMappings(),\r\n      'date');\r\n  }\r\n}\r\n\r\nexport class DatetimeConfig extends CalendarConfig {\r\n  constructor() {\r\n    super(\r\n      CalendarMode.Both,\r\n      DatePrecision.Minute,\r\n      new DatetimeMappings(),\r\n      'datetime-local');\r\n  }\r\n}\r\n\r\nexport class TimeConfig extends CalendarConfig {\r\n  constructor() {\r\n    super(\r\n      CalendarMode.TimeOnly,\r\n      DatePrecision.Minute,\r\n      new TimeMappings(),\r\n      'time');\r\n  }\r\n\r\n  public updateBounds(providedDate: Date): void {\r\n    this.dateMaxBound = DateUtil.endOf(DatePrecision.Date, DateUtil.clone(providedDate));\r\n    this.dateMinBound = DateUtil.previous(DatePrecision.Date, DateUtil.clone(this.dateMaxBound));\r\n  }\r\n}\r\n","import {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\n\r\nexport class DateComparer {\r\n  private _precision: DatePrecision;\r\n  private _isSmallest: boolean;\r\n\r\n  constructor(precision: DatePrecision, isSmallest: boolean) {\r\n    this._precision = precision;\r\n    this._isSmallest = isSmallest;\r\n  }\r\n\r\n  public equal(a: Date, b: Date | undefined): boolean {\r\n    if (this._precision === DatePrecision.Minute) {\r\n      return !!b &&\r\n        DateUtil.equal(DatePrecision.Hour, b, a) &&\r\n        Util.Math.roundDown(b.getMinutes(), 5) === Util.Math.roundDown(a.getMinutes(), 5);\r\n    }\r\n\r\n    return !!b && DateUtil.equal(this._precision, a, b);\r\n  }\r\n\r\n  public lessThan(a: Date, b: Date | undefined): boolean {\r\n    if (this._isSmallest) {\r\n      return !b || (b >= a);\r\n    }\r\n\r\n    return !b || (DateUtil.endOf(this._precision, DateUtil.clone(b)) >= a);\r\n  }\r\n\r\n  public greaterThan(a: Date, b: Date | undefined): boolean {\r\n    if (this._isSmallest) {\r\n      return !b || (b <= a);\r\n    }\r\n\r\n    return !b || (DateUtil.startOf(this._precision, DateUtil.clone(b)) <= a);\r\n  }\r\n\r\n  public between(date: Date, left: Date | undefined, right: Date | undefined): boolean {\r\n    return this.greaterThan(date, left) && this.lessThan(date, right);\r\n  }\r\n}\r\n","import {IDatepickerLocaleValues} from '../../../behaviors/localization/internal';\r\nimport {format, parse} from 'date-fns';\r\nimport * as defaultLocale from 'date-fns/locale/en';\r\n\r\ninterface IDateFnsLocaleValues {\r\n  [name: string]: string[];\r\n}\r\n\r\ninterface IDateFnsHelperOptions {\r\n  type: string;\r\n}\r\n\r\ntype DateFnsHelper<U, T> = (value: U, options: IDateFnsHelperOptions) => T;\r\ntype DateFnsWeekStartsOn = 0 | 1 | 2 | 3 | 4 | 5 | 6;\r\n\r\ninterface IDateFnsCustomLocale {\r\n  localize: {\r\n    weekday: DateFnsHelper<number, string>;\r\n    weekdays: DateFnsHelper<IDateFnsHelperOptions, string[]>;\r\n    month: DateFnsHelper<number, string>;\r\n    months: DateFnsHelper<IDateFnsHelperOptions, string[]>;\r\n    timeOfDay: DateFnsHelper<number, string>;\r\n    timesOfDay: DateFnsHelper<IDateFnsHelperOptions, string[]>;\r\n  };\r\n  match: {\r\n    weekdays: DateFnsHelper<string, RegExpMatchArray | null>;\r\n    weekday?: DateFnsHelper<RegExpMatchArray, number>;\r\n    months: DateFnsHelper<string, RegExpMatchArray | null>;\r\n    month?: DateFnsHelper<RegExpMatchArray, number>;\r\n    timesOfDay: DateFnsHelper<string, RegExpMatchArray | null>;\r\n    timeOfDay?: DateFnsHelper<RegExpMatchArray, number>;\r\n  };\r\n  options?: {\r\n    weekStartsOn?: number;\r\n  };\r\n}\r\n\r\nfunction buildLocalizeFn(values: IDateFnsLocaleValues,\r\n                         defaultType: string,\r\n                         indexCallback?: (oldIndex: number) => number): DateFnsHelper<number, string> {\r\n\r\n  return (dirtyIndex: number, {type} = {type: defaultType}) => {\r\n    const index = indexCallback ? indexCallback(dirtyIndex) : dirtyIndex;\r\n    return values[`${type}`][index];\r\n  };\r\n}\r\n\r\nfunction buildLocalizeArrayFn(values: IDateFnsLocaleValues, defaultType: string): DateFnsHelper<IDateFnsHelperOptions, string[]> {\r\n  return ({type} = {type: defaultType}) => values[`${type}`];\r\n}\r\n\r\nfunction buildMatchFn(patterns: IDateFnsLocaleValues, defaultType: string): DateFnsHelper<string, RegExpMatchArray | null> {\r\n  return (dirtyString, {type} = {type: defaultType}) =>\r\n    dirtyString.match(`^(${patterns[`${type}`].join('|')})`);\r\n}\r\n\r\nfunction buildParseFn(patterns: IDateFnsLocaleValues, defaultType: string): DateFnsHelper<RegExpMatchArray, number> {\r\n  return ([, result], {type} = {type: defaultType}) =>\r\n    (patterns[`${type}`] || patterns[defaultType])\r\n      .map(p => new RegExp(`^${p}`))\r\n      .findIndex(pattern => pattern.test(result));\r\n}\r\n\r\nexport class DateFnsParser {\r\n  private _weekStartsOn: DateFnsWeekStartsOn;\r\n  private _locale: IDateFnsCustomLocale;\r\n\r\n  constructor(locale: IDatepickerLocaleValues) {\r\n    this._weekStartsOn = locale.firstDayOfWeek as DateFnsWeekStartsOn;\r\n\r\n    const weekdayValues = {\r\n      long: locale.weekdays,\r\n      short: locale.weekdaysShort,\r\n      narrow: locale.weekdaysNarrow\r\n    };\r\n\r\n    const monthValues = {\r\n      long: locale.months,\r\n      short: locale.monthsShort\r\n    };\r\n\r\n    const timeOfDayValues = {\r\n      long: locale.timesOfDay,\r\n      uppercase: locale.timesOfDayUppercase,\r\n      lowercase: locale.timesOfDayLowercase\r\n    };\r\n\r\n    const timeOfDayMatchValues = {\r\n      long: locale.timesOfDay,\r\n      short: locale.timesOfDayUppercase.concat(locale.timesOfDayLowercase)\r\n    };\r\n\r\n    this._locale = defaultLocale as any;\r\n    this._locale.localize = {\r\n      ...this._locale.localize,\r\n      ...{\r\n        weekday: buildLocalizeFn(weekdayValues, 'long'),\r\n        weekdays: buildLocalizeArrayFn(weekdayValues, 'long'),\r\n        month: buildLocalizeFn(monthValues, 'long'),\r\n        months: buildLocalizeArrayFn(monthValues, 'long'),\r\n        timeOfDay: buildLocalizeFn(timeOfDayValues, 'long', (hours: number) => {\r\n          return hours / 12 >= 1 ? 1 : 0;\r\n        }),\r\n        timesOfDay: buildLocalizeArrayFn(timeOfDayValues, 'long')\r\n      }\r\n    };\r\n    this._locale.match = {\r\n      ...this._locale.match,\r\n      ...{\r\n        weekdays: buildMatchFn(weekdayValues, 'long'),\r\n        weekday: buildParseFn(weekdayValues, 'long'),\r\n        months: buildMatchFn(monthValues, 'long'),\r\n        month: buildParseFn(monthValues, 'long'),\r\n        timesOfDay: buildMatchFn(timeOfDayMatchValues, 'long'),\r\n        timeOfDay: buildParseFn(timeOfDayMatchValues, 'long')\r\n      }\r\n    };\r\n  }\r\n\r\n  private get _config(): any {\r\n    return {\r\n      weekStartsOn: this._weekStartsOn,\r\n      locale: this._locale\r\n    };\r\n  }\r\n\r\n  public format(d: Date, f: string): string {\r\n    return format(d, f, this._config);\r\n  }\r\n\r\n  public parse(dS: string, f: string, bD: Date): Date {\r\n    return parse(dS, this._config);\r\n  }\r\n}\r\n","import {DatepickerMode} from '../components/datepicker';\r\nimport {DateFnsParser} from '../helpers/date-fns';\r\nimport {IDatepickerFormatsLocaleValues, IDatepickerLocaleValues} from '../../../behaviors/localization/internal';\r\n\r\nexport class DateParser {\r\n  private _format: string;\r\n  private _parser: DateFnsParser;\r\n\r\n  constructor(format: string, locale: IDatepickerLocaleValues) {\r\n    this._format = format;\r\n    this._parser = new DateFnsParser(locale);\r\n  }\r\n\r\n  public format(date: Date): string {\r\n    return this._parser.format(date, this._format);\r\n  }\r\n\r\n  public parse(dateString: string, baseDate: Date = new Date()): Date {\r\n    return this._parser.parse(dateString, this._format, baseDate);\r\n  }\r\n}\r\n\r\nexport class InternalDateParser extends DateParser {\r\n  constructor(mode: DatepickerMode, locale: IDatepickerLocaleValues) {\r\n    const internalFormats: IDatepickerFormatsLocaleValues = {\r\n      time: 'HH:mm',\r\n      datetime: 'YYYY-MM-DDTHH:mm',\r\n      date: 'YYYY-MM-DD',\r\n      month: 'YYYY-MM',\r\n      year: 'YYYY'\r\n    };\r\n\r\n    super(internalFormats[mode], locale);\r\n  }\r\n}\r\n","import {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarService} from './calendar.service';\r\nimport {DateComparer} from '../classes/date-comparer';\r\n\r\nexport class CalendarRange {\r\n  public start: Date;\r\n  public dates: Date[];\r\n  public items: CalendarItem[];\r\n  public groupedItems: CalendarItem[][];\r\n  private _comparer: DateComparer;\r\n\r\n  constructor(start: Date, dates: Date[], items: CalendarItem[], grouped: CalendarItem[][], comparer: DateComparer) {\r\n    this.start = start;\r\n    this.dates = dates;\r\n    this.items = items;\r\n    this.groupedItems = grouped;\r\n    this._comparer = comparer;\r\n  }\r\n\r\n  public get inRange(): CalendarItem[] {\r\n    return this.items.filter(i => !i.isOutsideRange);\r\n  }\r\n\r\n  public find(item: CalendarItem): CalendarItem | undefined {\r\n    return this.items.find(i => this._comparer.equal(i.date, item.date));\r\n  }\r\n\r\n  public findIndex(item: CalendarItem | undefined): number {\r\n    if (!item) {\r\n      return -1;\r\n    }\r\n    return this.items.findIndex(i => this._comparer.equal(i.date, item.date));\r\n  }\r\n\r\n  public containsDate(date: Date): boolean {\r\n    return !!this.inRange.find(i => this._comparer.equal(i.date, date));\r\n  }\r\n}\r\n\r\nexport abstract class CalendarRangeService {\r\n  public previous: CalendarRange;\r\n  public current: CalendarRange;\r\n  public next: CalendarRange;\r\n\r\n  public service: CalendarService;\r\n\r\n  public interval: DatePrecision;\r\n  public marginal: DatePrecision;\r\n  public rows: number;\r\n  public columns: number;\r\n\r\n  constructor(interval: DatePrecision, rows: number, columns: number) {\r\n    this.interval = interval;\r\n    this.marginal = interval as number + 1;\r\n    this.rows = rows;\r\n    this.columns = columns;\r\n  }\r\n\r\n  public get dateComparer(): DateComparer {\r\n    return new DateComparer(this.marginal, this.service.inFinalView);\r\n  }\r\n\r\n  public get length(): number {\r\n    return this.rows * this.columns;\r\n  }\r\n\r\n  public get canMoveNext(): boolean {\r\n    const firstItem = this.next.inRange[0];\r\n    if (firstItem && this.service.maxDate) {\r\n      return firstItem.date <= this.service.maxDate;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public get canMovePrevious(): boolean {\r\n    const lastItem = this.previous.inRange.slice(-1).pop();\r\n    if (lastItem && this.service.minDate) {\r\n      return lastItem.date >= this.service.minDate;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public loadService(service: CalendarService): void {\r\n    this.service = service;\r\n\r\n    this.refresh();\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.current = this.calcRange(this.service.currentDate);\r\n\r\n    this.next = this.calcRange(DateUtil.next(this.interval, DateUtil.clone(this.service.currentDate)));\r\n    this.previous = this.calcRange(DateUtil.previous(this.interval, DateUtil.clone(this.service.currentDate)));\r\n  }\r\n\r\n  public move(forwards: boolean): void {\r\n    if (forwards) {\r\n      return this.moveNext();\r\n    }\r\n    return this.movePrevious();\r\n  }\r\n\r\n  public moveNext(): void {\r\n    DateUtil.next(this.interval, this.service.currentDate);\r\n    this.previous = this.current;\r\n    this.current = this.next;\r\n    this.next = this.calcRange(DateUtil.next(this.interval, DateUtil.clone(this.service.currentDate)));\r\n  }\r\n\r\n  public movePrevious(): void {\r\n    DateUtil.previous(this.interval, this.service.currentDate);\r\n    this.next = this.current;\r\n    this.current = this.previous;\r\n    this.previous = this.calcRange(DateUtil.previous(this.interval, DateUtil.clone(this.service.currentDate)));\r\n  }\r\n\r\n  public calc(forwards: boolean): CalendarRange {\r\n    if (forwards) {\r\n      return this.next;\r\n    }\r\n    return this.previous;\r\n  }\r\n\r\n  protected calcStart(date: Date): Date {\r\n    return DateUtil.startOf(this.interval, DateUtil.clone(date));\r\n  }\r\n\r\n  protected calcDates(rangeStart: Date): Date[] {\r\n    return Util.Array\r\n      .range(this.length)\r\n      .map(i => DateUtil.add(this.marginal, DateUtil.clone(rangeStart), i));\r\n\r\n  }\r\n\r\n  protected calcItems(dateRange: Date[], baseDate: Date): CalendarItem[] {\r\n    return dateRange.map(date => {\r\n      const item = new CalendarItem(date);\r\n\r\n      item.isDisabled = !this.dateComparer.between(item.date, this.service.minDate, this.service.maxDate);\r\n      item.isActive = this.dateComparer.equal(item.date, this.service.selectedDate);\r\n      item.isToday = this.dateComparer.equal(item.date, new Date());\r\n      item.isSelectable = item.isDisabled;\r\n\r\n      this.configureItem(item, baseDate);\r\n\r\n      return item;\r\n    });\r\n  }\r\n\r\n  protected abstract configureItem(item: CalendarItem, baseDate: Date): void;\r\n\r\n  private calcRange(startDate: Date): CalendarRange {\r\n    const start = this.calcStart(startDate);\r\n    if (this.service.inFinalView) {\r\n      DateUtil.startOf(this.marginal, start, true);\r\n    }\r\n    const dates = this.calcDates(start);\r\n    const items = this.calcItems(dates, startDate);\r\n\r\n    return new CalendarRange(start, dates, items, Util.Array.group(items, this.columns), this.dateComparer);\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\n\r\n@Component({\r\n  selector: 'fui-calendar-view-title',\r\n  template: `\r\n<span class=\"title link\" (click)=\"onZoomOut.emit()\">\r\n    <ng-content></ng-content>\r\n</span>\r\n<span class=\"prev link\" [class.disabled]=\"!ranges?.canMovePrevious\" (click)=\"ranges?.movePrevious()\">\r\n    <i class=\"chevron left icon\"></i>\r\n</span>\r\n<span class=\"next link\" [class.disabled]=\"!ranges?.canMoveNext\" (click)=\"ranges?.moveNext()\">\r\n    <i class=\"chevron right icon\"></i>\r\n</span>\r\n`,\r\n  styles: [`\r\n.title.link {\r\n    display: inline-block;\r\n    margin-left: 2rem;\r\n    margin-right: 2rem;\r\n}\r\n`]\r\n})\r\nexport class FuiCalendarViewTitle {\r\n\r\n  @Input()\r\n  public ranges: CalendarRangeService;\r\n\r\n  @Output('zoomOut')\r\n  public onZoomOut: EventEmitter<void>;\r\n\r\n  constructor() {\r\n    this.onZoomOut = new EventEmitter<void>();\r\n  }\r\n}\r\n","import {Component, HostBinding, HostListener} from '@angular/core';\r\nimport {CalendarService} from './../services/calendar.service';\r\nimport {DatetimeConfig} from '../classes/calendar-config';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\n\r\nexport type DatepickerMode = 'year' | 'month' | 'date' | 'datetime' | 'time';\r\n\r\nexport const DatepickerMode = {\r\n  Year: 'year' as DatepickerMode,\r\n  Month: 'month' as DatepickerMode,\r\n  Date: 'date' as DatepickerMode,\r\n  Datetime: 'datetime' as DatepickerMode,\r\n  Time: 'time' as DatepickerMode\r\n};\r\n\r\n@Component({\r\n  selector: 'fui-datepicker',\r\n  template: `\r\n<ng-container [ngSwitch]=\"service.currentView\">\r\n    <fui-calendar-year-view [service]=\"service\" *ngSwitchCase=\"0\"></fui-calendar-year-view>\r\n    <fui-calendar-month-view [service]=\"service\" *ngSwitchCase=\"1\"></fui-calendar-month-view>\r\n    <fui-calendar-date-view [service]=\"service\" *ngSwitchCase=\"2\"></fui-calendar-date-view>\r\n    <fui-calendar-hour-view [service]=\"service\" *ngSwitchCase=\"3\"></fui-calendar-hour-view>\r\n    <fui-calendar-minute-view [service]=\"service\" *ngSwitchCase=\"4\"></fui-calendar-minute-view>\r\n</ng-container>\r\n`,\r\n  styles: [`\r\n:host {\r\n    user-select: none;\r\n}\r\n`]\r\n})\r\nexport class FuiDatepicker {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.active')\r\n  @HostBinding('class.calendar')\r\n  public readonly hasClasses: boolean;\r\n\r\n  public service: CalendarService;\r\n\r\n  constructor(localizationService: FuiLocalizationService) {\r\n    this.service = new CalendarService(new DatetimeConfig(), localizationService.get().datepicker);\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  public onMouseDown(e: MouseEvent): void {\r\n    e.preventDefault();\r\n  }\r\n}\r\n","import {PositioningPlacement} from '../../../misc/util/internal';\r\n\r\nexport type PopupTrigger = 'hover' | 'click' | 'outsideClick' | 'focus' | 'manual';\r\nexport type PopupSize = 'mini' | 'tiny' | 'small' | 'large' | 'huge';\r\nexport type PopupWidth = 'wide' | 'very wide' | 'flowing';\r\n\r\nexport const PopupTrigger = {\r\n  Hover: 'hover' as PopupTrigger,\r\n  Click: 'click' as PopupTrigger,\r\n  OutsideClick: 'outsideClick' as PopupTrigger,\r\n  Focus: 'focus' as PopupTrigger,\r\n  Manual: 'manual' as PopupTrigger\r\n};\r\n\r\nexport interface IPopupConfig {\r\n  header?: string;\r\n  text?: string;\r\n  placement?: PositioningPlacement;\r\n  trigger?: PopupTrigger;\r\n  isInverted?: boolean;\r\n  delay?: number;\r\n  isBasic?: boolean;\r\n  transition?: string;\r\n  transitionDuration?: number;\r\n  isFlowing?: boolean;\r\n  isInline?: boolean;\r\n}\r\n\r\nexport class PopupConfig implements IPopupConfig {\r\n  public header?: string;\r\n  public text?: string;\r\n  public placement: PositioningPlacement;\r\n  public trigger: PopupTrigger;\r\n  public isInverted: boolean;\r\n  public delay: number;\r\n  public isBasic: boolean;\r\n  public transition: string;\r\n  public size: PopupSize;\r\n  public width: PopupWidth;\r\n  public transitionDuration: number;\r\n  public isFlowing: boolean;\r\n  public isInline: boolean;\r\n\r\n  constructor(defaults: IPopupConfig = {}) {\r\n    this.placement = PositioningPlacement.TopLeft;\r\n    this.trigger = PopupTrigger.Hover;\r\n    this.isInverted = false;\r\n    this.delay = 0;\r\n    this.isBasic = false;\r\n    this.transition = 'scale';\r\n    this.transitionDuration = 200;\r\n    this.isFlowing = false;\r\n    this.isInline = false;\r\n    Object.assign(this, defaults);\r\n  }\r\n}\r\n","import {Component, ElementRef, EventEmitter, HostBinding, HostListener, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {IDynamicClasses, PositioningService} from '../../../misc/util/internal';\r\nimport {Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {IPopup} from '../classes/popup-controller';\r\nimport {TemplatePopupConfig} from '../classes/popup-template-controller';\r\n\r\n@Component({\r\n  selector: 'fui-popup',\r\n  template: `\r\n<div class=\"ui popup\"\r\n     [ngClass]=\"dynamicClasses\"\r\n     [fuiTransition]=\"transitionController\"\r\n     [attr.direction]=\"direction\"\r\n     #container>\r\n\r\n    <ng-container *ngIf=\"!config.template && (!!config.header || !!config.text)\">\r\n        <div class=\"header\" *ngIf=\"config.header\">{{ config.header }}</div>\r\n        <div class=\"content\">{{ config.text }}</div>\r\n    </ng-container>\r\n    <div #templateSibling></div>\r\n\r\n    <fui-popup-arrow *ngIf=\"!config.isBasic\"\r\n                     [placement]=\"config.placement\"\r\n                     [inverted]=\"config.isInverted\"></fui-popup-arrow>\r\n</div>\r\n`,\r\n  styles: [`\r\n.ui.popup {\r\n    /* Autofit popup to the contents. */\r\n    right: auto;\r\n    margin: 0;\r\n}\r\n\r\n.ui.animating.popup {\r\n    /* When the popup is animating, it may not initially be in the correct position.\r\n       This fires a mouse event, causing the anchor's mouseleave to fire - making the popup flicker.\r\n       Setting pointer-events to none while animating fixes this bug. */\r\n    pointer-events: none;\r\n}\r\n\r\n.ui.popup::before {\r\n    /* Hide the Fomantic UI CSS arrow. */\r\n    display: none;\r\n}\r\n\r\n/* Offset popup by 0.75em above and below when placed 'vertically'. */\r\n.ui.popup[direction=\"top\"],\r\n.ui.popup[direction=\"bottom\"] {\r\n    margin-top: 0.75em;\r\n    margin-bottom: 0.75em;\r\n}\r\n\r\n/* Offset popup by 0.75em either side when placed 'horizontally'. */\r\n.ui.popup[direction=\"left\"],\r\n.ui.popup[direction=\"right\"] {\r\n    margin-left: 0.75em;\r\n    margin-right: 0.75em;\r\n}\r\n`]\r\n})\r\nexport class FuiPopup implements IPopup {\r\n\r\n  // Config settings for this popup.\r\n  public config: TemplatePopupConfig<any>;\r\n  public transitionController: TransitionController;\r\n  public positioningService: PositioningService;\r\n  // `setTimeout` timer pointer for cancelling popup close.\r\n  public closingTimeout: number;\r\n  // Fires when the popup opens (and the animation is completed).\r\n  public onOpen: EventEmitter<void>;\r\n  // Fires when the popup closes (and the animation is completed).\r\n  public onClose: EventEmitter<void>;\r\n  // `ViewContainerRef` for the element the template gets injected as a sibling of.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: true})\r\n  public templateSibling: ViewContainerRef;\r\n  @HostBinding('attr.tabindex')\r\n  public readonly tabindex: number;\r\n  // `ElementRef` for the positioning subject.\r\n  @ViewChild('container', {read: ViewContainerRef, static: false})\r\n  private _container: ViewContainerRef;\r\n\r\n  constructor(public elementRef: ElementRef) {\r\n    this.transitionController = new TransitionController(false);\r\n\r\n    this._isOpen = false;\r\n\r\n    this.onOpen = new EventEmitter<void>();\r\n    this.onClose = new EventEmitter<void>();\r\n\r\n    this.tabindex = 0;\r\n  }\r\n\r\n  // Returns the direction (`top`, `left`, `right`, `bottom`) of the current placement.\r\n  public get direction(): string | undefined {\r\n    // We need to set direction attribute before popper init to allow correct positioning\r\n    return this.config.placement.split(' ').shift();\r\n  }\r\n\r\n  // Returns the alignment (`top`, `left`, `right`, `bottom`) of the current placement.\r\n  public get alignment(): string | undefined {\r\n    return this.config.placement.split(' ').pop();\r\n  }\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n    if (this.direction) {\r\n      classes[this.direction] = true;\r\n    }\r\n    if (this.alignment) {\r\n      classes[this.alignment] = true;\r\n    }\r\n    if (this.config.isInverted) {\r\n      classes.inverted = true;\r\n    }\r\n    if (this.config.isBasic) {\r\n      classes.basic = true;\r\n    }\r\n    if (this.config.isFlowing) {\r\n      classes.flowing = true;\r\n    }\r\n    if (this.config.size) {\r\n      classes[this.config.size] = true;\r\n    }\r\n    if (this.config.width) {\r\n      classes[this.config.width] = true;\r\n    }\r\n    return classes;\r\n  }\r\n\r\n  private _anchor: ElementRef;\r\n\r\n  public set anchor(anchor: ElementRef) {\r\n    this._anchor = anchor;\r\n  }\r\n\r\n  // Keeps track of whether the popup is open internally.\r\n  private _isOpen: boolean;\r\n\r\n  public get isOpen(): boolean {\r\n    return this._isOpen;\r\n  }\r\n\r\n  public open(): void {\r\n    // Only attempt to open if currently closed.\r\n    if (!this.isOpen) {\r\n      // Cancel the closing timer.\r\n      clearTimeout(this.closingTimeout);\r\n\r\n      // Create positioning service after a brief delay.\r\n      setTimeout(() => {\r\n        this.positioningService = new PositioningService(\r\n          this._anchor,\r\n          this._container.element,\r\n          this.config.placement,\r\n          '.dynamic.arrow'\r\n        );\r\n        this.positioningService.hasArrow = !this.config.isBasic;\r\n      });\r\n\r\n      // Cancel all other transitions, and initiate the opening transition.\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(\r\n        new Transition(this.config.transition, this.config.transitionDuration, TransitionDirection.In, () => {\r\n          // Focus any element with [autofocus] attribute.\r\n          const autoFocus = this.elementRef.nativeElement.querySelector('[autofocus]') as HTMLElement | null;\r\n          if (autoFocus) {\r\n            // Autofocus after the browser has had time to process other event handlers.\r\n            setTimeout(() => autoFocus.focus(), 10);\r\n            // Try to focus again when the modal has opened so that autofocus works in IE11.\r\n            setTimeout(() => autoFocus.focus(), this.config.transitionDuration);\r\n          }\r\n        }));\r\n\r\n      // Finally, set the popup to be open.\r\n      this._isOpen = true;\r\n      this.onOpen.emit();\r\n    }\r\n  }\r\n\r\n  public toggle(): void {\r\n    if (!this.isOpen) {\r\n      return this.open();\r\n    }\r\n\r\n    return this.close();\r\n  }\r\n\r\n  public close(): void {\r\n    // Only attempt to close if currently open.\r\n    if (this.isOpen) {\r\n      // Cancel all other transitions, and initiate the closing transition.\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(\r\n        new Transition(this.config.transition, this.config.transitionDuration, TransitionDirection.Out));\r\n\r\n      // Cancel the closing timer.\r\n      clearTimeout(this.closingTimeout);\r\n      // Start the closing timer, that fires the `onClose` event after the transition duration number of milliseconds.\r\n      this.closingTimeout = window.setTimeout(() => this.onClose.emit(), this.config.transitionDuration);\r\n\r\n      // Finally, set the popup to be closed.\r\n      this._isOpen = false;\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(event: MouseEvent): void {\r\n    // Makes sense here, as the popup shouldn't be attached to any DOM element.\r\n    event.stopPropagation();\r\n  }\r\n}\r\n","import {ComponentRef, ElementRef, HostListener, OnDestroy, Renderer2} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IPopupConfig, PopupConfig, PopupTrigger} from './popup-config';\r\nimport {FuiPopup} from '../components/popup';\r\nimport {IPopupLifecycle} from './popup-lifecycle';\r\n\r\nexport interface IPopup {\r\n  open(): void;\r\n\r\n  close(): void;\r\n\r\n  toggle(): void;\r\n}\r\n\r\nexport abstract class FuiPopupController implements IPopup, OnDestroy {\r\n  // Stores reference to generated popup component.\r\n  private _componentRef: ComponentRef<FuiPopup>;\r\n  // `setTimeout` timer pointer for delayed popup open.\r\n  private _openingTimeout: number;\r\n  // Function to remove the document click handler.\r\n  private _documentListener: (() => void) | undefined;\r\n\r\n  constructor(protected _renderer: Renderer2,\r\n              protected _element: ElementRef,\r\n              protected _componentFactory: FuiComponentFactory,\r\n              config: PopupConfig) {\r\n\r\n    // Generate a new FuiPopup component and attach it to the application view.\r\n    this._componentRef = this._componentFactory.createComponent(FuiPopup);\r\n\r\n    // Configure popup with provided config.\r\n    this.popup.config = config;\r\n\r\n    // When the popup is closed (onClose fires on animation complete),\r\n    this.popup.onClose.subscribe(() => this.cleanup());\r\n  }\r\n\r\n  // Returns generated popup instance.\r\n  public get popup(): FuiPopup {\r\n    // Use non-null assertion as we only access this when a popup exists.\r\n    return this._componentRef.instance;\r\n  }\r\n\r\n  public configure(config?: IPopupConfig): void {\r\n    if (config) {\r\n      Object.assign(this.popup.config, config);\r\n    }\r\n  }\r\n\r\n  public openDelayed(): void {\r\n    // Cancel the opening timer.\r\n    clearTimeout(this._openingTimeout);\r\n\r\n    // Start the popup opening after the specified delay interval.\r\n    this._openingTimeout = window.setTimeout(() => this.open(), this.popup.config.delay);\r\n  }\r\n\r\n  public open(): void {\r\n    // Attach the generated component to the current application.\r\n    this._componentFactory.attachToApplication(this._componentRef);\r\n\r\n    if (this.popup.config.isInline) {\r\n      this._componentFactory.moveToElement(this._componentRef, this._element.nativeElement.parentElement);\r\n    } else {\r\n      // Move the generated element to the body to avoid any positioning issues.\r\n      this._componentFactory.moveToDocumentBody(this._componentRef);\r\n    }\r\n\r\n    // Attach a reference to the anchor element. We do it here because IE11 loves to complain.\r\n    this.popup.anchor = this._element;\r\n\r\n    // Add a listener to the document body to handle closing.\r\n    this._documentListener = this._renderer\r\n      .listen('document', 'click', (e: MouseEvent) =>\r\n        this.onDocumentClick(e));\r\n\r\n    // Start popup open transition.\r\n    this.popup.open();\r\n\r\n    // Call lifecyle hook\r\n    const lifecycle = (this as IPopupLifecycle).popupOnOpen;\r\n    if (lifecycle) {\r\n      lifecycle.call(this);\r\n    }\r\n  }\r\n\r\n  public close(): void {\r\n    // Cancel the opening timer to stop the popup opening after close has been called.\r\n    clearTimeout(this._openingTimeout);\r\n\r\n    if (this._componentRef) {\r\n      // Start popup close transition.\r\n      this.popup.close();\r\n    }\r\n\r\n    // Call lifecyle hook\r\n    const lifecycle = (this as IPopupLifecycle).popupOnClose;\r\n    if (lifecycle) {\r\n      lifecycle.call(this);\r\n    }\r\n  }\r\n\r\n  public toggleDelayed(): void {\r\n    // If the popup hasn't been created, or it has but it isn't currently open, open the popup.\r\n    if (!this._componentRef || (this._componentRef && !this.popup.isOpen)) {\r\n      return this.openDelayed();\r\n    }\r\n\r\n    // O'wise, close it.\r\n    return this.close();\r\n  }\r\n\r\n  public toggle(): void {\r\n    // If the popup hasn't been created, or it has but it isn't currently open, open the popup.\r\n    if (!this._componentRef || (this._componentRef && !this.popup.isOpen)) {\r\n      return this.open();\r\n    }\r\n\r\n    // O'wise, close it.\r\n    return this.close();\r\n  }\r\n\r\n  @HostListener('mouseenter')\r\n  public onMouseEnter(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Hover) {\r\n      this.openDelayed();\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave')\r\n  public onMouseLeave(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Hover) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Click ||\r\n      this.popup.config.trigger === PopupTrigger.OutsideClick) {\r\n\r\n      // Repeated clicks require a toggle, rather than just opening the popup each time.\r\n      this.toggleDelayed();\r\n    } else if (this.popup.config.trigger === PopupTrigger.Focus &&\r\n      (!this._componentRef || (this._componentRef && !this.popup.isOpen))) {\r\n      // Repeated clicks with a focus trigger requires an open (as focus isn't ever lost on repeated click).\r\n      this.openDelayed();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusin')\r\n  public onFocusIn(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Focus) {\r\n      this.openDelayed();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: any): void {\r\n    if (!this._element.nativeElement.contains(e.relatedTarget) &&\r\n      !this.popup.elementRef.nativeElement.contains(e.relatedTarget) &&\r\n      this.popup.config.trigger === PopupTrigger.Focus) {\r\n\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.cleanup();\r\n  }\r\n\r\n  protected cleanup(): void {\r\n    clearTimeout(this._openingTimeout);\r\n\r\n    if (this._componentRef.instance && this._componentRef.instance.positioningService) {\r\n      this._componentRef.instance.positioningService.destroy();\r\n    }\r\n\r\n    this._componentFactory.detachFromApplication(this._componentRef);\r\n\r\n    if (this._documentListener) {\r\n      this._documentListener();\r\n    }\r\n  }\r\n\r\n  private onDocumentClick(e: MouseEvent): void {\r\n    // If the popup trigger is outside click,\r\n    if (this._componentRef && this.popup.config.trigger === PopupTrigger.OutsideClick) {\r\n      const target = e.target as Element;\r\n      // Close the popup if the click is outside of the popup element.\r\n      if (!(this._element.nativeElement as Element).contains(target)) {\r\n        this.close();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {ComponentRef, ElementRef, Renderer2, Type} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {FuiPopupController} from './popup-controller';\r\nimport {PopupConfig} from './popup-config';\r\n\r\nexport class FuiPopupComponentController<T> extends FuiPopupController {\r\n  // Stores reference to generated content component.\r\n  private _contentComponentRef?: ComponentRef<T>;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              private _component: Type<T>,\r\n              config: PopupConfig) {\r\n\r\n    super(renderer, element, componentFactory, config);\r\n  }\r\n\r\n  public get componentInstance(): T | undefined {\r\n    if (this._contentComponentRef) {\r\n      return this._contentComponentRef.instance;\r\n    }\r\n  }\r\n\r\n  public open(): void {\r\n    if (!this._contentComponentRef) {\r\n      this._contentComponentRef = this._componentFactory.createComponent(this._component as Type<T>);\r\n      this._componentFactory.attachToView(this._contentComponentRef, this.popup.templateSibling);\r\n    }\r\n\r\n    super.open();\r\n  }\r\n\r\n  protected cleanup(): void {\r\n    super.cleanup();\r\n\r\n    if (this._contentComponentRef) {\r\n      this._contentComponentRef.destroy();\r\n      this._contentComponentRef = undefined;\r\n    }\r\n  }\r\n}\r\n","import {ElementRef, Renderer2, TemplateRef} from '@angular/core';\r\nimport {IPopup, FuiPopupController} from './popup-controller';\r\nimport {IImplicitContext, FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IPopupConfig, PopupConfig} from './popup-config';\r\n\r\nconst templateRef = TemplateRef;\r\n\r\nexport interface ITemplatePopupContext<T> extends IImplicitContext<IPopup> {\r\n  context?: T;\r\n}\r\n\r\nexport interface ITemplatePopupConfig<T> extends IPopupConfig {\r\n  template?: TemplateRef<ITemplatePopupContext<T>>;\r\n  context?: T;\r\n}\r\n\r\nexport class TemplatePopupConfig<T> extends PopupConfig {\r\n  public template?: TemplateRef<ITemplatePopupContext<T>>;\r\n  public context?: T;\r\n}\r\n\r\nexport class FuiPopupTemplateController<T> extends FuiPopupController {\r\n  public template?: TemplateRef<ITemplatePopupContext<T>>;\r\n  public context?: T;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              config: PopupConfig) {\r\n\r\n    super(renderer, element, componentFactory, config);\r\n  }\r\n\r\n  public configure(config?: ITemplatePopupConfig<T>): void {\r\n    super.configure(config);\r\n\r\n    if (config) {\r\n      this.template = config.template;\r\n      this.context = config.context;\r\n    }\r\n  }\r\n\r\n  public open(): void {\r\n    // If there is a template, inject it into the view.\r\n    if (this.template) {\r\n      this.popup.templateSibling.clear();\r\n\r\n      this._componentFactory.createView(this.popup.templateSibling, this.template, {\r\n        $implicit: this.popup,\r\n        context: this.context\r\n      });\r\n    }\r\n\r\n    super.open();\r\n  }\r\n}\r\n","import {Component, HostBinding, Input} from '@angular/core';\r\nimport {PositioningPlacement} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-popup-arrow',\r\n  template: `\r\n<div class=\"dynamic arrow\" [attr.direction]=\"direction\" *ngIf=\"alignment == 'center'\"></div>\r\n<div class=\"static arrow\" [attr.direction]=\"direction\" [attr.alignment]=\"alignment\" *ngIf=\"alignment != 'center'\"></div>\r\n`,\r\n  styles: [`\r\n.arrow {\r\n    position: absolute;\r\n    width: 0.71428571em;\r\n    height: 0.71428571em;\r\n    background: #ffffff;\r\n    -webkit-transform: rotate(45deg);\r\n    -ms-transform: rotate(45deg);\r\n    transform: rotate(45deg);\r\n    z-index: 2;\r\n}\r\n\r\n:host.inverted .arrow {\r\n    background: #1b1c1d;\r\n}\r\n\r\n.arrow[direction=\"top\"] {\r\n    bottom: -0.30714286em;\r\n    box-shadow: 1px 1px 0 0 #bababc;\r\n}\r\n\r\n.arrow[direction=\"left\"] {\r\n    right: -0.30714286em;\r\n    box-shadow: 1px -1px 1px 0 #bababc;\r\n}\r\n\r\n.arrow[direction=\"bottom\"] {\r\n    top: -0.30714286em;\r\n    box-shadow: -1px -1px 0 0 #bababc;\r\n}\r\n\r\n.arrow[direction=\"right\"] {\r\n    left: -0.30714286em;\r\n    box-shadow: -1px 1px 1px 0 #bababc;\r\n}\r\n\r\n.static.arrow[direction=\"bottom\"][alignment=\"left\"],\r\n.static.arrow[direction=\"top\"][alignment=\"left\"] {\r\n    left: 1em;\r\n    right: auto;\r\n}\r\n\r\n.static.arrow[direction=\"left\"][alignment=\"top\"],\r\n.static.arrow[direction=\"right\"][alignment=\"top\"] {\r\n    top: 1em;\r\n    bottom: auto;\r\n}\r\n\r\n.static.arrow[direction=\"bottom\"][alignment=\"right\"],\r\n.static.arrow[direction=\"top\"][alignment=\"right\"] {\r\n    left: auto;\r\n    right: 1em;\r\n}\r\n\r\n.static.arrow[direction=\"left\"][alignment=\"bottom\"],\r\n.static.arrow[direction=\"right\"][alignment=\"bottom\"] {\r\n    top: auto;\r\n    bottom: 1em;\r\n}\r\n`]\r\n})\r\nexport class FuiPopupArrow {\r\n  @Input()\r\n  public placement: PositioningPlacement;\r\n\r\n  @HostBinding('class.inverted')\r\n  @Input()\r\n  public inverted: boolean;\r\n\r\n  public get direction(): string | undefined {\r\n    if (this.placement) {\r\n      return this.placement.split(' ').shift();\r\n    }\r\n  }\r\n\r\n  public get alignment(): string | undefined {\r\n    if (this.placement) {\r\n      const alignment = this.placement.split(' ').pop();\r\n      if (alignment === this.direction) {\r\n        return 'center';\r\n      }\r\n      return alignment;\r\n    }\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {PopupConfig} from '../classes/popup-config';\r\n\r\n@Injectable()\r\nexport class FuiPopupConfig extends PopupConfig {\r\n  constructor() {\r\n    // We use an empty constructor to ensure Angular DI works correctly.\r\n    super();\r\n  }\r\n}\r\n","import {Directive, ElementRef, Input, Renderer2, TemplateRef} from '@angular/core';\r\nimport {PositioningPlacement, FuiComponentFactory, Util} from '../../../misc/util/internal';\r\nimport {PopupConfig, PopupSize, PopupTrigger, PopupWidth} from '../classes/popup-config';\r\nimport {FuiPopupConfig} from '../services/popup.service';\r\nimport {ITemplatePopupConfig, ITemplatePopupContext, FuiPopupTemplateController} from '../classes/popup-template-controller';\r\n\r\nconst templateRef = TemplateRef;\r\n\r\n@Directive({\r\n  selector: '[fuiPopup]',\r\n  exportAs: 'fuiPopup'\r\n})\r\nexport class FuiPopupDirective<T> extends FuiPopupTemplateController<T> {\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              popupDefaults: FuiPopupConfig) {\r\n\r\n    super(renderer, element, componentFactory, new PopupConfig(popupDefaults));\r\n  }\r\n\r\n  @Input()\r\n  public set popupHeader(header: string) {\r\n    this.popup.config.header = header;\r\n  }\r\n\r\n  @Input()\r\n  public set popupText(text: string) {\r\n    this.popup.config.text = text;\r\n  }\r\n\r\n  @Input()\r\n  public set popupInverted(inverted: boolean) {\r\n    this.popup.config.isInverted = Util.DOM.parseBooleanAttribute(inverted);\r\n  }\r\n\r\n  @Input()\r\n  public set popupBasic(basic: boolean) {\r\n    this.popup.config.isBasic = Util.DOM.parseBooleanAttribute(basic);\r\n  }\r\n\r\n  @Input()\r\n  public set popupInline(inline: boolean) {\r\n    this.popup.config.isInline = Util.DOM.parseBooleanAttribute(inline);\r\n  }\r\n\r\n  @Input()\r\n  public set popupFlowing(flowing: boolean) {\r\n    this.popup.config.isFlowing = Util.DOM.parseBooleanAttribute(flowing);\r\n  }\r\n\r\n  @Input()\r\n  public set popupTransition(transition: string) {\r\n    this.popup.config.transition = transition;\r\n  }\r\n\r\n  @Input()\r\n  public set popupTransitionDuration(duration: number) {\r\n    this.popup.config.transitionDuration = duration;\r\n  }\r\n\r\n  @Input()\r\n  public set popupPlacement(placement: PositioningPlacement) {\r\n    this.popup.config.placement = placement;\r\n  }\r\n\r\n  @Input()\r\n  public set popupWidth(width: PopupWidth) {\r\n    this.popup.config.width = width;\r\n  }\r\n\r\n  @Input()\r\n  public set popupSize(size: PopupSize) {\r\n    this.popup.config.size = size;\r\n  }\r\n\r\n  @Input()\r\n  public set popupDelay(delay: number) {\r\n    this.popup.config.delay = delay;\r\n  }\r\n\r\n  @Input()\r\n  public get popupTrigger(): PopupTrigger {\r\n    return this.popup.config.trigger;\r\n  }\r\n\r\n  public set popupTrigger(trigger: PopupTrigger) {\r\n    this.popup.config.trigger = trigger;\r\n  }\r\n\r\n  @Input()\r\n  public set popupTemplate(template: TemplateRef<ITemplatePopupContext<T>> | undefined) {\r\n    this.template = template;\r\n  }\r\n\r\n  @Input()\r\n  public set popupTemplateContext(context: T | undefined) {\r\n    this.context = context;\r\n  }\r\n\r\n  @Input()\r\n  public set popupConfig(config: ITemplatePopupConfig<T> | undefined) {\r\n    this.configure(config);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiPopupDirective} from './directives/popup.directive';\r\nimport {FuiPopupArrow} from './components/popup-arrow';\r\nimport {FuiPopup} from './components/popup';\r\nimport {FuiPopupConfig} from './services/popup.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiPopupDirective,\r\n    FuiPopupArrow,\r\n    FuiPopup\r\n  ],\r\n  exports: [\r\n    FuiPopupDirective,\r\n    FuiPopup\r\n  ],\r\n  providers: [\r\n    FuiPopupConfig\r\n  ],\r\n  entryComponents: [\r\n    FuiPopup\r\n  ]\r\n})\r\n\r\nexport class FuiPopupModule {\r\n}\r\n","import {Directive, ElementRef, EventEmitter, HostListener, Input, OnChanges, Output, Renderer2, SimpleChanges} from '@angular/core';\r\nimport {AbstractControl, ValidationErrors} from '@angular/forms';\r\nimport {\r\n  CustomValidator,\r\n  customValidatorFactory,\r\n  CustomValueAccessor,\r\n  customValueAccessorFactory,\r\n  ICustomValidatorHost,\r\n  ICustomValueAccessorHost,\r\n  KeyCode,\r\n  PositioningPlacement,\r\n  FuiComponentFactory\r\n} from '../../../misc/util/internal';\r\nimport {IDatepickerLocaleValues, RecursivePartial, FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {PopupAfterOpen, PopupConfig, PopupTrigger, FuiPopupComponentController} from '../../popup/internal';\r\nimport {DatepickerMode, FuiDatepicker} from '../components/datepicker';\r\nimport {CalendarConfig, DateConfig, DatetimeConfig, MonthConfig, TimeConfig, YearConfig} from '../classes/calendar-config';\r\n\r\n@Directive({\r\n  selector: '[fuiDatepicker]',\r\n  providers: [customValidatorFactory(FuiDatepickerDirective)]\r\n})\r\nexport class FuiDatepickerDirective\r\n  extends FuiPopupComponentController<FuiDatepicker>\r\n  implements ICustomValueAccessorHost<Date>, ICustomValidatorHost, OnChanges, PopupAfterOpen {\r\n\r\n  public config: CalendarConfig;\r\n  @Input('pickerInitialDate')\r\n  public initialDate?: Date;\r\n  @Input('pickerMaxDate')\r\n  public maxDate?: Date;\r\n  @Input('pickerMinDate')\r\n  public minDate?: Date;\r\n  @Input('pickerFirstDayOfWeek')\r\n  public firstDayOfWeek?: number;\r\n  @Input('pickerLocaleOverrides')\r\n  public localeOverrides: RecursivePartial<IDatepickerLocaleValues>;\r\n  @Output('pickerSelectedDateChange')\r\n  public onSelectedDateChange: EventEmitter<Date>;\r\n  @Output('pickerValidatorChange')\r\n  public onValidatorChange: EventEmitter<void>;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              public localizationService: FuiLocalizationService) {\r\n\r\n    super(renderer, element, componentFactory, FuiDatepicker, new PopupConfig({\r\n      trigger: PopupTrigger.Focus,\r\n      placement: PositioningPlacement.BottomLeft,\r\n      transition: 'scale',\r\n      transitionDuration: 200\r\n    }));\r\n\r\n    // This ensures the popup is drawn correctly (i.e. no border).\r\n    this._renderer.addClass(this.popup.elementRef.nativeElement, 'ui');\r\n    this._renderer.addClass(this.popup.elementRef.nativeElement, 'calendar');\r\n\r\n    this.onLocaleUpdate();\r\n    this.localizationService.onLanguageUpdate.subscribe(() => this.onLocaleUpdate());\r\n\r\n    this.onSelectedDateChange = new EventEmitter<Date>();\r\n    this.onValidatorChange = new EventEmitter<void>();\r\n\r\n    this.mode = DatepickerMode.Datetime;\r\n  }\r\n\r\n  @Input('pickerPlacement')\r\n  public set placement(placement: PositioningPlacement) {\r\n    this.popup.config.placement = placement;\r\n  }\r\n\r\n  @Input('pickerTransition')\r\n  public set transition(transition: string) {\r\n    this.popup.config.transition = transition;\r\n  }\r\n\r\n  @Input('pickerTransitionDuration')\r\n  public set transitionDuration(duration: number) {\r\n    this.popup.config.transitionDuration = duration;\r\n  }\r\n\r\n  private _selectedDate?: Date;\r\n\r\n  public get selectedDate(): Date | undefined {\r\n    return this._selectedDate;\r\n  }\r\n\r\n  public set selectedDate(date: Date | undefined) {\r\n    this._selectedDate = date;\r\n    this.onSelectedDateChange.emit(date);\r\n  }\r\n\r\n  private _mode: DatepickerMode;\r\n\r\n  @Input('pickerMode')\r\n  public get mode(): DatepickerMode {\r\n    return this._mode;\r\n  }\r\n\r\n  public set mode(mode: DatepickerMode) {\r\n    this._mode = mode || DatepickerMode.Datetime;\r\n    switch (this._mode) {\r\n      case DatepickerMode.Year:\r\n        this.config = new YearConfig();\r\n        break;\r\n      case DatepickerMode.Month:\r\n        this.config = new MonthConfig();\r\n        break;\r\n      case DatepickerMode.Date:\r\n      default:\r\n        this.config = new DateConfig();\r\n        break;\r\n      case DatepickerMode.Datetime:\r\n        this.config = new DatetimeConfig();\r\n        break;\r\n      case DatepickerMode.Time:\r\n        this.config = new TimeConfig();\r\n        break;\r\n    }\r\n    this.writeValue(this.selectedDate);\r\n  }\r\n\r\n  private _localeValues: IDatepickerLocaleValues;\r\n\r\n  public get localeValues(): IDatepickerLocaleValues {\r\n    return this.localizationService.override<'datepicker'>(this._localeValues, this.localeOverrides);\r\n  }\r\n\r\n  public popupOnOpen(): void {\r\n    if (this.componentInstance) {\r\n      this.componentInstance.service.config = this.config;\r\n      this.componentInstance.service.localeValues = this.localeValues;\r\n      this.componentInstance.service.currentDate = this.initialDate || new Date();\r\n      this.componentInstance.service.selectedDate = this.selectedDate;\r\n      this.componentInstance.service.maxDate = this.maxDate;\r\n      this.componentInstance.service.minDate = this.minDate;\r\n\r\n      if (this.firstDayOfWeek != undefined) {\r\n        this.componentInstance.service.firstDayOfWeek = this.firstDayOfWeek;\r\n      }\r\n\r\n      this.componentInstance.service.reset();\r\n\r\n      this.componentInstance.service.onDateChange.subscribe((d: Date) => {\r\n        this.selectedDate = d;\r\n        this.close();\r\n      });\r\n    }\r\n  }\r\n\r\n  public ngOnChanges({maxDate, minDate, mode}: SimpleChanges): void {\r\n    if (maxDate || minDate || mode) {\r\n      this.onValidatorChange.emit();\r\n    }\r\n  }\r\n\r\n  public validate(c: AbstractControl): ValidationErrors | null {\r\n    const value = c.value;\r\n\r\n    if (value != undefined) {\r\n      // We post process the min & max date because sometimes this puts the date outside of the allowed range.\r\n      if (this.minDate && value < this.minDate) {\r\n        return {fuiMinDate: {required: this.minDate, actual: value}};\r\n      }\r\n\r\n      if (this.maxDate && value > this.maxDate) {\r\n        return {fuiMaxDate: {required: this.maxDate, actual: value}};\r\n      }\r\n    }\r\n\r\n    // Angular expects null\r\n    // tslint:disable-next-line:no-null-keyword\r\n    return null;\r\n  }\r\n\r\n  public writeValue(value: Date | undefined): void {\r\n    this.selectedDate = value;\r\n\r\n    if (this.componentInstance) {\r\n      this.componentInstance.service.selectedDate = value;\r\n    }\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  public onKeyDown(e: KeyboardEvent): void {\r\n    if (e.keyCode === KeyCode.Escape) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  private onLocaleUpdate(): void {\r\n    this._localeValues = this.localizationService.get().datepicker;\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[fuiDatepicker]',\r\n  host: {'(pickerSelectedDateChange)': 'onChange($event)'},\r\n  providers: [customValueAccessorFactory(FuiDatepickerDirectiveValueAccessor)]\r\n})\r\nexport class FuiDatepickerDirectiveValueAccessor extends CustomValueAccessor<Date, FuiDatepickerDirective> {\r\n  constructor(public host: FuiDatepickerDirective) {\r\n    super(host);\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[fuiDatepicker]',\r\n  host: {'(pickerValidatorChange)': 'onValidatorChange()'},\r\n  providers: [customValidatorFactory(FuiDatepickerDirectiveValidator)]\r\n})\r\nexport class FuiDatepickerDirectiveValidator extends CustomValidator<FuiDatepickerDirective> {\r\n  constructor(public host: FuiDatepickerDirective) {\r\n    super(host);\r\n  }\r\n}\r\n","import {Directive, ElementRef, Host, HostBinding, HostListener, Input, Renderer2} from '@angular/core';\r\nimport {DateUtil} from '../../../misc/util/internal';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {PopupTrigger} from '../../popup/internal';\r\nimport {FuiDatepickerDirective, FuiDatepickerDirectiveValueAccessor} from './datepicker.directive';\r\nimport {DateParser, InternalDateParser} from '../classes/date-parser';\r\n\r\n@Directive({\r\n  selector: 'input[fuiDatepicker]'\r\n})\r\nexport class FuiDatepickerInputDirective {\r\n\r\n  private _currentInputValue: string | undefined;\r\n  private _lastUpdateTyped: boolean;\r\n\r\n  constructor(@Host() public datepicker: FuiDatepickerDirective,\r\n              @Host() public valueAccessor: FuiDatepickerDirectiveValueAccessor,\r\n              private _renderer: Renderer2,\r\n              private _element: ElementRef,\r\n              localizationService: FuiLocalizationService) {\r\n\r\n    this.useNativeOnMobile = true;\r\n    this.fallbackActive = false;\r\n\r\n    // Whenever the datepicker value updates, update the input text alongside it.\r\n    this.datepicker.onSelectedDateChange.subscribe(() =>\r\n      this.updateValue(this.selectedDateString));\r\n\r\n    localizationService.onLanguageUpdate.subscribe(() =>\r\n      this.updateValue(this.selectedDateString));\r\n  }\r\n\r\n  public get parser(): DateParser {\r\n    if (this.fallbackActive) {\r\n      return new InternalDateParser(this.datepicker.mode, this.datepicker.localeValues);\r\n    }\r\n    return new DateParser(this.datepicker.localeValues.formats[this.datepicker.mode], this.datepicker.localeValues);\r\n  }\r\n\r\n  public get selectedDateString(): string | undefined {\r\n    if (this.datepicker.selectedDate) {\r\n      return this.parser.format(this.datepicker.selectedDate);\r\n    }\r\n  }\r\n\r\n  @HostBinding('attr.type')\r\n  public get type(): string {\r\n    if (this.fallbackActive) {\r\n      return this.datepicker.config.fallback;\r\n    }\r\n    return 'text';\r\n  }\r\n\r\n  @HostBinding('attr.max')\r\n  public get max(): string | undefined {\r\n    if (this.fallbackActive && this.datepicker.maxDate) {\r\n      // Since HTML doesn't use a date object max is somewhat tricky.\r\n      // Our Datepicker will always choose the 1st date on the provided precision,\r\n      // meaning anything below the maxDate will work, hence endOf.\r\n      const max = DateUtil.endOf(this.datepicker.config.precision, DateUtil.clone(this.datepicker.maxDate));\r\n      return this.parser.format(max);\r\n    }\r\n  }\r\n\r\n  @HostBinding('attr.min')\r\n  public get min(): string | undefined {\r\n    if (this.fallbackActive && this.datepicker.minDate) {\r\n      // Since HTML doesn't use a date object min is somewhat tricky.\r\n      // We use 1 minute before the next date at the configured precision since\r\n      // our Datepicker picks the first available date at that precision.\r\n      const min = DateUtil.clone(this.datepicker.minDate);\r\n      return this.parser.format(min);\r\n    }\r\n  }\r\n\r\n  private _useNativeOnMobile: boolean;\r\n\r\n  @Input('pickerUseNativeOnMobile')\r\n  public get useNativeOnMobile(): boolean {\r\n    return this._useNativeOnMobile;\r\n  }\r\n\r\n  public set useNativeOnMobile(fallback: boolean) {\r\n    this._useNativeOnMobile = fallback;\r\n    const isOnMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent);\r\n    this.fallbackActive = this.useNativeOnMobile && isOnMobile;\r\n  }\r\n\r\n  private _fallbackActive: boolean;\r\n\r\n  public get fallbackActive(): boolean {\r\n    return this._fallbackActive;\r\n  }\r\n\r\n  public set fallbackActive(active: boolean) {\r\n    this._fallbackActive = active;\r\n    // If the fallback is active, then the trigger must be manual so the datepicker never opens.\r\n    this.datepicker.popup.config.trigger = this.fallbackActive ? PopupTrigger.Manual : PopupTrigger.Focus;\r\n    // Update the input value (this will insert the `T` as required).\r\n    this.updateValue(this.selectedDateString);\r\n  }\r\n\r\n  @HostListener('input', ['$event.target.value'])\r\n  public typeValue(value: string | undefined): void {\r\n    this._lastUpdateTyped = true;\r\n    this._currentInputValue = value;\r\n\r\n    if (!value) {\r\n      // Delete the selected date if no date was entered manually.\r\n      return this.datepicker.writeValue(undefined);\r\n    }\r\n\r\n    const parsed = this.parser.parse(value, this.datepicker.selectedDate);\r\n    if (!isNaN(parsed.getTime()) && value === this.parser.format(parsed)) {\r\n      return this.datepicker.writeValue(parsed);\r\n    }\r\n    return this.datepicker.writeValue(undefined);\r\n  }\r\n\r\n  @HostListener('focusout')\r\n  public onFocusOut(): void {\r\n    this.valueAccessor.onTouched();\r\n  }\r\n\r\n  private updateValue(value: string | undefined): void {\r\n    // Only update the current value if it is different to what it's being updated to.\r\n    // This is so that the editing position isn't changed when manually typing the date.\r\n    if (!this._lastUpdateTyped) {\r\n      this._renderer.setProperty(this._element.nativeElement, 'value', value || '');\r\n    }\r\n\r\n    this._lastUpdateTyped = false;\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision, DateUtil} from '../../../misc/util/internal';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeDateService extends CalendarRangeService {\r\n  public calcStart(start: Date): Date {\r\n    const monthStart = DateUtil.startOf(DatePrecision.Month, DateUtil.clone(start));\r\n    monthStart.setDate((1 - monthStart.getDay() + this.service.firstDayOfWeek - 7) % 7);\r\n    return monthStart;\r\n  }\r\n\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = item.date.getDate().toString();\r\n    item.isOutsideRange = item.date.getMonth() !== baseDate.getMonth();\r\n    item.isSelectable = item.isDisabled;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-date-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table seven column day\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"7\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ date }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n    <tr>\r\n        <th *ngFor=\"let day of days\">{{ day }}</th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarDateView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Date, new CalendarRangeDateService(DatePrecision.Month, 6, 7));\r\n  }\r\n\r\n  public get days(): string[] {\r\n    const days = this.service.localeValues.weekdaysNarrow;\r\n    return days.map((d, i) => days[(i + this.service.firstDayOfWeek) % days.length]);\r\n  }\r\n\r\n  public get date(): string {\r\n    return new DateParser(this.service.localeValues.formats.month, this.service.localeValues).format(this.currentDate);\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeHourService extends CalendarRangeService {\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    // Set minutes and seconds to 0\r\n    const customFormat: string = this.service.localeValues.formats.time.replace(/[ms]/g, '0');\r\n    item.humanReadable = new DateParser(customFormat, this.service.localeValues).format(item.date);\r\n    item.isOutsideRange = false;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-hour-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table four column hour\">\r\n<thead *ngIf=\"service.config.mode != 1\">\r\n    <tr>\r\n        <th colspan=\"4\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ date }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarHourView extends CalendarView {\r\n\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Hour, new CalendarRangeHourService(DatePrecision.Date, 6, 4));\r\n  }\r\n\r\n  public get date(): string {\r\n    return new DateParser(this.service.localeValues.formats.date, this.service.localeValues).format(this.currentDate);\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarMode} from '../services/calendar.service';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeMinuteService extends CalendarRangeService {\r\n  public calcStart(start: Date): Date {\r\n    return DateUtil.startOf(DatePrecision.Hour, DateUtil.clone(start), true);\r\n  }\r\n\r\n  public calcDates(start: Date): Date[] {\r\n    return Util.Array\r\n      .range(this.length)\r\n      .map(i => DateUtil.add(DatePrecision.Minute, DateUtil.clone(start), i * 5));\r\n  }\r\n\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = new DateParser(this.service.localeValues.formats.time, this.service.localeValues).format(item.date);\r\n    item.isOutsideRange = false;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-minute-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table three column minute\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"4\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ date }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarMinuteView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Minute, new CalendarRangeMinuteService(DatePrecision.Hour, 4, 3));\r\n  }\r\n\r\n  public get date(): string {\r\n    if (this.service.config.mode !== CalendarMode.TimeOnly) {\r\n      // Set minutes and seconds to 0\r\n      const dateTimeFormat: string = this.service.localeValues.formats.datetime.replace(/[ms]/g, '0');\r\n      return new DateParser(dateTimeFormat, this.service.localeValues).format(this.currentDate);\r\n    } else {\r\n      // Set minutes and seconds to 0\r\n      const timeFormat: string = this.service.localeValues.formats.time.replace(/[ms]/g, '0');\r\n      return new DateParser(timeFormat, this.service.localeValues).format(this.currentDate);\r\n    }\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeMonthService extends CalendarRangeService {\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = this.service.localeValues.monthsShort[item.date.getMonth()];\r\n    item.isOutsideRange = false;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-month-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table three column month\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"3\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ year }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarMonthView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Month, new CalendarRangeMonthService(DatePrecision.Year, 4, 3));\r\n  }\r\n\r\n  public get year(): string {\r\n    return new DateParser(this.service.localeValues.formats.year, this.service.localeValues).format(this.currentDate);\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\n\r\nexport class CalendarRangeYearService extends CalendarRangeService {\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = Util.String.padLeft(item.date.getFullYear().toString(), 4, '0');\r\n    item.isOutsideRange = item.date.getFullYear() >= this.calcStart(baseDate).getFullYear() + 10;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-year-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table three column year\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"3\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ pad(decadeStart) }} - {{ pad(decadeStart + 10) }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarYearView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Year, new CalendarRangeYearService(DatePrecision.Decade, 4, 3));\r\n  }\r\n\r\n  public get decadeStart(): number {\r\n    return DateUtil\r\n      .startOf(DatePrecision.Decade, DateUtil.clone(this.service.currentDate))\r\n      .getFullYear();\r\n  }\r\n\r\n  public pad(year: number): string {\r\n    return Util.String.padLeft(year.toString(), 4, '0');\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiPopupModule} from '../popup/internal';\r\nimport {FuiLocalizationModule} from '../../behaviors/localization/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiCalendarViewTitle} from './components/calendar-view-title';\r\nimport {FuiCalendarYearView} from './views/year-view';\r\nimport {FuiCalendarMonthView} from './views/month-view';\r\nimport {FuiCalendarItem} from './directives/calendar-item';\r\nimport {FuiCalendarDateView} from './views/date-view';\r\nimport {FuiDatepicker} from './components/datepicker';\r\nimport {FuiCalendarHourView} from './views/hour-view';\r\nimport {FuiCalendarMinuteView} from './views/minute-view';\r\nimport {FuiDatepickerInputDirective} from './directives/input.directive';\r\nimport {\r\n  FuiDatepickerDirective,\r\n  FuiDatepickerDirectiveValidator,\r\n  FuiDatepickerDirectiveValueAccessor\r\n} from './directives/datepicker.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FuiPopupModule,\r\n    FuiLocalizationModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiCalendarItem,\r\n\r\n    FuiCalendarViewTitle,\r\n    FuiCalendarYearView,\r\n    FuiCalendarMonthView,\r\n    FuiCalendarDateView,\r\n    FuiCalendarHourView,\r\n    FuiCalendarMinuteView,\r\n\r\n    FuiDatepicker,\r\n    FuiDatepickerDirective,\r\n    FuiDatepickerDirectiveValueAccessor,\r\n    FuiDatepickerDirectiveValidator,\r\n    FuiDatepickerInputDirective\r\n  ],\r\n  exports: [\r\n    FuiDatepickerDirective,\r\n    FuiDatepickerDirectiveValueAccessor,\r\n    FuiDatepickerDirectiveValidator,\r\n    FuiDatepickerInputDirective\r\n  ],\r\n  entryComponents: [\r\n    FuiDatepicker\r\n  ]\r\n})\r\nexport class FuiDatepickerModule {\r\n}\r\n","import {ChangeDetectorRef, Component, ElementRef, EventEmitter, HostBinding, HostListener, Input, Output, Renderer2} from '@angular/core';\r\nimport {FuiTransition, Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\n\r\n@Component({\r\n  selector: 'fui-dimmer',\r\n  template: `\r\n<div [class.content]=\"wrapContent\">\r\n    <ng-content></ng-content>\r\n</div>\r\n`,\r\n  styles: [`\r\n:host.dimmer:not(.hidden) {\r\n    transition: none;\r\n    display: flex !important;\r\n}\r\n`]\r\n})\r\nexport class FuiDimmer extends FuiTransition {\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.dimmer')\r\n  public readonly hasClasses: boolean;\r\n  @Output()\r\n  public isDimmedChange: EventEmitter<boolean>;\r\n  @Input()\r\n  public isClickable: boolean;\r\n  @Input()\r\n  public transition: string;\r\n  @Input()\r\n  public transitionDuration: number;\r\n  /* Internal for now */\r\n  @Input()\r\n  public wrapContent: boolean;\r\n  private _transitionController: TransitionController;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, changeDetector: ChangeDetectorRef) {\r\n    super(renderer, element, changeDetector);\r\n\r\n    this._isDimmed = false;\r\n    this.isDimmedChange = new EventEmitter<boolean>();\r\n    this.isClickable = true;\r\n\r\n    this.wrapContent = true;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  private _isDimmed: boolean;\r\n\r\n  @HostBinding('class.active')\r\n  @Input()\r\n  public get isDimmed(): boolean {\r\n    return this._isDimmed;\r\n  }\r\n\r\n  public set isDimmed(value: boolean) {\r\n    const isDimmed = !!value;\r\n\r\n    if (!this._transitionController) {\r\n      // Initialise transition functionality when first setting dimmed, to ensure initial state doesn't transition.\r\n      this._transitionController = new TransitionController(isDimmed, 'block');\r\n\r\n      this.setTransitionController(this._transitionController);\r\n\r\n      this._isDimmed = isDimmed;\r\n    } else if (this._isDimmed !== isDimmed) {\r\n\r\n      this._isDimmed = isDimmed;\r\n\r\n      this._transitionController.stopAll();\r\n      this._transitionController.animate(\r\n        new Transition('fade', this.transitionDuration, isDimmed ? TransitionDirection.In : TransitionDirection.Out));\r\n    }\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (this.isClickable) {\r\n      this.isDimmed = false;\r\n      this.isDimmedChange.emit(this.isDimmed);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiDimmer} from './components/dimmer';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule\r\n  ],\r\n  declarations: [\r\n    FuiDimmer\r\n  ],\r\n  exports: [\r\n    FuiDimmer\r\n  ]\r\n})\r\nexport class FuiDimmerModule {\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\n\r\nexport type DropdownAutoCloseType = 'itemClick' | 'outsideClick' | 'disabled';\r\n\r\n// Creates essentially a 'string' enum.\r\nexport const DropdownAutoCloseType = {\r\n  ItemClick: 'itemClick' as DropdownAutoCloseType,\r\n  OutsideClick: 'outsideClick' as DropdownAutoCloseType,\r\n  Disabled: 'disabled' as DropdownAutoCloseType\r\n};\r\n\r\nexport class DropdownService {\r\n  // Open state of the dropdown\r\n  public isOpen: boolean;\r\n  // Animating state of the dropdown.\r\n  public isAnimating: boolean;\r\n  // Emitter for when dropdown open state changes.\r\n  public isOpenChange: EventEmitter<boolean>;\r\n\r\n  public isDisabled: boolean;\r\n\r\n  // Sets the \"autoclose\" mode of the dropdown - i.e. what user action causes it to autoclose.\r\n  public autoCloseMode: DropdownAutoCloseType;\r\n\r\n  // Keep track of the containing dropdown so we can open it as necessary.\r\n  public parent?: DropdownService;\r\n  // Also keep track of dropdowns nested in this one so we can close them as necessary.\r\n  public children: DropdownService[];\r\n\r\n  constructor(autoCloseMode: DropdownAutoCloseType = DropdownAutoCloseType.ItemClick) {\r\n    this.isOpen = false;\r\n    this.isOpenChange = new EventEmitter<boolean>();\r\n\r\n    this.isDisabled = false;\r\n\r\n    this.autoCloseMode = autoCloseMode;\r\n\r\n    this.children = [];\r\n  }\r\n\r\n  public get isNested(): boolean {\r\n    return !!this.parent;\r\n  }\r\n\r\n  public setOpenState(isOpen: boolean, reflectInParent: boolean = false): void {\r\n    if (this.isOpen !== isOpen && !this.isDisabled) {\r\n      // Only update the state if it has changed, and the dropdown isn't disabled.\r\n      this.isOpen = !!isOpen;\r\n      this.isAnimating = true;\r\n      // We must delay the emitting to avoid the 'changed after checked' Angular errors.\r\n      this.delay(() => this.isOpenChange.emit(this.isOpen));\r\n\r\n      if (!this.isOpen) {\r\n        // Close the child dropdowns when this one closes.\r\n        this.children.forEach(c => c.setOpenState(this.isOpen));\r\n      }\r\n\r\n      if (this.parent && reflectInParent) {\r\n        // Open the parent dropdowns when this one opens.\r\n        this.parent.setOpenState(this.isOpen, true);\r\n      }\r\n    } else if (this.isOpen !== isOpen && this.isDisabled) {\r\n      // If the state has changed, but the dropdown is disabled, re-emit the original isOpen value.\r\n      this.delay(() => this.isOpenChange.emit(this.isOpen));\r\n    }\r\n  }\r\n\r\n  public setDisabledState(isDisabled: boolean): void {\r\n    if (this.isDisabled !== isDisabled) {\r\n      if (!!isDisabled) {\r\n        // Close the dropdown as it is now disabled\r\n        this.setOpenState(false);\r\n      }\r\n\r\n      this.isDisabled = !!isDisabled;\r\n    }\r\n  }\r\n\r\n  public toggleOpenState(): void {\r\n    this.setOpenState(!this.isOpen);\r\n  }\r\n\r\n  // Registers a dropdown service as a child of this service.\r\n  public registerChild(child: DropdownService): void {\r\n    if (!this.isChildRegistered(child)) {\r\n      this.children.push(child);\r\n      child.parent = this;\r\n    }\r\n  }\r\n\r\n  // Recursive method to check if the provided dropdown is already registered as a child, or is a descendant of a child.\r\n  public isChildRegistered(child: DropdownService): boolean {\r\n    return this === child || !!this.children\r\n      .find(c => !!c.children\r\n        .find(cChild => cChild.isChildRegistered(child)));\r\n  }\r\n\r\n  // Wipes any nested data, so all services can be cleanly reattached.\r\n  public clearChildren(): void {\r\n    this.children.forEach(c => {\r\n      c.parent = undefined;\r\n    });\r\n    this.children = [];\r\n  }\r\n\r\n  // Method for delaying an event into the next tick, to avoid Angular \"changed after checked\" error.\r\n  private delay(callback: () => void): void {\r\n    setTimeout(() => callback());\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ChangeDetectorRef,\r\n  ContentChild,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  forwardRef,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  QueryList,\r\n  Renderer2\r\n} from '@angular/core';\r\nimport {FuiTransition, Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {HandledEvent, IAugmentedElement, KeyCode} from '../../../misc/util/internal';\r\nimport {DropdownAutoCloseType, DropdownService} from '../services/dropdown.service';\r\n// Polyfill for IE\r\nimport 'element-closest';\r\n\r\n@Directive({\r\n  // We must attach to every '.item' as Angular doesn't support > selectors.\r\n  selector: '.item'\r\n})\r\nexport class FuiDropdownMenuItem {\r\n\r\n  // Stores the class name used for a 'selected' item.\r\n  public selectedClass: string;\r\n  @ContentChild(forwardRef(() => FuiDropdownMenu), {static: false})\r\n  public childDropdownMenu: FuiDropdownMenu;\r\n\r\n  constructor(private _renderer: Renderer2, public element: ElementRef) {\r\n    this.isSelected = false;\r\n\r\n    this.selectedClass = 'selected';\r\n  }\r\n\r\n  public get isDisabled(): boolean {\r\n    // We must use nativeElement as Angular doesn't have a way of reading class information.\r\n    const element = this.element.nativeElement as Element;\r\n    return element.classList.contains('disabled');\r\n  }\r\n\r\n  public get hasChildDropdown(): boolean {\r\n    return !!this.childDropdownMenu;\r\n  }\r\n\r\n  private _isSelected: boolean;\r\n\r\n  public get isSelected(): boolean {\r\n    return this._isSelected;\r\n  }\r\n\r\n  public set isSelected(value: boolean) {\r\n    // Renderer is used to enable a dynamic class name.\r\n    if (value) {\r\n      this._renderer.addClass(this.element.nativeElement, this.selectedClass);\r\n    } else {\r\n      this._renderer.removeClass(this.element.nativeElement, this.selectedClass);\r\n    }\r\n  }\r\n\r\n  public performClick(): void {\r\n    // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n    this.element.nativeElement.click();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[fuiDropdownMenu]'\r\n})\r\nexport class FuiDropdownMenu extends FuiTransition implements AfterContentInit, OnDestroy {\r\n\r\n  @Input()\r\n  public menuTransition: string;\r\n\r\n  // Stack that keeps track of the currently selected item.\r\n  @Input()\r\n  public menuTransitionDuration: number;\r\n  // Selected items lower in the stack are necessarily the parent of the item one higher.\r\n  public selectedItems: FuiDropdownMenuItem[];\r\n  // Sets whether or not to automatically select the 1st item when the dropdown is opened.\r\n  @Input()\r\n  public menuAutoSelectFirst: boolean;\r\n  @Input()\r\n  public menuSelectedItemClass: string;\r\n  private _transitionController: TransitionController;\r\n  @ContentChildren(FuiDropdownMenuItem)\r\n  private _itemsQueryInternal: QueryList<FuiDropdownMenuItem>;\r\n  private _itemsQueryOverride: QueryList<FuiDropdownMenuItem>;\r\n  private _parentKeyDownListener: () => void;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, changeDetector: ChangeDetectorRef) {\r\n    super(renderer, element, changeDetector);\r\n\r\n    // Initialise transition functionality.\r\n    this._transitionController = new TransitionController(false);\r\n    this.setTransitionController(this._transitionController);\r\n\r\n    this.menuTransition = 'slide down';\r\n    this.menuTransitionDuration = 200;\r\n\r\n    this.menuAutoSelectFirst = false;\r\n    this.menuSelectedItemClass = 'selected';\r\n\r\n    // In case the dropdown menu is destroyed before it has a chance to be fully initialised.\r\n    this._parentKeyDownListener = () => {\r\n    };\r\n  }\r\n\r\n  public set parentElement(value: ElementRef) {\r\n    this._parentKeyDownListener = this._renderer\r\n      .listen(value.nativeElement, 'keydown', (e: KeyboardEvent) =>\r\n        this.onParentKeyDown(e));\r\n  }\r\n\r\n  public set items(items: QueryList<FuiDropdownMenuItem>) {\r\n    this._itemsQueryOverride = items;\r\n  }\r\n\r\n  private _service: DropdownService;\r\n\r\n  public get service(): DropdownService {\r\n    return this._service;\r\n  }\r\n\r\n  public set service(value: DropdownService) {\r\n    this._service = value;\r\n\r\n    let previousIsOpen = this._service.isOpen;\r\n    this._service.isOpenChange.subscribe((isOpen: boolean) => {\r\n      if (isOpen !== previousIsOpen) {\r\n        // Only run transitions if the open state has changed.\r\n        this._transitionController.stopAll();\r\n        this._transitionController.animate(\r\n          new Transition(\r\n            this.menuTransition,\r\n            this.menuTransitionDuration,\r\n            TransitionDirection.Either,\r\n            () => this._service.isAnimating = false));\r\n      }\r\n\r\n      if (!isOpen) {\r\n        // Reset the item selections when a nested item is selected to avoid incosistent open states.\r\n        if (this.selectedItems.length > 1) {\r\n          this.resetSelection();\r\n        }\r\n      }\r\n\r\n      previousIsOpen = isOpen;\r\n    });\r\n  }\r\n\r\n  private get _itemsQuery(): QueryList<FuiDropdownMenuItem> {\r\n    return this._itemsQueryOverride || this._itemsQueryInternal;\r\n  }\r\n\r\n  // Get the list of items, ignoring those that are disabled.\r\n  private get _items(): FuiDropdownMenuItem[] {\r\n    return this._itemsQuery.filter(i => !i.isDisabled);\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent & MouseEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n\r\n      if (this._service.autoCloseMode === DropdownAutoCloseType.ItemClick) {\r\n        const target = e.target as IAugmentedElement;\r\n        if (this._element.nativeElement.contains(target.closest('.item')) && !/input|textarea/i.test(target.tagName)) {\r\n          // Once an item is selected, we can close the entire dropdown.\r\n          this._service.setOpenState(false, true);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public onParentKeyDown(e: KeyboardEvent): void {\r\n    // Only the root dropdown (i.e. not nested dropdowns) is responsible for keeping track of the currently selected item.\r\n    if (this._service && this._service.isOpen && !this._service.isNested) {\r\n      // Stop document events like scrolling while open.\r\n      const target = e.target as Element;\r\n      if (!/input/i.test(target.tagName) &&\r\n        [KeyCode.Escape, KeyCode.Enter, KeyCode.Up, KeyCode.Down, KeyCode.Left, KeyCode.Right].find(kC => kC === e.keyCode)) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      // Gets the top selected item from the stack.\r\n      const [selected] = this.selectedItems.slice(-1);\r\n      // Keeping track of the menu containing the currently selected element allows us to easily determine its siblings.\r\n      let selectedContainer: FuiDropdownMenu = this;\r\n      if (this.selectedItems.length >= 2) {\r\n        const [selectedParent] = this.selectedItems.slice(-2);\r\n        selectedContainer = selectedParent.childDropdownMenu;\r\n      }\r\n\r\n      switch (e.keyCode) {\r\n        // Escape : close the entire dropdown.\r\n        case KeyCode.Escape: {\r\n          this._service.setOpenState(false);\r\n          break;\r\n        }\r\n        // Down : select the next item below the current one, or the 1st if none selected.\r\n        case KeyCode.Down:\r\n        // Up : select the next item above the current one, or the 1st if none selected.\r\n        case KeyCode.Up: {\r\n          this.selectedItems.pop();\r\n          this.selectedItems.push(selectedContainer.updateSelection(selected, e.keyCode));\r\n          // Prevent default regardless of whether we are in an input, to stop jumping to the start or end of the query string.\r\n          e.preventDefault();\r\n          break;\r\n        }\r\n        // Enter : if the item doesn't contain a nested dropdown, 'click' it. Otherwise, fall through to 'Right' action.\r\n        case KeyCode.Enter: {\r\n          if (selected && !selected.hasChildDropdown) {\r\n            selected.performClick();\r\n            break;\r\n          }\r\n        }\r\n        // falls through\r\n        // Right : if the selected item contains a nested dropdown, open the dropdown & select the 1st item.\r\n        case KeyCode.Right: {\r\n          if (selected && selected.hasChildDropdown) {\r\n            selected.childDropdownMenu.service.setOpenState(true);\r\n\r\n            this.selectedItems.push(selected.childDropdownMenu.updateSelection(selected, e.keyCode));\r\n          }\r\n          break;\r\n        }\r\n        // Left : if the selected item is in a nested dropdown, close it and select the containing item.\r\n        case KeyCode.Left: {\r\n          if (this.selectedItems.length >= 2) {\r\n            this.selectedItems.pop();\r\n            const [selectedParent] = this.selectedItems.slice(-1);\r\n\r\n            selectedParent.childDropdownMenu.service.setOpenState(false);\r\n            selectedParent.isSelected = true;\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public resetSelection(): void {\r\n    this.selectedItems = [];\r\n    this._items.forEach(i => {\r\n      i.selectedClass = this.menuSelectedItemClass;\r\n      i.isSelected = false;\r\n    });\r\n\r\n    if (this.menuAutoSelectFirst && this._items.length > 0) {\r\n      // Autoselect 1st item if required & possible.\r\n      this._items[0].isSelected = true;\r\n      this.scrollToItem(this._items[0]);\r\n      this.selectedItems.push(this._itemsQuery.first);\r\n    }\r\n  }\r\n\r\n  // Determines the item to next be selected, based on the keyboard input & the currently selected item.\r\n  public updateSelection(selectedItem: FuiDropdownMenuItem, keyCode: KeyCode): FuiDropdownMenuItem {\r\n    if (selectedItem) {\r\n      // Remove the selected status on the previously selected item.\r\n      selectedItem.isSelected = false;\r\n    }\r\n\r\n    let selectedIndex = this._items\r\n      .findIndex(i => i === selectedItem);\r\n\r\n    let newSelection: FuiDropdownMenuItem;\r\n\r\n    switch (keyCode) {\r\n      case KeyCode.Enter:\r\n      case KeyCode.Right:\r\n      case KeyCode.Down:\r\n        selectedIndex += 1;\r\n        break;\r\n      case KeyCode.Up:\r\n        if (selectedIndex === -1) {\r\n          // If none are selected, select the 1st item. Should this be `this.items.last - 1`?\r\n          selectedIndex = 0;\r\n          break;\r\n        }\r\n\r\n        selectedIndex -= 1;\r\n        break;\r\n    }\r\n\r\n    // Select the item at the updated index. The || is to stop us selecting past the start or end of the item list.\r\n    newSelection = this._items[selectedIndex] || selectedItem;\r\n\r\n    if (newSelection) {\r\n      // Set the selected status on the newly selected item.\r\n      newSelection.isSelected = true;\r\n\r\n      // Set the current scroll position to the location of the newly selected item.\r\n      this.scrollToItem(newSelection);\r\n    }\r\n\r\n    return newSelection;\r\n  }\r\n\r\n  public scrollToItem(item: FuiDropdownMenuItem): void {\r\n    const menu: Element = this._element.nativeElement;\r\n    const selectedRect: ClientRect = item.element.nativeElement.getBoundingClientRect();\r\n\r\n    const menuRect = menu.getBoundingClientRect();\r\n\r\n    let scrollAmount = 0;\r\n\r\n    if (selectedRect.bottom > menuRect.bottom) {\r\n      scrollAmount = selectedRect.bottom - menuRect.bottom;\r\n    }\r\n\r\n    if (selectedRect.top < menuRect.top) {\r\n      scrollAmount = selectedRect.top - menuRect.top;\r\n    }\r\n\r\n    menu.scrollTop += Math.round(scrollAmount);\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this.onItemsChanged();\r\n    this._itemsQuery.changes.subscribe(() => this.onItemsChanged());\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._parentKeyDownListener();\r\n  }\r\n\r\n  private onItemsChanged(): void {\r\n    // We use `_items` rather than `items` in case one or more have become disabled.\r\n    this.resetSelection();\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ContentChild,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  QueryList\r\n} from '@angular/core';\r\nimport {HandledEvent, IFocusEvent, KeyCode} from '../../../misc/util/internal';\r\nimport {DropdownAutoCloseType, DropdownService} from '../services/dropdown.service';\r\nimport {FuiDropdownMenu} from './dropdown-menu';\r\n\r\n@Directive({\r\n  selector: '[fuiDropdown]'\r\n})\r\nexport class FuiDropdown implements AfterContentInit {\r\n\r\n  public service: DropdownService;\r\n  @ContentChild(FuiDropdownMenu, {static: false})\r\n  private _menu: FuiDropdownMenu;\r\n\r\n  constructor(private _element: ElementRef) {\r\n    this.service = new DropdownService();\r\n    this.service.isOpenChange.subscribe(() => {\r\n      if (this.service.isOpen) {\r\n        this._element.nativeElement.focus();\r\n      }\r\n    });\r\n  }\r\n\r\n  @Output()\r\n  public get isOpenChange(): EventEmitter<boolean> {\r\n    return this.service.isOpenChange;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    // This is to ensure nested dropdowns don't get made bold.\r\n    return this.service.isOpen && !this.service.isNested;\r\n  }\r\n\r\n  @Input()\r\n  public get isOpen(): boolean {\r\n    return this.service.isOpen;\r\n  }\r\n\r\n  public set isOpen(value: boolean) {\r\n    // If we are opening the dropdown, we want to always open its parents.\r\n    this.service.setOpenState(value, !!value);\r\n  }\r\n\r\n  @HostBinding('class.disabled')\r\n  @Input()\r\n  public get isDisabled(): boolean {\r\n    return this.service.isDisabled;\r\n  }\r\n\r\n  public set isDisabled(value: boolean) {\r\n    this.service.setDisabledState(value);\r\n  }\r\n\r\n  @Input()\r\n  public get autoClose(): DropdownAutoCloseType {\r\n    return this.service.autoCloseMode;\r\n  }\r\n\r\n  public set autoClose(value: DropdownAutoCloseType) {\r\n    this.service.autoCloseMode = value;\r\n  }\r\n\r\n  @ContentChildren(FuiDropdown, {descendants: true})\r\n  private _children: QueryList<FuiDropdown>;\r\n\r\n  public get children(): FuiDropdown[] {\r\n    // @ContentChildren includes the current element by default.\r\n    return this._children.filter(c => c !== this);\r\n  }\r\n\r\n  @Input('tabindex')\r\n  private _tabIndex?: number;\r\n\r\n  @HostBinding('attr.tabindex')\r\n  public get tabIndex(): number | undefined {\r\n    if (this.isDisabled || this.service.isNested) {\r\n      // If disabled, remove from tabindex.\r\n      return undefined;\r\n    }\r\n    if (this._tabIndex != undefined) {\r\n      // If custom tabindex, default to that.\r\n      return this._tabIndex;\r\n    }\r\n    // Otherwise, return default of 0.\r\n    return 0;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    if (!this._menu) {\r\n      throw new Error('You must set [fuiDropdownMenu] on the menu element.');\r\n    }\r\n    this._menu.service = this.service;\r\n    this._menu.parentElement = this._element;\r\n\r\n    this.childrenUpdated();\r\n    this._children.changes\r\n      .subscribe(() => this.childrenUpdated());\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n\r\n      this.service.toggleOpenState();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: IFocusEvent): void {\r\n    if (!this._element.nativeElement.contains(e.relatedTarget)) {\r\n      this.externallyClose();\r\n    }\r\n  }\r\n\r\n  @HostListener('keypress', ['$event'])\r\n  public onKeypress(e: HandledEvent & KeyboardEvent): void {\r\n    // Block the keyboard event from being fired on parent dropdowns.\r\n    if (!e.eventHandled) {\r\n\r\n      if (e.keyCode === KeyCode.Enter) {\r\n        e.eventHandled = true;\r\n\r\n        this.service.setOpenState(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  private childrenUpdated(): void {\r\n    // Reregister child dropdowns each time the menu content changes.\r\n    this.children\r\n      .map(c => c.service)\r\n      .forEach(s => this.service.registerChild(s));\r\n  }\r\n\r\n  private externallyClose(): void {\r\n    if (this.service.autoCloseMode === DropdownAutoCloseType.ItemClick ||\r\n      this.service.autoCloseMode === DropdownAutoCloseType.OutsideClick) {\r\n      // No need to reflect in parent since they are also bound to document.\r\n      this.service.setOpenState(false);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiDropdown} from './directives/dropdown';\r\nimport {FuiDropdownMenu, FuiDropdownMenuItem} from './directives/dropdown-menu';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule\r\n  ],\r\n  declarations: [\r\n    FuiDropdown,\r\n    FuiDropdownMenu,\r\n    FuiDropdownMenuItem\r\n  ],\r\n  exports: [\r\n    FuiDropdown,\r\n    FuiDropdownMenu,\r\n    FuiDropdownMenuItem\r\n  ]\r\n})\r\nexport class FuiDropdownModule {\r\n}\r\n","import {ComponentRef} from '@angular/core';\r\nimport {ModalConfig} from './modal-config';\r\nimport {FuiModal} from '../components/modal';\r\n\r\n// Helper class to support method chaining when calling `FuiModalService.open(...)`.\r\nexport class ActiveModal<T, U, V> {\r\n  private _config: ModalConfig<T, U, V>;\r\n  private _componentRef: ComponentRef<FuiModal<U, V>>;\r\n\r\n  constructor(instance: ModalConfig<T, U, V>, componentRef: ComponentRef<FuiModal<U, V>>) {\r\n    this._config = instance;\r\n    this._componentRef = componentRef;\r\n\r\n    // Automatically destroy the modal component when it has been dismissed.\r\n    this.component.onDismiss.subscribe(() => this._componentRef.destroy());\r\n  }\r\n\r\n  // Shorthand for direct access to the `FuiModal` instance.\r\n  public get component(): FuiModal<U, V> {\r\n    return this._componentRef.instance;\r\n  }\r\n\r\n  // Registers a callback for when `onApprove` is fired.\r\n  public onApprove(callback: (result: U) => void): ActiveModal<T, U, V> {\r\n    this.component.onApprove.subscribe((res: U) => callback(res));\r\n    return this;\r\n  }\r\n\r\n  // Registers a callback for when `onDeny` is fired.\r\n  public onDeny(callback: (result: V) => void): ActiveModal<T, U, V> {\r\n    this.component.onDeny.subscribe((res: V) => callback(res));\r\n    return this;\r\n  }\r\n\r\n  // Fires the approve event of the modal manually.\r\n  public approve(result: U): void {\r\n    this.component.approve(result);\r\n  }\r\n\r\n  // Fires the deny event of the modal manually.\r\n  public deny(result: V): void {\r\n    this.component.deny(result);\r\n  }\r\n\r\n  // Removes the modal component instantly, without transitions or firing any events.\r\n  public destroy(): void {\r\n    this._componentRef.destroy();\r\n  }\r\n}\r\n","import {Type} from '@angular/core';\r\nimport {ModalTemplate} from './modal-template';\r\n\r\nexport type ModalSize = 'mini' | 'tiny' | 'small' | 'normal' | 'large';\r\n\r\nexport const ModalSize = {\r\n  Mini: 'mini' as ModalSize,\r\n  Tiny: 'tiny' as ModalSize,\r\n  Small: 'small' as ModalSize,\r\n  Normal: 'normal' as ModalSize,\r\n  Large: 'large' as ModalSize\r\n};\r\n\r\n// Stores a basic set of configuration options for a modal.\r\nexport class ModalConfig<T, U = undefined, V = undefined> {\r\n  // Determines whether the modal can be closed with a close button, clicking outside, or the escape key.\r\n  public isClosable: boolean;\r\n  // Value to deny with when closing via `isClosable`.\r\n  public closeResult: V;\r\n\r\n  // Data to pass to the modal instance when opened.\r\n  public context?: T;\r\n\r\n  // Size used to display the modal.\r\n  public size: ModalSize;\r\n  // Whether the modal takes up the full width of the screen.\r\n  public isFullScreen: boolean;\r\n  // Whether or not the modal has basic styles applied.\r\n  public isBasic: boolean;\r\n  // Whether the modal shows against a light background.\r\n  public isInverted: boolean;\r\n  // Whether or not the modal should be placed in the center of the page.\r\n  public isCentered: boolean;\r\n\r\n  // Whether or not the modal should always display a scrollbar.\r\n  public mustScroll: boolean;\r\n\r\n  // Transition to display modal with.\r\n  public transition: string;\r\n  // Duration of the modal & dimmer transitions.\r\n  public transitionDuration: number;\r\n\r\n  constructor(context: T | undefined = undefined, isClosable: boolean = true) {\r\n    // Initialise with default values.\r\n    this.isClosable = isClosable;\r\n    this.context = context;\r\n\r\n    this.size = ModalSize.Normal;\r\n    this.isFullScreen = false;\r\n    this.isBasic = false;\r\n    this.isInverted = false;\r\n    this.isCentered = true;\r\n\r\n    this.mustScroll = false;\r\n\r\n    this.transition = 'scale';\r\n    this.transitionDuration = 500;\r\n  }\r\n}\r\n\r\n// Used when creating a modal from a `TemplateRef`.\r\nexport class TemplateModalConfig<T, U = undefined, V = undefined> extends ModalConfig<T, U, V> {\r\n  public template: ModalTemplate<T, U, V>;\r\n\r\n  constructor(template: ModalTemplate<T, U, V>, context: T | undefined = undefined, isClosable: boolean = true) {\r\n    super(context, isClosable);\r\n\r\n    this.template = template;\r\n  }\r\n}\r\n\r\n// Used when creating a modal from an existing component.\r\nexport class ComponentModalConfig<T, U = undefined, V = undefined> extends ModalConfig<T, U, V> {\r\n  public component: Type<any>;\r\n\r\n  constructor(component: Type<any>, context: T | undefined = undefined, isClosable: boolean = true) {\r\n    super(context, isClosable);\r\n\r\n    this.component = component;\r\n  }\r\n}\r\n","// Shorthand to avoid writing arrow types everywhere.\r\nexport type ModalResult<T> = (result: T) => void;\r\n\r\n// Used to pass ability to control a modal to a component.\r\nexport class ModalControls<T, U> {\r\n  constructor(approve: ModalResult<T>, deny: ModalResult<U>) {\r\n    this.approve = approve;\r\n    this.deny = deny;\r\n  }\r\n\r\n  // Use method here rather than arrow variables to make intellisense show they're methods.\r\n  public approve(result: T): void {\r\n  }\r\n\r\n  public deny(result: U): void {\r\n  }\r\n}\r\n\r\n// Injected into custom modal components, to allow control of the modal, and access to a context object.\r\nexport class Modal<T, U = undefined, V = undefined> extends ModalControls<U, V> {\r\n  public context: T;\r\n\r\n  constructor(controls: ModalControls<U, V>, context: T) {\r\n    // Instances of `ModalControls` are only created in the `FuiModal` constructor,\r\n    // so we take an initialised instance rather than remaking one each time.\r\n    super(controls.approve, controls.deny);\r\n\r\n    this.context = context;\r\n  }\r\n}\r\n","import {TemplateRef} from '@angular/core';\r\nimport {ModalControls} from './modal-controls';\r\n\r\n// Shorthand for a modal template. Sets up ability to write: `<ng-template let-context let-modal=\"modal\">...</ng-template>`\r\n// We use an abstract class as ModalTemplate tends to be used within decorated properties, which means it needs to exist!\r\nexport abstract class ModalTemplate<T, U, V> extends TemplateRef<{ $implicit: T; modal: ModalControls<U, V> }> {\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {IDynamicClasses, KeyCode, FuiComponentFactory, Util} from '../../../misc/util/internal';\r\nimport {Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {ModalControls, ModalResult} from '../classes/modal-controls';\r\nimport {ModalConfig, ModalSize} from '../classes/modal-config';\r\n\r\n@Component({\r\n  selector: 'fui-modal',\r\n  template: `\r\n<!-- Page dimmer for modal background. -->\r\n<fui-modal-dimmer [ngClass]=\"{'top aligned': !isCentered}\"\r\n                  [class.inverted]=\"isInverted\"\r\n                  [(isDimmed)]=\"dimBackground\"\r\n                  [transitionDuration]=\"transitionDuration\"\r\n                  (click)=\"close()\">\r\n\r\n    <!-- Modal component, with transition component attached -->\r\n    <div class=\"ui modal\"\r\n         [fuiTransition]=\"transitionController\"\r\n         [class.active]=\"transitionController?.isVisible\"\r\n         [class.fullscreen]=\"isFullScreen\"\r\n         [class.basic]=\"isBasic\"\r\n         [class.scrolling]=\"mustScroll\"\r\n         [class.inverted]=\"isInverted\"\r\n         [ngClass]=\"dynamicClasses\"\r\n         (click)=\"onClick($event)\"\r\n         #modal>\r\n\r\n        <!-- Configurable close icon -->\r\n        <i class=\"close icon\" *ngIf=\"isClosable\" (click)=\"close()\"></i>\r\n        <!-- <ng-content> so that <fui-modal> can be used as a normal component. -->\r\n        <ng-content></ng-content>\r\n        <!-- @ViewChild reference so we can insert elements beside this div. -->\r\n        <div #templateSibling></div>\r\n    </div>\r\n</fui-modal-dimmer>\r\n`,\r\n  styles: [``]\r\n})\r\nexport class FuiModal<T, U> implements OnInit, AfterViewInit {\r\n\r\n  @Input()\r\n  // Determines whether the modal can be closed with a close button, clicking outside, or the escape key.\r\n  public isClosable: boolean;\r\n  @Input()\r\n  // Value to deny with when closing via `isClosable`.\r\n  public closeResult: U;\r\n  // Separate class for the `approve` and `deny` methods to support passing into components.\r\n  public controls: ModalControls<T, U>;\r\n  // Fires when the modal closes, after `approve` has been called.\r\n  @Output('approved')\r\n  public onApprove: EventEmitter<T>;\r\n  // Fires when the modal closes, after `deny` has been called.\r\n  @Output('denied')\r\n  public onDeny: EventEmitter<U>;\r\n  // Fires when the modal closes.\r\n  @Output('dismissed')\r\n  public onDismiss: EventEmitter<void>;\r\n  // Size used to display the modal.\r\n  @Input()\r\n  public size: ModalSize;\r\n  @Input()\r\n  public isCentered: boolean;\r\n  // Whether or not the modal has basic styles applied.\r\n  @Input()\r\n  public isBasic: boolean;\r\n  public transitionController: TransitionController;\r\n  // Transition to display modal with.\r\n  @Input()\r\n  public transition: string;\r\n  // Duration of the modal & dimmer transitions.\r\n  @Input()\r\n  public transitionDuration: number;\r\n  // Whether or not the backround dimmer is active.\r\n  public dimBackground: boolean;\r\n  // `ViewContainerRef` for the element the template gets injected as a sibling of.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: true})\r\n  public templateSibling: ViewContainerRef;\r\n  @ViewChild('modal', {static: false})\r\n  private _modalElement: ElementRef;\r\n  // Whether or not the modal should always display a scrollbar.\r\n  private _mustAlwaysScroll: boolean;\r\n  // True after `approve` or `deny` has been called.\r\n  private _isClosing: boolean;\r\n  // Parent element of modal before relocation to document body.\r\n  private _originalContainer?: Element;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef, private _componentFactory: FuiComponentFactory) {\r\n    // Initialise with default configuration from `ModalConfig` (to avoid writing defaults twice).\r\n    const config = new ModalConfig<undefined, T, U>();\r\n    this.loadConfig(config);\r\n\r\n    // Event emitters for each of the possible modal outcomes.\r\n    this.onApprove = new EventEmitter<T>();\r\n    this.onDeny = new EventEmitter<U>();\r\n    this.onDismiss = new EventEmitter<void>();\r\n\r\n    // Initialise controls with actions for the `approve` and `deny` cases.\r\n    this.controls = new ModalControls<T, U>(\r\n      res => this.dismiss(() => this.onApprove.emit(res)),\r\n      res => this.dismiss(() => this.onDeny.emit(res)));\r\n\r\n    // Internal variable initialisation.\r\n    this.dimBackground = false;\r\n    this._isClosing = false;\r\n    this.transitionController = new TransitionController(false);\r\n  }\r\n\r\n  public get approve(): ModalResult<T> {\r\n    return this.controls.approve;\r\n  }\r\n\r\n  public get deny(): ModalResult<U> {\r\n    return this.controls.deny;\r\n  }\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n    if (this.size) {\r\n      classes[this.size] = true;\r\n    }\r\n    return classes;\r\n  }\r\n\r\n  // Whether the modal takes up the full width of the screen.\r\n  private _isFullScreen: boolean;\r\n\r\n  // Value to deny with when closing via `isClosable`.\r\n  @Input()\r\n  public get isFullScreen(): boolean {\r\n    return this._isFullScreen;\r\n  }\r\n\r\n  public set isFullScreen(fullScreen: boolean) {\r\n    this._isFullScreen = Util.DOM.parseBooleanAttribute(fullScreen);\r\n  }\r\n\r\n  // Whether the modal currently is displaying a scrollbar.\r\n  private _mustScroll: boolean;\r\n\r\n  @Input()\r\n  public get mustScroll(): boolean {\r\n    return this._mustScroll;\r\n  }\r\n\r\n  public set mustScroll(mustScroll: boolean) {\r\n    this._mustScroll = mustScroll;\r\n    // 'Cache' value in _mustAlwaysScroll so that if `true`, _mustScroll isn't ever auto-updated.\r\n    this._mustAlwaysScroll = mustScroll;\r\n    this.updateScroll();\r\n  }\r\n\r\n  // Whether the modal shows against a light background.\r\n  private _isInverted: boolean;\r\n\r\n  @Input()\r\n  public get isInverted(): boolean {\r\n    return this._isInverted;\r\n  }\r\n\r\n  public set isInverted(inverted: boolean) {\r\n    this._isInverted = Util.DOM.parseBooleanAttribute(inverted);\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    // Transition the modal to be visible.\r\n    this.transitionController.animate(new Transition(this.transition, this.transitionDuration, TransitionDirection.In));\r\n    setTimeout(() => this.dimBackground = true);\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    // Move the modal to the document body to ensure correct scrolling.\r\n    this._originalContainer = this._element.nativeElement.parentNode;\r\n    document.querySelector('body')!.appendChild(this._element.nativeElement);\r\n    // Remove the #templateSibling element from the DOM to fix bottom border styles.\r\n    const templateElement = this.templateSibling.element.nativeElement as Element;\r\n    if (templateElement.parentNode) {\r\n      templateElement.parentNode.removeChild(templateElement);\r\n    }\r\n\r\n    const element = this._modalElement.nativeElement as Element;\r\n    setTimeout(() => this.updateScroll());\r\n\r\n    // Focus any element with [autofocus] attribute.\r\n    const autoFocus = element.querySelector('[autofocus]') as HTMLElement | null;\r\n    if (autoFocus) {\r\n      // Autofocus after the browser has had time to process other event handlers.\r\n      setTimeout(() => autoFocus.focus(), 10);\r\n      // Try to focus again when the modal has opened so that autofocus works in IE11.\r\n      setTimeout(() => autoFocus.focus(), this.transitionDuration);\r\n    }\r\n  }\r\n\r\n  // Updates the modal with the specified configuration.\r\n  public loadConfig<V>(config: ModalConfig<V, T, U>): void {\r\n    this.isClosable = config.isClosable;\r\n    this.closeResult = config.closeResult;\r\n\r\n    this.size = config.size;\r\n    this.isFullScreen = config.isFullScreen;\r\n    this.isBasic = config.isBasic;\r\n    this.isInverted = config.isInverted;\r\n    this.isCentered = config.isCentered;\r\n\r\n    this.mustScroll = config.mustScroll;\r\n\r\n    this.transition = config.transition;\r\n    this.transitionDuration = config.transitionDuration;\r\n  }\r\n\r\n  // Closes the modal with a 'deny' outcome, using the specified default reason.\r\n  public close(): void {\r\n    if (this.isClosable) {\r\n      // If we are allowed to close, fire the deny result with the default value.\r\n      this.deny(this.closeResult);\r\n    }\r\n  }\r\n\r\n  public onClick(e: MouseEvent): void {\r\n    // Makes sense here, as the modal shouldn't be attached to any DOM element.\r\n    e.stopPropagation();\r\n  }\r\n\r\n  // Document listener is fine here because nobody will have enough modals open.\r\n  @HostListener('document:keyup', ['$event'])\r\n  public onDocumentKeyUp(e: KeyboardEvent): void {\r\n    if (e.keyCode === KeyCode.Escape) {\r\n      // Close automatically covers case of `!isClosable`, so check not needed.\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  public onDocumentResize(): void {\r\n    this.updateScroll();\r\n  }\r\n\r\n  // Dismisses the modal with a transition, firing the callback after the modal has finished transitioning.\r\n  private dismiss(callback: () => void = () => {\r\n  }): void {\r\n    // If we aren't currently closing,\r\n    if (!this._isClosing) {\r\n      this._isClosing = true;\r\n\r\n      // Transition the modal to be invisible.\r\n      this.dimBackground = false;\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(\r\n        new Transition(this.transition, this.transitionDuration, TransitionDirection.Out, () => {\r\n          // When done, move the modal back to its original location, emit a dismiss event, and fire the callback.\r\n          if (this._originalContainer) {\r\n            this._originalContainer.appendChild(this._element.nativeElement);\r\n          }\r\n          this.onDismiss.emit();\r\n          callback();\r\n        }));\r\n    }\r\n  }\r\n\r\n  // Decides whether the modal needs to reposition to allow scrolling.\r\n  private updateScroll(): void {\r\n\r\n    // _mustAlwaysScroll works by stopping _mustScroll from being automatically updated, so it stays `true`.\r\n    if (!this._mustAlwaysScroll && this._modalElement) {\r\n\r\n      // Fomantic UI modal margin and dimmer padding are 1rem, which is relative to the global font size, so for compatibility:\r\n      const fontSize = parseFloat(window.getComputedStyle(document.documentElement).getPropertyValue('font-size'));\r\n      const margin = fontSize * 2;\r\n      const element = this._modalElement.nativeElement as Element;\r\n\r\n      // The modal must scroll if the window height is smaller than the modal height + both margins.\r\n      this._mustScroll = window.innerHeight < element.clientHeight + margin * 2;\r\n    }\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {ComponentModalConfig, ModalConfig, TemplateModalConfig} from '../classes/modal-config';\r\nimport {FuiModal} from '../components/modal';\r\nimport {Modal} from '../classes/modal-controls';\r\nimport {ActiveModal} from '../classes/active-modal';\r\n\r\n@Injectable()\r\nexport class FuiModalService {\r\n  constructor(private _componentFactory: FuiComponentFactory) {\r\n  }\r\n\r\n  public open<T, U, V>(modal: ModalConfig<T, U, V>): ActiveModal<T, U, V> {\r\n    // Generate the modal component to be shown.\r\n    const componentRef = this._componentFactory.createComponent<FuiModal<U, V>>(FuiModal);\r\n\r\n    // Shorthand for the created modal component instance.\r\n    const modalComponent = componentRef.instance;\r\n\r\n    if (modal instanceof TemplateModalConfig) {\r\n      // Inject the template into the view.\r\n      this._componentFactory.createView(modalComponent.templateSibling, modal.template, {\r\n        // `let-context`\r\n        $implicit: modal.context,\r\n        // `let-modal=\"modal\"`\r\n        modal: componentRef.instance.controls\r\n      });\r\n    } else if (modal instanceof ComponentModalConfig) {\r\n      // Generate the component to be used as the modal content,\r\n      // injecting an instance of `Modal` to be used in the component constructor.\r\n      const contentComponentRef = this._componentFactory.createComponent(\r\n        modal.component,\r\n        [\r\n          {\r\n            provide: Modal,\r\n            useValue: new Modal(modalComponent.controls, modal.context)\r\n          }\r\n        ]\r\n      );\r\n\r\n      // Insert the new component into the content of the modal.\r\n      this._componentFactory.attachToView(contentComponentRef, modalComponent.templateSibling);\r\n\r\n      // Shorthand for access to the content component's DOM element.\r\n      const contentElement = contentComponentRef.location.nativeElement as Element;\r\n\r\n      // Move all of the DOM elements inside the component to the main modal element.\r\n      // This is done so that CSS classes apply correctly. It does stop any custom styles from working however,\r\n      // so other ways may have to be investigated.\r\n      while (contentElement.hasChildNodes() && contentElement.parentElement && contentElement.firstChild) {\r\n        contentElement.parentElement.appendChild(contentElement.removeChild(contentElement.firstChild));\r\n      }\r\n      // Remove the generated component's 'empty shell' from the DOM.\r\n      this._componentFactory.detachFromDocument(contentComponentRef);\r\n    }\r\n\r\n    // Attach the new modal component to the application.\r\n    // The component will move itself to the document body for correctl styling.\r\n    this._componentFactory.attachToApplication(componentRef);\r\n\r\n    // Initialise the generated modal with the provided config.\r\n    modalComponent.loadConfig(modal);\r\n\r\n    // Return an instance of an `ActiveModal`, so the user can control the new modal.\r\n    return new ActiveModal(modal, componentRef);\r\n  }\r\n}\r\n","import {ChangeDetectorRef, Component, ElementRef, HostBinding, Renderer2} from '@angular/core';\r\nimport {FuiDimmer} from '../../dimmer/internal';\r\n\r\n@Component({\r\n  selector: 'fui-modal-dimmer',\r\n  template: `<ng-content></ng-content>`,\r\n  styles: [`\r\n        :host.ui.dimmer:not(.hidden) {\r\n            transition: none;\r\n            overflow-y: auto;\r\n            display: flex !important;\r\n        }\r\n    `]\r\n})\r\nexport class FuiModalDimmer extends FuiDimmer {\r\n\r\n  @HostBinding('class.page')\r\n  @HostBinding('class.modals')\r\n  public readonly hasClasses: boolean;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, changeDetector: ChangeDetectorRef) {\r\n    super(renderer, element, changeDetector);\r\n    this.hasClasses = true;\r\n    this.isClickable = false;\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiDimmerModule} from '../dimmer/internal';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiModalService} from './services/modal.service';\r\nimport {FuiModal} from './components/modal';\r\nimport {FuiModalDimmer} from './components/dimmer';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiDimmerModule,\r\n    FuiTransitionModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiModal,\r\n    FuiModalDimmer\r\n  ],\r\n  exports: [\r\n    FuiModal\r\n  ],\r\n  providers: [\r\n    FuiModalService\r\n  ],\r\n  entryComponents: [\r\n    FuiModal\r\n  ]\r\n})\r\nexport class FuiModalModule {\r\n}\r\n","import {Component, Directive, EventEmitter, HostBinding, HostListener, Input, Output} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-rating',\r\n  // tslint:disable-next-line\r\n  template: `<i *ngFor=\"let icon of icons; let i = index\" class=\"icon {{type}}\" (mouseover)=\"onMouseover(i)\" (click)=\"onClick(i)\" [class.selected]=\"hoveredIndex >= i && !isReadonly\" [class.active]=\"value > i\"></i>`,\r\n  styles: [`\r\n:host.read-only .icon {\r\n    cursor: auto\r\n}\r\n`]\r\n})\r\nexport class FuiRating implements ICustomValueAccessorHost<number> {\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.rating')\r\n  public readonly hasClasses: boolean;\r\n  public value: number;\r\n  @Output()\r\n  public valueChange: EventEmitter<number>;\r\n  @HostBinding('class.read-only')\r\n  @Input()\r\n  public isReadonly: boolean;\r\n  public hoveredIndex = -1;\r\n\r\n  constructor() {\r\n    this.value = 0;\r\n    this.valueChange = new EventEmitter<number>();\r\n\r\n    this.type = 'star';\r\n    this.maximum = 5;\r\n    this.isReadonly = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get icons(): undefined[] {\r\n    // tslint:disable-next-line:prefer-literal\r\n    return new Array(this.maximum);\r\n  }\r\n\r\n  private _type: string;\r\n\r\n  @Input()\r\n  public get type(): string {\r\n    return this._type;\r\n  }\r\n\r\n  public set type(value: string) {\r\n    this._type = value;\r\n  }\r\n\r\n  private _maximum: number;\r\n\r\n  @Input()\r\n  public get maximum(): number {\r\n    return this._maximum;\r\n  }\r\n\r\n  public set maximum(value: number) {\r\n    this._maximum = +value;\r\n  }\r\n\r\n  public onClick(i: number): void {\r\n    if (!this.isReadonly) {\r\n      this.value = i + 1;\r\n      this.valueChange.emit(this.value);\r\n    }\r\n  }\r\n\r\n  public onMouseover(i: number): void {\r\n    this.hoveredIndex = i;\r\n  }\r\n\r\n  @HostListener('mouseout')\r\n  public onMouseout(): void {\r\n    this.hoveredIndex = -1;\r\n  }\r\n\r\n  public writeValue(value: number): void {\r\n    this.value = value;\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'fui-rating',\r\n  host: {'(valueChange)': 'onChange($event)'},\r\n  providers: [customValueAccessorFactory(FuiRatingValueAccessor)]\r\n})\r\nexport class FuiRatingValueAccessor extends CustomValueAccessor<number, FuiRating> {\r\n  constructor(host: FuiRating) {\r\n    super(host);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiRating, FuiRatingValueAccessor} from './components/rating';\r\n\r\n@NgModule({\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiRating,\r\n    FuiRatingValueAccessor\r\n  ],\r\n  exports: [\r\n    FuiRating,\r\n    FuiRatingValueAccessor\r\n  ]\r\n})\r\nexport class FuiRatingModule {\r\n}\r\n","import {Component, HostBinding, Input, TemplateRef, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IResultContext} from './search';\r\n\r\n// See https://github.com/Microsoft/TypeScript/issues/13449.\r\nconst templateRef = TemplateRef;\r\n\r\n@Component({\r\n  selector: 'fui-search-result',\r\n  template: `\r\n<span #templateSibling></span>\r\n<span *ngIf=\"!template\" [innerHTML]=\"formatter(value, query)\"></span>\r\n`\r\n})\r\nexport class FuiSearchResult<T> {\r\n\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('class.result')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public value: T;\r\n  @Input()\r\n  public query: string;\r\n  // Returns the label from a given value.\r\n  @Input()\r\n  public formatter: (obj: T, query: string) => string;\r\n  // Placeholder to draw template beside.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: false})\r\n  public templateSibling: ViewContainerRef;\r\n\r\n  constructor(public componentFactory: FuiComponentFactory) {\r\n    this.hasClasses = true;\r\n\r\n    // By default we make this function return an empty string, for the brief moment when it isn't displaying the correct label.\r\n    this.formatter = value => '';\r\n  }\r\n\r\n  private _template?: TemplateRef<IResultContext<T>>;\r\n\r\n  @Input()\r\n  public get template(): TemplateRef<IResultContext<T>> | undefined {\r\n    return this._template;\r\n  }\r\n\r\n  public set template(template: TemplateRef<IResultContext<T>> | undefined) {\r\n    this._template = template;\r\n    if (this.template) {\r\n      this.componentFactory.createView(this.templateSibling, this.template, {\r\n        $implicit: this.value,\r\n        query: this.query\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {Util} from '../../../misc/util/internal';\r\nimport {FilterFn, LookupFn, LookupFnResult} from '../helpers/lookup-fn';\r\n\r\ninterface ICachedArray<T> {\r\n  [query: string]: T[];\r\n}\r\n\r\nexport class SearchService<T, U> {\r\n\r\n  // Filters a list of options.\r\n  public optionsFilter: FilterFn<T>;\r\n  // Allows the empty query to produce results.\r\n  public allowEmptyQuery: boolean;\r\n  // How long to delay the search for when using updateQueryDelayed. Stored in ms.\r\n  public searchDelay: number;\r\n  // Cache of results, indexed by query.\r\n  private _resultsCache: ICachedArray<T>;\r\n  // Stores the search timeout handle so we can cancel it.\r\n  private _searchDelayTimeout: number;\r\n\r\n  constructor(allowEmptyQuery: boolean = false) {\r\n    this._options = [];\r\n    this.optionsFilter = (os, q) => {\r\n      // Convert the query string to a RegExp.\r\n      const regex = this.toRegex(this._query);\r\n\r\n      if (regex instanceof RegExp) {\r\n        // Only update the results if the query was valid regex.\r\n        // This avoids the results suddenly becoming empty if an invalid regex string is inputted.\r\n        return os\r\n        // Filter on the options with a string match on the field we are testing.\r\n          .filter(o => Util.Object.readValue<T, string>(o, this._optionsField)\r\n            .toString()\r\n            .match(regex));\r\n      }\r\n\r\n      // Don't update since it wasn't a valid regex.\r\n      return false;\r\n    };\r\n\r\n    // Set default values and reset.\r\n    this.allowEmptyQuery = allowEmptyQuery;\r\n    this.searchDelay = 0;\r\n    this.reset();\r\n  }\r\n\r\n  public get hasItemLookup(): boolean {\r\n    return !!this.optionsLookup && this.optionsLookup.length === 2;\r\n  }\r\n\r\n  // Stores the available options.\r\n  private _options: T[];\r\n\r\n  public get options(): T[] {\r\n    return this._options;\r\n  }\r\n\r\n  public set options(options: T[]) {\r\n    this._options = options || [];\r\n    // We cannot use both local & remote options simultaneously.\r\n    this._optionsLookup = undefined;\r\n    // Reset entire service with new options.\r\n    this.reset();\r\n  }\r\n\r\n  // Converts a query string into an array of options. Must be a function returning a promise.\r\n  private _optionsLookup?: LookupFn<T, U>;\r\n\r\n  public get optionsLookup(): LookupFn<T, U> | undefined {\r\n    return this._optionsLookup;\r\n  }\r\n\r\n  public set optionsLookup(lookupFn: LookupFn<T, U> | undefined) {\r\n    this._optionsLookup = lookupFn;\r\n    // As before, cannot use local & remote options simultaneously.\r\n    this._options = [];\r\n    this.reset();\r\n  }\r\n\r\n  // Field that options are searched & displayed on.\r\n  private _optionsField?: string;\r\n\r\n  public get optionsField(): string | undefined {\r\n    return this._optionsField;\r\n  }\r\n\r\n  public set optionsField(field: string | undefined) {\r\n    this._optionsField = field;\r\n    // We need to reset otherwise we would now be showing invalid search results.\r\n    this.reset();\r\n  }\r\n\r\n  // Stores the results of the query.\r\n  private _results: T[];\r\n\r\n  public get results(): T[] {\r\n    return this._results;\r\n  }\r\n\r\n  private _query: string;\r\n\r\n  public get query(): string {\r\n    return this._query;\r\n  }\r\n\r\n  // Provides 'loading' functionality.\r\n  private _isSearching: boolean;\r\n\r\n  public get isSearching(): boolean {\r\n    return this._isSearching;\r\n  }\r\n\r\n  // Updates the query after the specified search delay.\r\n  public updateQueryDelayed(query: string, callback: (err?: Error) => void = () => {\r\n  }): void {\r\n    this._query = query;\r\n\r\n    clearTimeout(this._searchDelayTimeout);\r\n    this._searchDelayTimeout = window.setTimeout(\r\n      () => {\r\n        this.updateQuery(query, callback);\r\n      },\r\n      this.searchDelay\r\n    );\r\n  }\r\n\r\n  // Updates the current search query.\r\n  public updateQuery(query: string, callback: (err?: Error) => void = () => {\r\n  }): void {\r\n    this._query = query;\r\n\r\n    if (this._query === '' && !this.allowEmptyQuery) {\r\n      // Don't update if the new query is empty (and we don't allow empty queries).\r\n      // Don't reset so that when animating closed we don't get a judder.\r\n      return callback();\r\n    }\r\n\r\n    if (this._resultsCache.hasOwnProperty(this._query)) {\r\n      // If the query is already cached, make use of it.\r\n      this._results = this._resultsCache[this._query];\r\n\r\n      return callback();\r\n    }\r\n\r\n    if (this._optionsLookup) {\r\n      this._isSearching = true;\r\n\r\n      // Call the options lookup without a this context.\r\n      const queryLookup = this._optionsLookup.call(undefined, this._query) as LookupFnResult<T[]>;\r\n\r\n      queryLookup\r\n        .then(results => {\r\n          this._isSearching = false;\r\n\r\n          this.updateResults(results);\r\n          return callback();\r\n        })\r\n        .catch(error => {\r\n          // Unset 'loading' state, and throw the returned error without updating the results.\r\n          this._isSearching = false;\r\n          return callback(error);\r\n        });\r\n\r\n      return;\r\n    }\r\n\r\n    const filtered = this.optionsFilter.call(undefined, this._options, this._query);\r\n    if (filtered) {\r\n      this.updateResults(filtered);\r\n    }\r\n    return callback();\r\n  }\r\n\r\n  // tslint:disable-next-line:promise-function-async\r\n  public initialLookup(initial: U): LookupFnResult<T>;\r\n\r\n  // tslint:disable-next-line:promise-function-async\r\n  public initialLookup(initial: U[]): LookupFnResult<T[]>;\r\n\r\n  // tslint:disable-next-line:promise-function-async\r\n  public initialLookup(initial: U | U[]): LookupFnResult<T> | LookupFnResult<T[]> {\r\n    if (initial instanceof Array) {\r\n      return (this._optionsLookup as unknown as LookupFn<T, U[]>)(undefined, initial) as LookupFnResult<T[]>;\r\n    }\r\n    return (this._optionsLookup as unknown as LookupFn<T, U>)(undefined, initial) as LookupFnResult<T>;\r\n  }\r\n\r\n  // Generates HTML for highlighted match text.\r\n  public highlightMatches(text: string, query: string): string {\r\n    const regex = this.toRegex(query);\r\n    if (regex instanceof RegExp) {\r\n      return text.replace(regex, match => `<b>${match}</b>`);\r\n    }\r\n    return text;\r\n  }\r\n\r\n  // Updates & caches the new set of results.\r\n  private updateResults(results: T[]): void {\r\n    this._resultsCache[this._query] = results;\r\n    this._results = results;\r\n  }\r\n\r\n  // Converts a query string to regex without throwing an error.\r\n  private toRegex(query: string): RegExp | string {\r\n    try {\r\n      return new RegExp(query, 'i');\r\n    } catch (e) {\r\n      return query;\r\n    }\r\n  }\r\n\r\n  // Resets the search back to a pristine state.\r\n  private reset(): void {\r\n    this._results = [];\r\n    this._resultsCache = {};\r\n    this._isSearching = false;\r\n    this.updateQuery('');\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport {IFocusEvent, ITemplateRefContext, Util} from '../../../misc/util/internal';\r\nimport {DropdownService, FuiDropdownMenu} from '../../dropdown/internal';\r\nimport {ISearchLocaleValues, RecursivePartial, FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {SearchService} from '../services/search.service';\r\nimport {FilterFn, LookupFn} from '../helpers/lookup-fn';\r\n\r\nexport interface IResultContext<T> extends ITemplateRefContext<T> {\r\n  query: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-search',\r\n  template: `\r\n<div class=\"ui input\" [class.icon]=\"hasIcon\" (click)=\"onClick($event)\">\r\n    <input class=\"prompt\" type=\"text\" [attr.placeholder]=\"placeholder\" autocomplete=\"off\" [(ngModel)]=\"query\">\r\n    <i *ngIf=\"hasIcon\" class=\"search icon\"></i>\r\n</div>\r\n<div class=\"results\"\r\n     fuiDropdownMenu\r\n     [menuTransition]=\"transition\"\r\n     [menuTransitionDuration]=\"transitionDuration\"\r\n     menuSelectedItemClass=\"active\">\r\n\r\n    <fui-search-result *ngFor=\"let r of results\"\r\n                       class=\"item\"\r\n                       [value]=\"r\"\r\n                       [query]=\"query\"\r\n                       [formatter]=\"resultFormatter\"\r\n                       [template]=\"resultTemplate\"\r\n                       (click)=\"select(r)\"></fui-search-result>\r\n\r\n    <div *ngIf=\"results.length == 0\" class=\"message empty\">\r\n        <div class=\"header\">{{ localeValues.noResults.header }}</div>\r\n        <div class=\"description\">{{ localeValues.noResults.message }}</div>\r\n    </div>\r\n</div>\r\n`,\r\n  styles: [`\r\n/* Ensures results div has margin. */\r\n:host {\r\n    display: inline-block;\r\n    outline: 0;\r\n}\r\n\r\n/* Fixes positioning when results are pushed above the search. */\r\n.results {\r\n    margin-bottom: .5em;\r\n}\r\n`]\r\n})\r\nexport class FuiSearch<T> implements AfterViewInit {\r\n\r\n  public dropdownService: DropdownService;\r\n  public searchService: SearchService<T, T>;\r\n  // Doing it on the host enables use in menus etc.\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.search')\r\n  public readonly hasClasses: boolean;\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('attr.tabindex')\r\n  public readonly tabindex: number;\r\n  // Sets whether the search element has a visible search icon.\r\n  @Input()\r\n  public hasIcon: boolean;\r\n  public localeOverrides: RecursivePartial<ISearchLocaleValues>;\r\n  @Input()\r\n  public resultTemplate: TemplateRef<IResultContext<T>>;\r\n  @Input()\r\n  public retainSelectedResult: boolean;\r\n  @Input()\r\n  public maxResults: number;\r\n  // Stores the currently selected result.\r\n  public selectedResult?: T;\r\n  // Emits whenever a new result is selected.\r\n  @Output('resultSelected')\r\n  public onResultSelected: EventEmitter<T>;\r\n  @Input()\r\n  public transition: string;\r\n  @Input()\r\n  public transitionDuration: number;\r\n  @ViewChild(FuiDropdownMenu, {static: false})\r\n  private _menu: FuiDropdownMenu;\r\n\r\n  constructor(private _element: ElementRef, renderer: Renderer2, private _localizationService: FuiLocalizationService) {\r\n    this.dropdownService = new DropdownService();\r\n    this.searchService = new SearchService<T, T>();\r\n\r\n    this.onLocaleUpdate();\r\n    this._localizationService.onLanguageUpdate.subscribe(() => this.onLocaleUpdate());\r\n\r\n    this.hasClasses = true;\r\n    this.tabindex = 0;\r\n    this.hasIcon = true;\r\n    this.retainSelectedResult = true;\r\n    this.searchDelay = 200;\r\n    this.maxResults = 7;\r\n\r\n    this.onResultSelected = new EventEmitter<T>();\r\n\r\n    this.transition = 'scale';\r\n    this.transitionDuration = 200;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    return this.dropdownService.isOpen;\r\n  }\r\n\r\n  public get query(): string {\r\n    return this.searchService.query;\r\n  }\r\n\r\n  public set query(query: string) {\r\n    this.selectedResult = undefined;\r\n    // Initialise a delayed search.\r\n    this.searchService.updateQueryDelayed(query, () => {\r\n      // Set the results open state depending on whether a query has been entered.\r\n      return this.dropdownService.setOpenState(this.searchService.query.length > 0);\r\n    });\r\n  }\r\n\r\n  @Input()\r\n  public set options(options: T[] | undefined) {\r\n    if (options) {\r\n      this.searchService.options = options;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsFilter(filter: FilterFn<T> | undefined) {\r\n    if (filter) {\r\n      this.searchService.optionsFilter = filter;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsLookup(lookupFn: LookupFn<T> | undefined) {\r\n    this.searchService.optionsLookup = lookupFn;\r\n  }\r\n\r\n  @Input()\r\n  public set optionsField(field: string | undefined) {\r\n    this.searchService.optionsField = field;\r\n  }\r\n\r\n  @Input()\r\n  public set searchDelay(delay: number) {\r\n    this.searchService.searchDelay = delay;\r\n  }\r\n\r\n  @HostBinding('class.loading')\r\n  public get isSearching(): boolean {\r\n    return this.searchService.isSearching;\r\n  }\r\n\r\n  public get results(): T[] {\r\n    return this.searchService.results.slice(0, this.maxResults);\r\n  }\r\n\r\n  private _placeholder: string;\r\n\r\n  // Gets & sets the placeholder text displayed inside the text input.\r\n  @Input()\r\n  public get placeholder(): string {\r\n    return this._placeholder || this.localeValues.placeholder;\r\n  }\r\n\r\n  public set placeholder(placeholder: string) {\r\n    this._placeholder = placeholder;\r\n  }\r\n\r\n  private _localeValues: ISearchLocaleValues;\r\n\r\n  public get localeValues(): ISearchLocaleValues {\r\n    return this._localizationService.override<'search'>(this._localeValues, this.localeOverrides);\r\n  }\r\n\r\n  private _resultFormatter?: (r: T, q: string) => string;\r\n\r\n  public get resultFormatter(): (result: T, query: string) => string {\r\n    if (this._resultFormatter) {\r\n      return this._resultFormatter;\r\n    } else if (this.searchService.optionsLookup) {\r\n      return r => this.readValue(r);\r\n    } else {\r\n      return (r, q) => this.searchService.highlightMatches(this.readValue(r), q);\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set resultFormatter(formatter: (result: T, query: string) => string) {\r\n    this._resultFormatter = formatter;\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    this._menu.service = this.dropdownService;\r\n  }\r\n\r\n  // Selects a result.\r\n  public select(result: T): void {\r\n    this.onResultSelected.emit(result);\r\n    this.dropdownService.setOpenState(false);\r\n\r\n    if (this.retainSelectedResult) {\r\n      this.selectedResult = result;\r\n      this.searchService.updateQuery(this.readValue(result));\r\n    } else {\r\n      this.searchService.updateQuery('');\r\n    }\r\n  }\r\n\r\n  public onClick(e: MouseEvent): void {\r\n    this.open();\r\n  }\r\n\r\n  @HostListener('focusin')\r\n  public onFocusIn(): void {\r\n    if (!this.dropdownService.isAnimating) {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: IFocusEvent): void {\r\n    console.log(e);\r\n    if (!this._element.nativeElement.contains(e.relatedTarget)) {\r\n      this.dropdownService.setOpenState(false);\r\n    }\r\n  }\r\n\r\n  // Reads the specified field from an item.\r\n  public readValue(object: T): string {\r\n    return Util.Object.readValue<T, string>(object, this.searchService.optionsField);\r\n  }\r\n\r\n  private onLocaleUpdate(): void {\r\n    this._localeValues = this._localizationService.get().search;\r\n  }\r\n\r\n  private open(): void {\r\n    if (this.searchService.query.length > 0) {\r\n      // Only open on click when there is a query entered.\r\n      this.dropdownService.setOpenState(true);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiDropdownModule} from '../dropdown/internal';\r\nimport {FuiLocalizationModule} from '../../behaviors/localization/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiSearch} from './components/search';\r\nimport {FuiSearchResult} from './components/search-result';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FuiDropdownModule,\r\n    FuiLocalizationModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiSearch,\r\n    FuiSearchResult\r\n  ],\r\n  exports: [\r\n    FuiSearch\r\n  ]\r\n})\r\nexport class FuiSearchModule {\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {FuiDropdownMenuItem} from '../../dropdown/internal';\r\nimport {HandledEvent} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-select-option',\r\n  template: `\r\n<span #templateSibling></span>\r\n<span [innerHTML]=\"renderedText\"></span>\r\n`\r\n})\r\nexport class FuiSelectOption<T> extends FuiDropdownMenuItem {\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('class.item')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input()\r\n  public value: T;\r\n\r\n  // Fires when the option is selected, whether by clicking or by keyboard.\r\n  @Output()\r\n  public onSelected: EventEmitter<T>;\r\n\r\n  @HostBinding('class.active')\r\n  public isActive: boolean;\r\n\r\n  public renderedText?: string;\r\n  public usesTemplate: boolean;\r\n  // Placeholder to draw template beside.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: false})\r\n  public templateSibling: ViewContainerRef;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, public changeDetector: ChangeDetectorRef) {\r\n    // We inherit FuiDropdownMenuItem to automatically gain all keyboard navigation functionality.\r\n    // This is not done via adding the .item class because it isn't supported by Angular.\r\n    super(renderer, element);\r\n\r\n    this.hasClasses = true;\r\n    this.isActive = false;\r\n    this.onSelected = new EventEmitter<T>();\r\n\r\n    // By default we make the default text an empty label, for the brief moment when it isn't displaying the correct one.\r\n    this.renderedText = '';\r\n\r\n    this.usesTemplate = false;\r\n  }\r\n\r\n  public set formatter(formatter: (obj: T) => string) {\r\n    if (!this.usesTemplate) {\r\n      this.renderedText = formatter(this.value);\r\n    } else {\r\n      this.renderedText = '';\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n\r\n    setTimeout(() => this.onSelected.emit(this.value));\r\n  }\r\n}\r\n","import {Directive, ElementRef, EventEmitter, HostBinding, HostListener, Renderer2} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'input[fuiSelectSearch]'\r\n})\r\nexport class FuiSelectSearch {\r\n  @HostBinding('class.search')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @HostBinding('attr.autocomplete')\r\n  public readonly autoComplete: string;\r\n  public onQueryUpdated: EventEmitter<string>;\r\n  public onQueryKeyDown: EventEmitter<KeyboardEvent>;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef) {\r\n    this.onQueryUpdated = new EventEmitter<string>();\r\n    this.onQueryKeyDown = new EventEmitter<KeyboardEvent>();\r\n\r\n    this.hasClasses = true;\r\n    this.autoComplete = 'off';\r\n  }\r\n\r\n  public set query(query: string) {\r\n    this._renderer.setProperty(this._element.nativeElement, 'value', query);\r\n  }\r\n\r\n  @HostListener('input', ['$event.target.value'])\r\n  public updateQuery(query: string): void {\r\n    this.onQueryUpdated.emit(query);\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  public onKeyDown(e: KeyboardEvent): void {\r\n    this.onQueryKeyDown.emit(e);\r\n  }\r\n\r\n  public focus(): void {\r\n    // Slightly delay to support in menu search.\r\n    this._element.nativeElement.focus();\r\n    setTimeout(() => this._element.nativeElement.focus());\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {Subscription} from 'rxjs';\r\nimport {DropdownService, FuiDropdownMenu} from '../../dropdown/internal';\r\nimport {FilterFn, LookupFn, SearchService} from '../../search/internal';\r\nimport {HandledEvent, IFocusEvent, ITemplateRefContext, KeyCode, Util} from '../../../misc/util/internal';\r\nimport {ISelectLocaleValues, RecursivePartial, FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {FuiSelectOption} from '../components/select-option';\r\nimport {FuiSelectSearch} from '../directives/select-search';\r\n\r\nexport interface IOptionContext<T> extends ITemplateRefContext<T> {\r\n  query?: string;\r\n}\r\n\r\n// We use generic type T to smenuTransitionDurationpecify the type of the options we are working with,\r\n// and U to specify the type of the property of the option used as the value.\r\nexport abstract class FuiSelectBase<T, U> implements AfterContentInit, OnDestroy {\r\n\r\n  public dropdownService: DropdownService;\r\n  public searchService: SearchService<T, U>;\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.dropdown')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public isClearable: boolean;\r\n  @Input()\r\n  public isSearchable: boolean;\r\n  public isSearchExternal: boolean;\r\n  @Input()\r\n  public valueField: string;\r\n  @Input()\r\n  public optionTemplate: TemplateRef<IOptionContext<T>>;\r\n  public localeOverrides: RecursivePartial<ISelectLocaleValues>;\r\n  @Input()\r\n  public icon: string;\r\n  @Input()\r\n  public transition: string;\r\n  @Input()\r\n  public transitionDuration: number;\r\n  @Output('touched')\r\n  public onTouched: EventEmitter<void>;\r\n  @ViewChild(FuiDropdownMenu, {static: true})\r\n  protected _menu: FuiDropdownMenu;\r\n  // Keep track of all of the rendered select options. (Rendered by the user using *ngFor).\r\n  @ContentChildren(FuiSelectOption, {descendants: true})\r\n  protected _renderedOptions: QueryList<FuiSelectOption<T>>;\r\n  // Keep track of all of the subscriptions to the selected events on the rendered options.\r\n  private _renderedSubscriptions: Subscription[];\r\n  @ViewChild(FuiSelectSearch, {static: false})\r\n  private _internalSearch?: FuiSelectSearch;\r\n  @ContentChild(FuiSelectSearch, {static: false})\r\n  private _manualSearch?: FuiSelectSearch;\r\n  @Input('tabindex')\r\n  private _tabIndex?: number;\r\n\r\n  constructor(private _element: ElementRef, protected _localizationService: FuiLocalizationService) {\r\n    this.dropdownService = new DropdownService();\r\n    // We do want an empty query to return all results.\r\n    this.searchService = new SearchService<T, U>(true);\r\n\r\n    this.isSearchable = false;\r\n\r\n    this.onLocaleUpdate();\r\n    this._localizationService.onLanguageUpdate.subscribe(() => this.onLocaleUpdate());\r\n    this._renderedSubscriptions = [];\r\n\r\n    this.icon = 'dropdown';\r\n    this.transition = 'slide down';\r\n    this.transitionDuration = 200;\r\n\r\n    this.onTouched = new EventEmitter<void>();\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    return this.dropdownService.isOpen;\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  public get isVisible(): boolean {\r\n    return this._menu.isVisible;\r\n  }\r\n\r\n  @HostBinding('class.search')\r\n  public get hasSearchClass(): boolean {\r\n    return this.isSearchable && !this.isSearchExternal;\r\n  }\r\n\r\n  @HostBinding('class.loading')\r\n  public get isSearching(): boolean {\r\n    return this.searchService.isSearching;\r\n  }\r\n\r\n  @HostBinding('class.clearable')\r\n  public get isClearing(): boolean {\r\n    return this.isClearable;\r\n  }\r\n\r\n  public get searchInput(): FuiSelectSearch | undefined {\r\n    return this._manualSearch || this._internalSearch;\r\n  }\r\n\r\n  @HostBinding('attr.tabindex')\r\n  public get tabindex(): number {\r\n    if (this.isDisabled) {\r\n      // If disabled, remove from tabindex.\r\n      return -1;\r\n    }\r\n    if (this.dropdownService.isOpen && this.isSearchExternal) {\r\n      // If open & in menu search, remove from tabindex (as input always autofocusses).\r\n      return -1;\r\n    }\r\n    if (this._tabIndex != undefined) {\r\n      // If custom tabindex, default to that.\r\n      return this._tabIndex;\r\n    }\r\n    if (this.hasSearchClass) {\r\n      // If search input enabled, tab goes to input.\r\n      return -1;\r\n    }\r\n    // Otherwise, return default of 0.\r\n    return 0;\r\n  }\r\n\r\n  @HostBinding('class.disabled')\r\n  @Input()\r\n  public get isDisabled(): boolean {\r\n    return this.dropdownService.isDisabled;\r\n  }\r\n\r\n  public set isDisabled(value: boolean) {\r\n    this.dropdownService.isDisabled = !!value;\r\n  }\r\n\r\n  @Input()\r\n  public set options(options: T[]) {\r\n    if (options) {\r\n      this.searchService.options = options;\r\n\r\n      this.optionsUpdateHook();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsFilter(filter: FilterFn<T> | undefined) {\r\n    if (filter) {\r\n      this.searchService.optionsFilter = filter;\r\n\r\n      this.optionsUpdateHook();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsLookup(lookup: LookupFn<T, U> | undefined) {\r\n    if (lookup) {\r\n      this.searchService.optionsLookup = lookup;\r\n\r\n      this.optionsUpdateHook();\r\n    }\r\n  }\r\n\r\n  public get filteredOptions(): T[] {\r\n    return this.searchService.results;\r\n  }\r\n\r\n  // Deprecated\r\n  public get availableOptions(): T[] {\r\n    return this.filteredOptions;\r\n  }\r\n\r\n  public get query(): string | undefined {\r\n    return this.isSearchable ? this.searchService.query : undefined;\r\n  }\r\n\r\n  public set query(query: string | undefined) {\r\n    if (query != undefined) {\r\n      this.queryUpdateHook();\r\n      this.updateQuery(query);\r\n      // Update the rendered text as query has changed.\r\n      this._renderedOptions.forEach(ro => this.initialiseRenderedOption(ro));\r\n\r\n      if (this.searchInput) {\r\n        this.searchInput.query = query;\r\n      }\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public get labelField(): string | undefined {\r\n    return this.searchService.optionsField;\r\n  }\r\n\r\n  public set labelField(field: string | undefined) {\r\n    this.searchService.optionsField = field;\r\n  }\r\n\r\n  public get labelGetter(): (obj: T) => string {\r\n    // Helper function to retrieve the label from an item.\r\n    return (obj: T) => {\r\n      const label = Util.Object.readValue<T, string>(obj, this.labelField);\r\n      if (label != undefined) {\r\n        return label.toString();\r\n      }\r\n      return '';\r\n    };\r\n  }\r\n\r\n  public get valueGetter(): (obj: T) => U {\r\n    // Helper function to retrieve the value from an item.\r\n    return (obj: T) => Util.Object.readValue<T, U>(obj, this.valueField);\r\n  }\r\n\r\n  public get configuredFormatter(): (option: T) => string {\r\n    if (this._optionFormatter) {\r\n      return o => this._optionFormatter!(o, this.isSearchable ? this.query : undefined);\r\n    } else if (this.searchService.optionsLookup) {\r\n      return o => this.labelGetter(o);\r\n    } else {\r\n      return o => this.searchService.highlightMatches(this.labelGetter(o), this.query || '');\r\n    }\r\n  }\r\n\r\n  private _optionFormatter?: (o: T, q?: string) => string;\r\n\r\n  @Input()\r\n  public set optionFormatter(formatter: ((option: T, query?: string) => string) | undefined) {\r\n    this._optionFormatter = formatter;\r\n  }\r\n\r\n  private _localeValues: ISelectLocaleValues;\r\n\r\n  public get localeValues(): ISelectLocaleValues {\r\n    return this._localizationService.override<'select'>(this._localeValues, this.localeOverrides);\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this._menu.service = this.dropdownService;\r\n    // We manually specify the menu items to the menu because the @ContentChildren doesn't pick up our dynamically rendered items.\r\n    this._menu.items = this._renderedOptions;\r\n    this._menu.parentElement = this._element;\r\n\r\n    if (this._manualSearch) {\r\n      this.isSearchable = true;\r\n      this.isSearchExternal = true;\r\n    }\r\n\r\n    if (this.searchInput) {\r\n      this.searchInput.onQueryUpdated.subscribe((q: string) => this.query = q);\r\n      this.searchInput.onQueryKeyDown.subscribe((e: KeyboardEvent) => this.onQueryInputKeydown(e));\r\n    }\r\n\r\n    // We must call this immediately as changes doesn't fire when you subscribe.\r\n    this.onAvailableOptionsRendered();\r\n    this._renderedOptions.changes.subscribe(() => this.onAvailableOptionsRendered());\r\n  }\r\n\r\n  public abstract selectOption(option: T): void;\r\n\r\n  public onCaretClick(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n\r\n      if (!this.dropdownService.isAnimating) {\r\n        this.dropdownService.setOpenState(!this.dropdownService.isOpen);\r\n\r\n        this.focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    if (!e.eventHandled && !this.dropdownService.isAnimating) {\r\n      e.eventHandled = true;\r\n\r\n      // If the dropdown is searchable, clicking should keep it open, otherwise we toggle the open state.\r\n      this.dropdownService.setOpenState(this.isSearchable ? true : !this.dropdownService.isOpen);\r\n\r\n      // Immediately focus the search input whenever clicking on the select.\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusin')\r\n  public onFocusIn(): void {\r\n    if (!this.dropdownService.isOpen && !this.dropdownService.isAnimating) {\r\n      this.dropdownService.setOpenState(true);\r\n\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: IFocusEvent): void {\r\n    if (!this._element.nativeElement.contains(e.relatedTarget)) {\r\n      this.dropdownService.setOpenState(false);\r\n      this.onTouched.emit();\r\n    }\r\n  }\r\n\r\n  @HostListener('keypress', ['$event'])\r\n  public onKeyPress(e: KeyboardEvent): void {\r\n    if (e.keyCode === KeyCode.Enter) {\r\n      // Enables support for focussing and opening with the keyboard alone.\r\n      // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n      this._element.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  public onKeyDown(e: KeyboardEvent): void {\r\n    if (!this.dropdownService.isOpen && e.keyCode === KeyCode.Down) {\r\n\r\n      // Enables support for focussing and opening with the keyboard alone.\r\n      // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n      this._element.nativeElement.click();\r\n\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  public onQueryInputKeydown(event: KeyboardEvent): void {\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._renderedSubscriptions.forEach(s => s.unsubscribe());\r\n  }\r\n\r\n  // Hook is here since Typescript doesn't yet support overriding getters & setters while still calling the superclass.\r\n  protected optionsUpdateHook(): void {\r\n  }\r\n\r\n  // Hook is here since Typescript doesn't yet support overriding getters & setters while still calling the superclass.\r\n  protected queryUpdateHook(): void {\r\n  }\r\n\r\n  protected updateQuery(query: string): void {\r\n    // Update the query then open the dropdown, as after keyboard input it should always be open.\r\n    this.searchService.updateQuery(query, () =>\r\n      this.dropdownService.setOpenState(true));\r\n  }\r\n\r\n  protected resetQuery(delayed: boolean = true): void {\r\n    // The search delay is set to the transition duration to ensure results\r\n    // aren't rendered as the select closes as that causes a sudden flash.\r\n    if (delayed) {\r\n      this.searchService.searchDelay = this._menu.menuTransitionDuration;\r\n      this.searchService.updateQueryDelayed('');\r\n    } else {\r\n      this.searchService.updateQuery('');\r\n    }\r\n\r\n    if (this.searchInput) {\r\n      this.searchInput.query = '';\r\n    }\r\n  }\r\n\r\n  protected onAvailableOptionsRendered(): void {\r\n    // Unsubscribe from all previous subscriptions to avoid memory leaks on large selects.\r\n    this._renderedSubscriptions.forEach(rs => rs.unsubscribe());\r\n    this._renderedSubscriptions = [];\r\n\r\n    this._renderedOptions.forEach(ro => {\r\n      // Slightly delay initialisation to avoid change after checked errors. TODO - look into avoiding this!\r\n      setTimeout(() => this.initialiseRenderedOption(ro));\r\n\r\n      this._renderedSubscriptions.push(ro.onSelected.subscribe(() => this.selectOption(ro.value)));\r\n    });\r\n\r\n    // If no options have been provided, autogenerate them from the rendered ones.\r\n    if (this.searchService.options.length === 0 && !this.searchService.optionsLookup) {\r\n      this.options = this._renderedOptions.map(ro => ro.value);\r\n    }\r\n  }\r\n\r\n  protected initialiseRenderedOption(option: FuiSelectOption<T>): void {\r\n    option.usesTemplate = !!this.optionTemplate;\r\n    option.formatter = this.configuredFormatter;\r\n\r\n    if (option.usesTemplate) {\r\n      this.drawTemplate(option.templateSibling, option.value);\r\n    }\r\n\r\n    option.changeDetector.markForCheck();\r\n  }\r\n\r\n  protected findOption(options: T[], value: U): T | undefined {\r\n    // Tries to find an option in options array\r\n    return options.find(o => value === this.valueGetter(o));\r\n  }\r\n\r\n  protected focus(): void {\r\n    if (this.isSearchable && this.searchInput) {\r\n      // Focusses the search input only when searchable.\r\n      // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n      this.searchInput.focus();\r\n    } else {\r\n      this._element.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  // Helper that draws the provided template beside the provided ViewContainerRef.\r\n  protected drawTemplate(siblingRef: ViewContainerRef, value: T): void {\r\n    siblingRef.clear();\r\n    // Use of `$implicit` means use of <ng-template let-option> syntax is supported.\r\n    siblingRef.createEmbeddedView(this.optionTemplate, {\r\n      $implicit: value,\r\n      query: this.query\r\n    });\r\n  }\r\n\r\n  private onLocaleUpdate(): void {\r\n    this._localeValues = this._localizationService.get().select;\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {FuiTransition, Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {HandledEvent, FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IOptionContext} from '../classes/select-base';\r\n\r\n// See https://github.com/Microsoft/TypeScript/issues/13449.\r\nconst templateRef = TemplateRef;\r\n\r\n@Component({\r\n  selector: 'fui-multi-select-label',\r\n  template: `\r\n<span #templateSibling></span>\r\n<span *ngIf=\"!template\" [innerHTML]=\"formatter(value)\"></span>\r\n<i class=\"delete icon\" (click)=\"deselectOption($event)\"></i>\r\n`\r\n})\r\nexport class FuiMultiSelectLabel<T> extends FuiTransition {\r\n\r\n  // Doing it on the host enables use in menus etc.\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.label')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public value: T;\r\n\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @Input()\r\n  public query?: string;\r\n  @Output('deselected')\r\n  public onDeselected: EventEmitter<T>;\r\n  @Input()\r\n  public formatter: (obj: T) => string;\r\n  // Placeholder to draw template beside.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: false})\r\n  public templateSibling: ViewContainerRef;\r\n  private _transitionController: TransitionController;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              changeDetector: ChangeDetectorRef,\r\n              public componentFactory: FuiComponentFactory) {\r\n\r\n    super(renderer, element, changeDetector);\r\n\r\n    // Initialise transition functionality.\r\n    this._transitionController = new TransitionController(false, 'inline-block');\r\n    this.setTransitionController(this._transitionController);\r\n\r\n    this.onDeselected = new EventEmitter<T>();\r\n\r\n    this.hasClasses = true;\r\n\r\n    this._transitionController.animate(new Transition('scale', 100, TransitionDirection.In));\r\n  }\r\n\r\n  private _template?: TemplateRef<IOptionContext<T>>;\r\n\r\n  @Input()\r\n  public get template(): TemplateRef<IOptionContext<T>> | undefined {\r\n    return this._template;\r\n  }\r\n\r\n  public set template(template: TemplateRef<IOptionContext<T>> | undefined) {\r\n    this._template = template;\r\n    if (this.template) {\r\n      this.componentFactory.createView(this.templateSibling, this.template, {\r\n        $implicit: this.value,\r\n        query: this.query\r\n      });\r\n    }\r\n  }\r\n\r\n  public deselectOption(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n\r\n    this._transitionController.animate(\r\n      new Transition('scale', 100, TransitionDirection.Out, () =>\r\n        this.onDeselected.emit(this.value)));\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n  }\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, HostBinding, Input, Output} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost, KeyCode} from '../../../misc/util/internal';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {FuiSelectBase} from '../classes/select-base';\r\nimport {FuiSelectOption} from './select-option';\r\n\r\n@Component({\r\n  selector: 'fui-multi-select',\r\n  template: `\r\n<!-- Dropdown icon -->\r\n<i class=\"{{ icon }} icon\" (click)=\"onCaretClick($event)\"></i>\r\n\r\n<ng-container *ngIf=\"hasLabels\">\r\n<!-- Multi-select labels -->\r\n    <fui-multi-select-label *ngFor=\"let selected of selectedOptions;\"\r\n                            [value]=\"selected\"\r\n                            [query]=\"query\"\r\n                            [formatter]=\"configuredFormatter\"\r\n                            [template]=\"optionTemplate\"\r\n                            (deselected)=\"deselectOption($event)\"></fui-multi-select-label>\r\n</ng-container>\r\n\r\n<!-- Query input -->\r\n<input fuiSelectSearch\r\n       type=\"text\"\r\n       [hidden]=\"!isSearchable || isSearchExternal\">\r\n\r\n<!-- Helper text -->\r\n<div class=\"text\"\r\n     [class.default]=\"hasLabels\"\r\n     [class.filtered]=\"!!query && !isSearchExternal\">\r\n\r\n    <!-- Placeholder text -->\r\n    <ng-container *ngIf=\"hasLabels; else selectedBlock\">{{ placeholder }}</ng-container>\r\n\r\n    <!-- Summary shown when labels are hidden -->\r\n    <ng-template #selectedBlock> {{ selectedMessage }}</ng-template>\r\n</div>\r\n\r\n<!-- Select dropdown menu -->\r\n<div class=\"menu\"\r\n     fuiDropdownMenu\r\n     [menuTransition]=\"transition\"\r\n     [menuTransitionDuration]=\"transitionDuration\"\r\n     [menuAutoSelectFirst]=\"true\">\r\n\r\n    <ng-content></ng-content>\r\n    <ng-container *ngIf=\"availableOptions.length == 0 \">\r\n        <div *ngIf=\"!maxSelectedReached\" class=\"message\">{{ localeValues.noResultsMessage }}</div>\r\n        <div *ngIf=\"maxSelectedReached\" class=\"message\">{{ maxSelectedMessage }}</div>\r\n    </ng-container>\r\n</div>\r\n`,\r\n  styles: [`\r\n:host input.search {\r\n    width: 12em !important;\r\n}\r\n`]\r\n})\r\nexport class FuiMultiSelect<T, U> extends FuiSelectBase<T, U> implements ICustomValueAccessorHost<U[]> {\r\n\r\n  public selectedOptions: T[];\r\n  @Output()\r\n  public selectedOptionsChange: EventEmitter<U[]>;\r\n  @Input()\r\n  public maxSelected: number;\r\n  @HostBinding('class.multiple')\r\n  public readonly hasClasses: boolean;\r\n  // Stores the values written by ngModel before it can be matched to an option from `options`.\r\n  private _writtenOptions?: U[];\r\n\r\n  constructor(element: ElementRef, localizationService: FuiLocalizationService) {\r\n    super(element, localizationService);\r\n\r\n    this.selectedOptions = [];\r\n    this.selectedOptionsChange = new EventEmitter<U[]>();\r\n\r\n    this.hasLabels = true;\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get filteredOptions(): T[] {\r\n    if (this.maxSelectedReached) {\r\n      // If we have reached the maximum number of selections, then empty the results completely.\r\n      return [];\r\n    }\r\n\r\n    const searchResults: T[] = this.searchService.results;\r\n\r\n    if (!this.hasLabels) {\r\n      return searchResults;\r\n    } else {\r\n      // Returns the search results \\ selected options.\r\n      return searchResults\r\n        .filter(r => this.selectedOptions.find(o => r === o) == undefined);\r\n    }\r\n  }\r\n\r\n  public get availableOptions(): T[] {\r\n    return this.filteredOptions;\r\n  }\r\n\r\n  public get maxSelectedReached(): boolean {\r\n    if (this.maxSelected == undefined) {\r\n      // If there is no maximum then we can immediately return.\r\n      return false;\r\n    }\r\n    return this.selectedOptions.length === this.maxSelected;\r\n  }\r\n\r\n  public get maxSelectedMessage(): string {\r\n    return this._localizationService.interpolate(\r\n      this.localeValues.multi.maxSelectedMessage,\r\n      [['max', this.maxSelected.toString()]]);\r\n  }\r\n\r\n  public get selectedMessage(): string {\r\n    return this._localizationService.interpolate(\r\n      this.localeValues.multi.selectedMessage,\r\n      [['count', this.selectedOptions.length.toString() === '0' && this._showCountText ?\r\n        this._showCountText : this.selectedOptions.length.toString()]]);\r\n  }\r\n\r\n  private _hasLabels: boolean;\r\n\r\n  @Input()\r\n  public get hasLabels(): boolean {\r\n    return this._hasLabels;\r\n  }\r\n\r\n  public set hasLabels(hasLabels: boolean) {\r\n    this._hasLabels = hasLabels;\r\n  }\r\n\r\n  private _showCountText: string;\r\n\r\n  @Input()\r\n  public get showCountText(): string {\r\n    return this._showCountText;\r\n  }\r\n\r\n  public set showCountText(showCountText: string) {\r\n    this._showCountText = showCountText;\r\n  }\r\n\r\n  private _placeholder: string;\r\n\r\n  @Input()\r\n  public get placeholder(): string {\r\n    return this._placeholder || this.localeValues.multi.placeholder;\r\n  }\r\n\r\n  public set placeholder(placeholder: string) {\r\n    this._placeholder = placeholder;\r\n  }\r\n\r\n  public selectOption(option: T): void {\r\n    if (this.selectedOptions.indexOf(option) !== -1) {\r\n      this.deselectOption(option);\r\n      return;\r\n    }\r\n    this.selectedOptions.push(option);\r\n    this.selectedOptionsChange.emit(this.selectedOptions.map(o => this.valueGetter(o)));\r\n\r\n    this.resetQuery(false);\r\n\r\n    // Automatically refocus the search input for better keyboard accessibility.\r\n    this.focus();\r\n\r\n    if (!this.hasLabels) {\r\n      this.onAvailableOptionsRendered();\r\n    }\r\n  }\r\n\r\n  public writeValue(values: U[]): void {\r\n    if (values instanceof Array) {\r\n      if (this.searchService.options.length > 0) {\r\n        // If the options have already been loaded, we can immediately match the ngModel values to options.\r\n        this.selectedOptions = values\r\n        // non-null assertion added here because Typescript doesn't recognise the non-null filter.\r\n          .map(v => this.findOption(this.searchService.options, v)!)\r\n          .filter(v => v != undefined);\r\n      }\r\n      if (values.length > 0 && this.selectedOptions.length === 0) {\r\n        if (this.searchService.hasItemLookup) {\r\n          // If the search service has a selected lookup function, make use of that to load the initial values.\r\n          this.searchService\r\n            .initialLookup(values)\r\n            .then(items => this.selectedOptions = items);\r\n        } else {\r\n          // Otherwise, cache the written value for when options are set.\r\n          this._writtenOptions = values;\r\n        }\r\n      }\r\n      if (values.length === 0) {\r\n        this.selectedOptions = [];\r\n      }\r\n    } else {\r\n      this.selectedOptions = [];\r\n    }\r\n  }\r\n\r\n  public deselectOption(option: T): void {\r\n    // Update selected options to the previously selected options \\ {option}.\r\n    this.selectedOptions = this.selectedOptions.filter(so => so !== option);\r\n    this.selectedOptionsChange.emit(this.selectedOptions.map(o => this.valueGetter(o)));\r\n\r\n    // Automatically refocus the search input for better keyboard accessibility.\r\n    this.focus();\r\n\r\n    if (!this.hasLabels) {\r\n      this.onAvailableOptionsRendered();\r\n    }\r\n  }\r\n\r\n  public onQueryInputKeydown(event: KeyboardEvent): void {\r\n    if (event.keyCode === KeyCode.Backspace && this.query === '' && this.selectedOptions.length > 0) {\r\n      // Deselect the rightmost option when the user presses backspace in the search input.\r\n      this.deselectOption(this.selectedOptions[this.selectedOptions.length - 1]);\r\n    }\r\n  }\r\n\r\n  protected optionsUpdateHook(): void {\r\n    if (!this._writtenOptions && this.selectedOptions.length > 0) {\r\n      // We need to check the options still exist.\r\n      this.writeValue(this.selectedOptions.map(o => this.valueGetter(o)));\r\n    }\r\n\r\n    if (this._writtenOptions && this.searchService.options.length > 0) {\r\n      // If there were values written by ngModel before the options had been loaded, this runs to fix it.\r\n      this.selectedOptions = this._writtenOptions\r\n      // non-null assertion added here because Typescript doesn't recognise the non-null filter.\r\n        .map(v => this.findOption(this.searchService.options, v)!)\r\n        .filter(v => v != undefined);\r\n\r\n      if (this.selectedOptions.length === this._writtenOptions.length) {\r\n        this._writtenOptions = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  protected initialiseRenderedOption(option: FuiSelectOption<T>): void {\r\n    super.initialiseRenderedOption(option);\r\n\r\n    // Boldens the item so it appears selected in the dropdown.\r\n    option.isActive = !this.hasLabels && this.selectedOptions.indexOf(option.value) !== -1;\r\n  }\r\n}\r\n\r\n// Value accessor directive for the select to support ngModel.\r\n@Directive({\r\n  selector: 'fui-multi-select',\r\n  host: {\r\n    '(selectedOptionsChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiMultiSelectValueAccessor)]\r\n})\r\nexport class FuiMultiSelectValueAccessor<T, U> extends CustomValueAccessor<U[], FuiMultiSelect<T, U>> {\r\n  constructor(host: FuiMultiSelect<T, U>) {\r\n    super(host);\r\n  }\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, Input, Output, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, HandledEvent, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {FuiSelectBase} from '../classes/select-base';\r\nimport {FuiSelectOption} from './select-option';\r\n\r\n@Component({\r\n  selector: 'fui-select',\r\n  template: `\r\n                   <!-- Query input -->\r\n                   <input fuiSelectSearch\r\n                          type=\"text\"\r\n                          [hidden]=\"!isSearchable || isSearchExternal\">\r\n\r\n                   <!-- Placeholder text -->\r\n                   <div *ngIf=\"selectedOption == undefined\" class=\"default text\" [class.filtered]=\"query\">{{ placeholder }}</div>\r\n                   <!-- Selected item -->\r\n                   <div class=\"text\" [class.filtered]=\"query || selectedOption == undefined\">\r\n                       <span #optionTemplateSibling></span>\r\n                       <span *ngIf=\"!optionTemplate && selectedOption != undefined\"\r\n                             [innerHTML]=\"configuredFormatter(selectedOption)\"></span>\r\n                   </div>\r\n                   <!-- Dropdown icon -->\r\n                   <i *ngIf=\"selectedOption && !isSearching && isClearable\" class=\"times icon\"\r\n                      (click)=\"onRemoveClick($event)\"></i>\r\n                   <i *ngIf=\"!selectedOption || !isClearable\" class=\"{{ icon }} icon\" (click)=\"onCaretClick($event)\"></i>\r\n                   <!-- Select dropdown menu -->\r\n                   <div class=\"menu\"\r\n                        fuiDropdownMenu\r\n                        [menuTransition]=\"transition\"\r\n                        [menuTransitionDuration]=\"transitionDuration\"\r\n                        [menuAutoSelectFirst]=\"isSearchable\">\r\n\r\n                       <ng-content></ng-content>\r\n                       <div *ngIf=\"isSearchable && availableOptions.length === 0\" class=\"message\">\r\n                           {{ localeValues.noResultsMessage }}\r\n                       </div>\r\n                   </div>\r\n               `,\r\n  styles: [`\r\n                   :host .times.icon {\r\n                       position: absolute;\r\n                       width: auto;\r\n                       height: auto;\r\n                       line-height: 1.21428571em;\r\n                       top: .78571429em;\r\n                       right: 1em;\r\n                       margin: -.78571429em;\r\n                       opacity: .6;\r\n                       font-size: 1.07142857em;\r\n                       padding: .6em;\r\n                       -webkit-transition: opacity .1s ease;\r\n                       transition: opacity .1s ease;\r\n                       z-index: 3;\r\n                   }\r\n\r\n                   :host .times.icon.larger {\r\n                       padding: .91666667em;\r\n                       font-size: .85714286em;\r\n                   }\r\n\r\n                   :host .times.icon:hover {\r\n                       opacity: 1;\r\n                   }\r\n               `]\r\n})\r\nexport class FuiSelect<T, U> extends FuiSelectBase<T, U> implements ICustomValueAccessorHost<U> {\r\n\r\n  public selectedOption?: T;\r\n  @Output()\r\n  public selectedOptionChange: EventEmitter<U>;\r\n  // Stores the value written by ngModel before it can be matched to an option from `options`.\r\n  private _writtenOption?: U;\r\n  @ViewChild('optionTemplateSibling', {read: ViewContainerRef, static: false})\r\n  private _optionTemplateSibling: ViewContainerRef;\r\n\r\n  constructor(element: ElementRef, localizationService: FuiLocalizationService) {\r\n    super(element, localizationService);\r\n\r\n    this.selectedOptionChange = new EventEmitter<U>();\r\n  }\r\n\r\n  private _placeholder: string;\r\n\r\n  @Input()\r\n  public get placeholder(): string {\r\n    return this._placeholder || this.localeValues.single.placeholder;\r\n  }\r\n\r\n  public set placeholder(placeholder: string) {\r\n    this._placeholder = placeholder;\r\n  }\r\n\r\n  public selectOption(option: T): void {\r\n    // Choose and emit the selected option.\r\n    this.selectedOption = option;\r\n    this.selectedOptionChange.emit(this.valueGetter(option));\r\n\r\n    this.dropdownService.setOpenState(false);\r\n\r\n    this.resetQuery();\r\n\r\n    this.drawSelectedOption();\r\n\r\n    // Automatically refocus the search input for better keyboard accessibility.\r\n    this.focus();\r\n  }\r\n\r\n  public writeValue(value: U): void {\r\n    if (value != undefined) {\r\n      if (this.searchService.options.length > 0) {\r\n        // If the options have already been loaded, we can immediately match the ngModel value to an option.\r\n        this.selectedOption = this.findOption(this.searchService.options, value);\r\n\r\n        this.drawSelectedOption();\r\n      }\r\n      if (this.selectedOption == undefined) {\r\n        if (this.valueField && this.searchService.hasItemLookup) {\r\n          // If the search service has a selected lookup function, make use of that to load the initial value.\r\n          this.searchService\r\n            .initialLookup(value)\r\n            .then(i => {\r\n              this.selectedOption = i;\r\n              this.drawSelectedOption();\r\n            });\r\n        } else {\r\n          // Otherwise, cache the written value for when options are set.\r\n          this._writtenOption = value;\r\n        }\r\n      }\r\n    } else {\r\n      this.selectedOption = undefined;\r\n      this.drawSelectedOption();\r\n    }\r\n  }\r\n\r\n  public onRemoveClick(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n      this.selectedOption = undefined;\r\n      this.selectedOptionChange.emit(undefined);\r\n      this._renderedOptions.forEach(o => o.isActive = false);\r\n    }\r\n  }\r\n\r\n  protected optionsUpdateHook(): void {\r\n    if (!this._writtenOption && this.selectedOption) {\r\n      // We need to check the option still exists.\r\n      this.writeValue(this.valueGetter(this.selectedOption));\r\n    }\r\n\r\n    if (this._writtenOption && this.searchService.options.length > 0) {\r\n      // If there was an value written by ngModel before the options had been loaded, this runs to fix it.\r\n      this.selectedOption = this.findOption(this.searchService.options, this._writtenOption);\r\n      if (this.selectedOption) {\r\n        this._writtenOption = undefined;\r\n        this.drawSelectedOption();\r\n      }\r\n    }\r\n  }\r\n\r\n  protected queryUpdateHook(): void {\r\n    // When the query is updated, we just abandon the current selection.\r\n    this.selectedOption = undefined;\r\n  }\r\n\r\n  protected initialiseRenderedOption(option: FuiSelectOption<T>): void {\r\n    super.initialiseRenderedOption(option);\r\n\r\n    // Boldens the item so it appears selected in the dropdown.\r\n    option.isActive = option.value === this.selectedOption;\r\n  }\r\n\r\n  private drawSelectedOption(): void {\r\n    // Updates the active class on the newly selected option.\r\n    if (this._renderedOptions) {\r\n      this.onAvailableOptionsRendered();\r\n    }\r\n\r\n    if (this.selectedOption != undefined && this.optionTemplate) {\r\n      this.drawTemplate(this._optionTemplateSibling, this.selectedOption);\r\n    }\r\n  }\r\n}\r\n\r\n// Value accessor directive for the select to support ngModel.\r\n@Directive({\r\n  selector: 'fui-select',\r\n  host: {\r\n    '(selectedOptionChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiSelectValueAccessor)]\r\n})\r\nexport class FuiSelectValueAccessor<T, U> extends CustomValueAccessor<U, FuiSelect<T, U>> {\r\n  constructor(host: FuiSelect<T, U>) {\r\n    super(host);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiDropdownModule} from '../dropdown/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiLocalizationModule} from '../../behaviors/localization/internal';\r\nimport {FuiSelect, FuiSelectValueAccessor} from './components/select';\r\nimport {FuiSelectOption} from './components/select-option';\r\nimport {FuiSelectSearch} from './directives/select-search';\r\nimport {FuiMultiSelect, FuiMultiSelectValueAccessor} from './components/multi-select';\r\nimport {FuiMultiSelectLabel} from './components/multi-select-label';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FuiDropdownModule,\r\n    FuiUtilityModule,\r\n    FuiLocalizationModule\r\n  ],\r\n  declarations: [\r\n    FuiSelect,\r\n    FuiSelectOption,\r\n    FuiSelectSearch,\r\n    FuiSelectValueAccessor,\r\n    FuiMultiSelect,\r\n    FuiMultiSelectLabel,\r\n    FuiMultiSelectValueAccessor\r\n  ],\r\n  exports: [\r\n    FuiSelect,\r\n    FuiSelectOption,\r\n    FuiSelectSearch,\r\n    FuiSelectValueAccessor,\r\n    FuiMultiSelect,\r\n    FuiMultiSelectValueAccessor\r\n  ]\r\n})\r\nexport class FuiSelectModule {\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\n\r\nexport type SidebarTransition = 'overlay' | 'push' | 'scale down' | 'uncover' | 'slide along' | 'slide out';\r\n\r\nexport const SidebarTransition = {\r\n  Overlay: 'overlay' as SidebarTransition,\r\n  Push: 'push' as SidebarTransition,\r\n  ScaleDown: 'scale down' as SidebarTransition,\r\n  Uncover: 'uncover' as SidebarTransition,\r\n  SlideAlong: 'slide along' as SidebarTransition,\r\n  SlideOut: 'slide out' as SidebarTransition\r\n};\r\n\r\nexport type SidebarDirection = 'left' | 'right' | 'top' | 'bottom';\r\n\r\nexport const SidebarDirection = {\r\n  Left: 'left' as SidebarDirection,\r\n  Right: 'right' as SidebarDirection,\r\n  Top: 'top' as SidebarDirection,\r\n  Bottom: 'bottom' as SidebarDirection\r\n};\r\n\r\nexport class SidebarService {\r\n\r\n  public isVisible: boolean;\r\n  public isAnimating: boolean;\r\n  public wasJustOpened: boolean;\r\n  public direction: SidebarDirection;\r\n  public isVisibleChange: EventEmitter<boolean>;\r\n  public widthChange: EventEmitter<void>;\r\n  public heightChange: EventEmitter<void>;\r\n  public transition: SidebarTransition;\r\n  private _isAnimatingTimeout: number;\r\n\r\n  constructor(isVisible: boolean = false) {\r\n    this.isVisible = isVisible;\r\n    this.isAnimating = false;\r\n    this.wasJustOpened = false;\r\n\r\n    this.isVisibleChange = new EventEmitter<boolean>();\r\n    this.widthChange = new EventEmitter<void>();\r\n    this.heightChange = new EventEmitter<void>();\r\n\r\n    this.width = 260;\r\n    this.height = 0;\r\n\r\n    this.transition = SidebarTransition.Uncover;\r\n  }\r\n\r\n  private _width: number;\r\n\r\n  public get width(): number {\r\n    if (this.direction === SidebarDirection.Left) {\r\n      return this._width;\r\n    }\r\n    if (this.direction === SidebarDirection.Right) {\r\n      return -this._width;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public set width(width: number) {\r\n    this._width = width;\r\n    this.widthChange.emit();\r\n  }\r\n\r\n  private _height: number;\r\n\r\n  public get height(): number {\r\n    if (this.direction === SidebarDirection.Top) {\r\n      return this._height;\r\n    }\r\n    if (this.direction === SidebarDirection.Bottom) {\r\n      return -this._height;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public set height(height: number) {\r\n    this._height = height;\r\n    this.heightChange.emit();\r\n  }\r\n\r\n  public setVisibleState(isVisible: boolean): void {\r\n    if (this.isVisible !== isVisible) {\r\n      this.isVisible = isVisible;\r\n      this.isAnimating = true;\r\n      this.wasJustOpened = true;\r\n\r\n      this.isVisibleChange.emit(isVisible);\r\n\r\n      setTimeout(() => this.wasJustOpened = false);\r\n      clearTimeout(this._isAnimatingTimeout);\r\n      this._isAnimatingTimeout = window.setTimeout(() => this.isAnimating = false, 500);\r\n    }\r\n  }\r\n\r\n  public toggleVisibleState(): void {\r\n    this.setVisibleState(!this.isVisible);\r\n  }\r\n}\r\n","import {Component, ElementRef, EventEmitter, HostBinding, Input, Output, Renderer2} from '@angular/core';\r\nimport {SidebarDirection, SidebarService, SidebarTransition} from '../services/sidebar.service';\r\n\r\n@Component({\r\n  selector: 'fui-sidebar',\r\n  template: `<ng-content></ng-content>`\r\n})\r\nexport class FuiSidebar {\r\n  public service: SidebarService;\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.sidebar')\r\n  @HostBinding('class.menu')\r\n  public readonly hasClasses: boolean;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef) {\r\n    this.service = new SidebarService();\r\n    // We set the default here as well to force the classes to update.\r\n    this.transition = SidebarTransition.Uncover;\r\n    this.direction = SidebarDirection.Left;\r\n\r\n    setTimeout(() => this.updateDimensions());\r\n    this.service.isVisibleChange.subscribe(() => this.updateDimensions());\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @Input()\r\n  public get transition(): SidebarTransition {\r\n    return this.service.transition;\r\n  }\r\n\r\n  public set transition(transition: SidebarTransition) {\r\n    this.service.transition.split(' ').forEach(c => this.setClass(c, false));\r\n\r\n    this.service.transition = transition;\r\n\r\n    this.service.transition.split(' ').forEach(c => this.setClass(c, true));\r\n  }\r\n\r\n  @Input()\r\n  public get direction(): SidebarDirection {\r\n    return this.service.direction;\r\n  }\r\n\r\n  public set direction(direction: SidebarDirection) {\r\n    this.setClass(this.service.direction, false);\r\n\r\n    this.service.direction = direction;\r\n\r\n    this.setClass(this.service.direction, true);\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  @Input()\r\n  public get isVisible(): boolean {\r\n    return this.service.isVisible;\r\n  }\r\n\r\n  public set isVisible(isVisible: boolean) {\r\n    this.service.setVisibleState(isVisible);\r\n  }\r\n\r\n  @Output()\r\n  public get isVisibleChange(): EventEmitter<boolean> {\r\n    return this.service.isVisibleChange;\r\n  }\r\n\r\n  @HostBinding('class.animating')\r\n  public get isAnimating(): boolean {\r\n    return this.service.isAnimating;\r\n  }\r\n\r\n  public open(): void {\r\n    this.service.setVisibleState(true);\r\n  }\r\n\r\n  public close(): void {\r\n    this.service.setVisibleState(false);\r\n  }\r\n\r\n  public toggle(): void {\r\n    this.service.toggleVisibleState();\r\n  }\r\n\r\n  private updateDimensions(): void {\r\n    this.service.width = this._element.nativeElement.offsetWidth;\r\n    this.service.height = this._element.nativeElement.offsetHeight;\r\n  }\r\n\r\n  private setClass(className: string, isAdd: boolean = true): void {\r\n    if (isAdd) {\r\n      this._renderer.addClass(this._element.nativeElement, className);\r\n    } else {\r\n      this._renderer.removeClass(this._element.nativeElement, className);\r\n    }\r\n  }\r\n}\r\n","import {Component, ElementRef, HostBinding, HostListener, Input, Renderer2} from '@angular/core';\r\nimport {SidebarService, SidebarTransition} from '../services/sidebar.service';\r\n\r\n@Component({\r\n  selector: 'fui-sidebar-sibling',\r\n  template: `\r\n                   <ng-content></ng-content>`,\r\n  styles: [`\r\n                   :host {\r\n                       display: block;\r\n                   }\r\n               `]\r\n})\r\nexport class FuiSidebarSibling {\r\n\r\n  @Input()\r\n  public isDimmedWhenVisible: boolean;\r\n  @HostBinding('class.pusher')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public canCloseSidebar = true;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef) {\r\n    this.isDimmedWhenVisible = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  public get isVisible(): boolean {\r\n    if (!this.service) {\r\n      return false;\r\n    }\r\n    return this.service.isVisible;\r\n  }\r\n\r\n  @HostBinding('class.dimmed')\r\n  public get isDimmed(): boolean {\r\n    if (!this.service) {\r\n      return false;\r\n    }\r\n    return this.service.isVisible && this.isDimmedWhenVisible;\r\n  }\r\n\r\n  private _service: SidebarService;\r\n\r\n  public get service(): SidebarService {\r\n    return this._service;\r\n  }\r\n\r\n  public set service(service: SidebarService) {\r\n    this._service = service;\r\n\r\n    setTimeout(() => this.updateTransform());\r\n    this._service.isVisibleChange.subscribe(() => this.updateTransform());\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(event: MouseEvent): void {\r\n    if (this.canCloseSidebar && this.service.isVisible && !this.service.wasJustOpened) {\r\n      this.service.setVisibleState(false);\r\n    }\r\n  }\r\n\r\n  private updateTransform(): void {\r\n    this._renderer.removeStyle(this._element.nativeElement, 'transform');\r\n    this._renderer.removeStyle(this._element.nativeElement, '-webkit-transform');\r\n\r\n    if (this.service.isVisible &&\r\n      this.service.transition !== SidebarTransition.Overlay &&\r\n      this.service.transition !== SidebarTransition.ScaleDown) {\r\n\r\n      const translate = `translate3d(${this.service.width}px, ${this.service.height}px, 0)`;\r\n      this._renderer.setStyle(this._element.nativeElement, 'transform', translate);\r\n      this._renderer.setStyle(this._element.nativeElement, '-webkit-transform', translate);\r\n    }\r\n  }\r\n}\r\n","import {AfterContentInit, Component, ContentChild, HostBinding} from '@angular/core';\r\nimport {SidebarService} from '../services/sidebar.service';\r\nimport {FuiSidebar} from './sidebar';\r\nimport {FuiSidebarSibling} from './sidebar-sibling';\r\n\r\n@Component({\r\n  selector: 'fui-sidebar-container',\r\n  template: `<ng-content></ng-content>`,\r\n  styles: [`\r\n:host {\r\n    display: block;\r\n}\r\n`]\r\n})\r\nexport class FuiSidebarContainer implements AfterContentInit {\r\n  public service: SidebarService;\r\n\r\n  @HostBinding('class.pushable')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @ContentChild(FuiSidebar, {static: false})\r\n  public sidebar: FuiSidebar;\r\n\r\n  @ContentChild(FuiSidebarSibling, {static: false})\r\n  public sibling: FuiSidebarSibling;\r\n\r\n  constructor() {\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    if (!this.sidebar) {\r\n      throw new Error('You must include a <fui-sidebar> element within the container.');\r\n    }\r\n    this.service = this.sidebar.service;\r\n\r\n    if (!this.sibling) {\r\n      throw new Error('You must include a <fui-sidebar-sibling> element within the container.');\r\n    }\r\n    this.sibling.service = this.service;\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiSidebar} from './components/sidebar';\r\nimport {FuiSidebarContainer} from './components/sidebar-container';\r\nimport {FuiSidebarSibling} from './components/sidebar-sibling';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiSidebar,\r\n    FuiSidebarContainer,\r\n    FuiSidebarSibling\r\n  ],\r\n  exports: [\r\n    FuiSidebar,\r\n    FuiSidebarContainer,\r\n    FuiSidebarSibling\r\n  ]\r\n})\r\nexport class FuiSidebarModule {\r\n}\r\n","import {FuiTabHeader} from '../directives/tab-header';\r\nimport {FuiTabContent} from '../directives/tab-content';\r\n\r\nexport class Tab {\r\n  public id: string;\r\n  public header: FuiTabHeader;\r\n  public content: FuiTabContent;\r\n  public index: number;\r\n\r\n  constructor(header: FuiTabHeader, content: FuiTabContent) {\r\n    this.id = header.id;\r\n    this.header = header;\r\n    this.content = content;\r\n\r\n    // So that the header and content isActive properties are always in sync.\r\n    this.header.isActiveChange\r\n      .subscribe(() => this.content.isActive = this.isActive);\r\n  }\r\n\r\n  // Saves accessing .header.isActive every time.\r\n  public get isActive(): boolean {\r\n    return this.header.isActive;\r\n  }\r\n\r\n  public set isActive(active: boolean) {\r\n    // Use `setActiveState` so as not to fire 'external changes' event.\r\n    this.header.setActiveState(active);\r\n  }\r\n\r\n  // Saves accessing .header.isDisabled every time.\r\n  public get isDisabled(): boolean {\r\n    return this.header.isDisabled;\r\n  }\r\n}\r\n","import {Directive, EventEmitter, HostBinding, HostListener, Input, Output} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[fuiTabHeader]'\r\n})\r\nexport class FuiTabHeader {\r\n\r\n  @HostBinding('class.item')\r\n  public readonly hasClasses: boolean;\r\n  @Input('fuiTabHeader')\r\n  public id: string;\r\n  // Enables use of [(isActive)] so state can be set using booleans.\r\n  @Output()\r\n  public isActiveChange: EventEmitter<boolean>;\r\n  // Fires only when `isActive` changes due to user input.\r\n  public isActiveExternalChange: EventEmitter<boolean>;\r\n  // Fires whenever a tab is activated having previously been deactivated.\r\n  @Output('activate')\r\n  public onActivate: EventEmitter<void>;\r\n  // Fires whenever a tab is deactivated having previously been activated.\r\n  @Output('deactivate')\r\n  public onDeactivate: EventEmitter<void>;\r\n\r\n  constructor() {\r\n    this._isActive = false;\r\n    this.isActiveChange = new EventEmitter<boolean>();\r\n    this.isActiveExternalChange = new EventEmitter<boolean>();\r\n\r\n    this.onActivate = new EventEmitter<void>();\r\n    this.onDeactivate = new EventEmitter<void>();\r\n\r\n    this.isDisabled = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  // Internally keeps track of whether the header is active.\r\n  private _isActive: boolean;\r\n\r\n  @HostBinding('class.active')\r\n  @Input()\r\n  public get isActive(): boolean {\r\n    return this._isActive;\r\n  }\r\n\r\n  public set isActive(active: boolean) {\r\n    let isActive = active;\r\n    // Only used by @Input(), runs whenever user input changes `isActive`.\r\n    // Run in timeout because `isDisabled` can prohibit user from changing `isActive`.\r\n    // so update is delayed to avoid 'changed after checked' error.\r\n    setTimeout(() => {\r\n      // Only allow change if tab header is not disabled.\r\n      isActive = !this.isDisabled ? active : false;\r\n      this.setActiveState(isActive);\r\n\r\n      // Fire 'external change' event as user input has occured.\r\n      this.isActiveExternalChange.emit(isActive);\r\n    });\r\n  }\r\n\r\n  private _isDisabled: boolean;\r\n\r\n  @HostBinding('class.disabled')\r\n  @Input()\r\n  public get isDisabled(): boolean {\r\n    return this._isDisabled;\r\n  }\r\n\r\n  public set isDisabled(disabled: boolean) {\r\n    // Only update if value provided is different to current one.\r\n    if (this._isDisabled !== disabled) {\r\n      this._isDisabled = disabled;\r\n\r\n      // If now disabled, then tab header must be deactivated.\r\n      if (this.isDisabled) {\r\n        this.isActive = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Internally update active state.\r\n  public setActiveState(active: boolean): void {\r\n    // If (cast) active value has changed:\r\n    if (!!this._isActive !== active) {\r\n      // Update to the new value.\r\n      this._isActive = active;\r\n\r\n      // Fire the appropriate activation event.\r\n      if (active) {\r\n        this.onActivate.emit();\r\n      } else {\r\n        this.onDeactivate.emit();\r\n      }\r\n    }\r\n\r\n    // Regardless, emit a change to `isActive`, so [(isActive)] works correctly.\r\n    this.isActiveChange.emit(active);\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (!this.isDisabled) {\r\n      // Activate the tab when clicked, so long as it isn't disabled.\r\n      this.isActive = true;\r\n    }\r\n  }\r\n}\r\n","import {Directive, HostBinding, Input} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[fuiTabContent]'\r\n})\r\nexport class FuiTabContent {\r\n  @HostBinding('class.tab')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input('fuiTabContent')\r\n  public id: string;\r\n\r\n  @HostBinding('class.active')\r\n  public isActive: boolean;\r\n\r\n  constructor() {\r\n    this.isActive = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n}\r\n","import {AfterContentInit, Component, ContentChildren, QueryList} from '@angular/core';\r\nimport {FuiTabHeader} from '../directives/tab-header';\r\nimport {FuiTabContent} from '../directives/tab-content';\r\nimport {Tab} from '../classes/tab';\r\n\r\n@Component({\r\n  selector: 'fui-tabset',\r\n  template: `<ng-content></ng-content>`\r\n})\r\nexport class FuiTabset implements AfterContentInit {\r\n\r\n  // List of all tabs in the tabset.\r\n  public tabs: Tab[];\r\n  @ContentChildren(FuiTabHeader)\r\n  private _tabHeaders: QueryList<FuiTabHeader>;\r\n  @ContentChildren(FuiTabContent)\r\n  private _tabContents: QueryList<FuiTabContent>;\r\n  // Keeps track of the number of times `internalComponentsUpdated` is called.\r\n  private _barrierCount: number;\r\n\r\n  constructor() {\r\n    this.tabs = [];\r\n    this._barrierCount = 0;\r\n  }\r\n\r\n  // Keeps track of the currently active tab.\r\n  private _activeTab: Tab;\r\n\r\n  // When setting a tab as the currently active tab, it automatically gains\r\n\r\n  public get activeTab(): Tab {\r\n    return this._activeTab;\r\n  }\r\n\r\n  // `isActive` status (saves littering `isActive = true` everywhere).\r\n  public set activeTab(tab: Tab) {\r\n    this._activeTab = tab;\r\n    tab.isActive = true;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    // Fire `internalComponentsUpdated` when the query lists change.\r\n    this._tabHeaders.changes.subscribe(() => this.internalComponentsUpdated());\r\n    this._tabContents.changes.subscribe(() => this.internalComponentsUpdated());\r\n\r\n    // Initially load the tabs.\r\n    this.loadTabs();\r\n  }\r\n\r\n  // Activate the first tab in the set.\r\n  public activateFirstTab(): void {\r\n    this.activeTab = this.tabs[0];\r\n  }\r\n\r\n  // Activates the closest available tab to a given one.\r\n  public activateClosestTab(tab: Tab): void {\r\n    let nextAvailable: Tab | undefined;\r\n\r\n    // When the exited tab's index is higher than all available tabs,\r\n    if (tab.index >= this.tabs.length) {\r\n      // Activate the last tab.\r\n      nextAvailable = this.tabs[this.tabs.length - 1];\r\n    }\r\n\r\n    // If that didn't work, try the following cases:\r\n    if (!nextAvailable) {\r\n      if (!this.tabs.find(t => t === tab)) { // When the exited tab no longer exists,\r\n        // Replace it with a tab at the same index.\r\n        nextAvailable = this.tabs[tab.index];\r\n      } else { // Or if the exited tab still exists,\r\n        // Go to the tab immediately to the left.\r\n        nextAvailable = this.tabs[Math.max(tab.index - 1, 0)];\r\n      }\r\n    }\r\n\r\n    // However, if the chosen tab is disabled,\r\n    if (nextAvailable.isDisabled) {\r\n      // Activate the closest available tab to it.\r\n      return this.activateClosestTab(nextAvailable);\r\n    }\r\n\r\n    this.activeTab = nextAvailable;\r\n  }\r\n\r\n  // Fires whenever either the tab headers or tab contents query lists update.\r\n  private internalComponentsUpdated(): void {\r\n    // We are using a 'counting barrier of n = 2', i.e. the code within only runs after the method is called twice.\r\n    // This is so that both the headers and contents query lists can update before we run code that matches the two up.\r\n    this._barrierCount++;\r\n\r\n    if (this._barrierCount === 2) {\r\n      // Reset the barrier so it can be called again.\r\n      this._barrierCount = 0;\r\n\r\n      // Update the tabs.\r\n      this.loadTabs();\r\n    }\r\n  }\r\n\r\n  // Connects tab headers to tab contents, and creates a tab instance for each pairing.\r\n  private loadTabs(): void {\r\n    // Remove any tabs that no longer have an associated header.\r\n    this.tabs = this.tabs.filter(t => !!this._tabHeaders.find(tH => tH === t.header));\r\n\r\n    this._tabHeaders\r\n    // Filter out the loaded headers with attached tab instances.\r\n      .filter(tH => !this.tabs.find(t => t.header === tH))\r\n      .forEach(tH => {\r\n        const content = this._tabContents.find(tC => tC.id === tH.id);\r\n\r\n        if (!content) {\r\n          // Error if an associated tab content cannot be found for the given header.\r\n          throw new Error('A [fuiTabHeader] must have a related [fuiTabContent].');\r\n        }\r\n\r\n        // Create a new tab instance for this header & content combo.\r\n        const tab = new Tab(tH, content);\r\n\r\n        // Subscribe to any external changes in the tab header's active state. External changes are triggered by user input.\r\n        tab.header.isActiveExternalChange.subscribe(() => this.onHeaderActiveChanged(tab));\r\n\r\n        // Add the new instance to the list of tabs.\r\n        this.tabs.push(tab);\r\n      });\r\n\r\n    // Assign each tab an index (which denotes the order they physically appear in).\r\n    this._tabHeaders\r\n      .forEach((tH, i) => {\r\n        const tab = this.tabs.find(t => t.header === tH);\r\n        if (tab) {\r\n          tab.index = i;\r\n        }\r\n      });\r\n\r\n    // Sort the tabs by their index.\r\n    this.tabs.sort((a, b) => a.index - b.index);\r\n\r\n\r\n    if (!this.activeTab) { // Check if there are no current existing active tabs.\r\n      // If so, we must activate the first available tab.\r\n      this.activateFirstTab();\r\n    } else if (!this.tabs.find(t => t === this.activeTab)) { // O'wise check if current active tab has been deleted.\r\n      // If so, we must find the closest.\r\n      // Use `setTimeout` as this causes a 'changed after checked' error o'wise.\r\n      setTimeout(() => this.activateClosestTab(this.activeTab));\r\n    }\r\n\r\n    if (this.tabs.length === 0) {\r\n      // Error if there aren't any tabs in the tabset.\r\n      throw new Error('You cannot have no tabs!');\r\n    }\r\n  }\r\n\r\n  // Fires whenever a tab header's active state is externally changed.\r\n  private onHeaderActiveChanged(tab: Tab): void {\r\n    // If the tab has become activated, but was not previously the active tab:\r\n    if (tab.isActive && this.activeTab !== tab) {\r\n      // Deactivate all of the tabs.\r\n      this.tabs.filter(t => t !== tab).forEach(t => t.isActive = false);\r\n\r\n      // Set the currently active tab to this one.\r\n      this.activeTab = tab;\r\n    }\r\n\r\n    // If the tab has become deactivated, but was previously the active tab:\r\n    if (!tab.isActive && this.activeTab === tab) {\r\n      // Activate the closest tab to it.\r\n      this.activateClosestTab(tab);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTabset} from './components/tabset';\r\nimport {FuiTabHeader} from './directives/tab-header';\r\nimport {FuiTabContent} from './directives/tab-content';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiTabset,\r\n    FuiTabHeader,\r\n    FuiTabContent\r\n  ],\r\n  exports: [\r\n    FuiTabset,\r\n    FuiTabHeader,\r\n    FuiTabContent\r\n  ]\r\n})\r\nexport class FuiTabsModule {\r\n}\r\n","import {Directive, TemplateRef} from '@angular/core';\r\n\r\n@Directive({selector: 'ng-template[fuiToastTitle]'})\r\nexport class FuiToastTitle {\r\n  constructor(public templateRef: TemplateRef<any>) {\r\n  }\r\n}\r\n","import {Directive, TemplateRef} from '@angular/core';\r\n\r\n@Directive({selector: 'ng-template[fuiToastMessage]',})\r\nexport class FuiToastMessage {\r\n  constructor(public templateRef: TemplateRef<any>) {\r\n  }\r\n}\r\n","import {Component, ContentChild, ElementRef, EventEmitter, Input, OnInit, Output} from '@angular/core';\r\nimport {FuiToastTitle} from '../directives/toast-title';\r\nimport {FuiToastMessage} from '../directives/toast-message';\r\n\r\n@Component({\r\n  selector: 'fui-toast',\r\n  exportAs: 'fuiToast',\r\n  template: `\r\n    <div class=\"toast-box compact\" (click)=\"(dismissible ? (!closeIcon ? close() : null) : null)\">\r\n      <div *ngIf=\"showProgress && showProgress === 'top'\" class=\"ui attached active progress {{class}} {{showProgress}}\">\r\n        <div class=\"bar\" [ngStyle]=\"{'transition': 'width ' + (displayTime / 1000)  + 's', 'width': progress + '%'}\"\r\n             style=\"width: 100%;\"></div>\r\n      </div>\r\n      <div class=\"{{class}} {{className}}\" [ngClass]=\"{'icon': showIcon}\">\r\n        <i *ngIf=\"closeIcon\" class=\"close icon\" (click)=\"close()\"></i>\r\n        <i *ngIf=\"showIcon\" class=\"{{showIcon}} icon\"></i>\r\n        <div class=\"content\">\r\n          <ng-container *ngIf=\"title\">\r\n            <div class=\"header\">{{title}}</div>\r\n          </ng-container>\r\n          <div class=\"header\" *ngIf=\"titleTpl\">\r\n            <ng-template [ngTemplateOutlet]=\"titleTpl.templateRef\"></ng-template>\r\n          </div>\r\n          <ng-container *ngIf=\"message\">\r\n            <div class=\"body\">{{message}}</div>\r\n          </ng-container>\r\n          <div *ngIf=\"messageTpl\" class=\"body\">\r\n            <ng-template [ngTemplateOutlet]=\"messageTpl.templateRef\"></ng-template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"showProgress && showProgress === 'bottom'\" class=\"ui attached active progress {{class}} {{showProgress}}\">\r\n        <div class=\"bar\" [ngStyle]=\"{'transition': 'width ' + (displayTime / 1000)  + 's', 'width': progress + '%'}\"\r\n             style=\"width: 100%;\"></div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class FuiToast implements OnInit {\r\n  @Input() dismissible: boolean;\r\n  @Input() title: string;\r\n  @Input() message: string;\r\n  @Input() class: string;\r\n\r\n  @Input() showIcon: any;\r\n  @Input() closeIcon: boolean;\r\n  @Input() className: any;\r\n\r\n  @Input() progressUp?: boolean;\r\n  @Input() showProgress?: string;\r\n  @Input() displayTime?: number;\r\n\r\n  @Input() id: number;\r\n\r\n  @Output('close') closeEvent = new EventEmitter();\r\n\r\n  @ContentChild(FuiToastTitle, {static: false}) titleTpl: FuiToastTitle;\r\n  @ContentChild(FuiToastMessage, {static: false}) messageTpl: FuiToastMessage;\r\n\r\n  progress: number;\r\n  icons = {\r\n    info: 'info',\r\n    success: 'checkmark',\r\n    warning: 'warning',\r\n    error: 'times'\r\n  };\r\n\r\n  constructor(private elementRef: ElementRef) {\r\n    this.dismissible = this.dismissible || true;\r\n    this.title = this.title || '';\r\n    this.message = this.message || '';\r\n    this.class = this.class || 'info';\r\n\r\n    if (typeof this.showIcon !== 'string') {\r\n      if (this.showIcon === undefined || this.showIcon === null) {\r\n        this.showIcon = this.icons[this.class];\r\n      } else {\r\n        this.showIcon = false;\r\n      }\r\n    }\r\n\r\n    this.closeIcon = this.closeIcon || false;\r\n    this.className = this.className || 'ui toast';\r\n\r\n    this.progressUp = this.progressUp || true;\r\n    this.displayTime = this.displayTime || 0;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.displayTime) {\r\n      window.setTimeout(() => this.close(), this.displayTime);\r\n\r\n      if (this.showProgress) {\r\n        this.progress = this.progressUp ? 0 : 100;\r\n        window.setTimeout(() => this.progress = this.progressUp ? 100 : 0, 300);\r\n      }\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.elementRef.nativeElement.remove();\r\n    this.closeEvent.next(this.id);\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {FuiToastConfig} from './toast-config';\r\n\r\n@Component({\r\n  selector: 'fui-toast-container',\r\n  exportAs: 'fuiToastContainer',\r\n  template: `\r\n    <fui-toast *ngFor=\"let toast of toastData\"\r\n               [id]=\"toast.id\"\r\n               [title]=\"toast.title\"\r\n               [message]=\"toast.message\"\r\n               [class]=\"toast.class\"\r\n               [showProgress]=\"toast.showProgress\"\r\n               [displayTime]=\"toast.displayTime\"\r\n               [showIcon]=\"toast.showIcon\"\r\n               [closeIcon]=\"toast.closeIcon\"\r\n               [progressUp]=\"toast.progressUp\"\r\n               [className]=\"toast.className\"\r\n               (close)=\"closeToast(toast.id)\"></fui-toast>`\r\n})\r\nexport class FuiToastContainer {\r\n  toastData: Array<FuiToastConfig> = [];\r\n  timeoutIds: { [toastId: number]: number } = {};\r\n  private maxId = 0;\r\n\r\n  addToast(data: FuiToastConfig) {\r\n    data.id = data.id || ++this.maxId;\r\n    data.showProgress = data.showProgress || 'bottom';\r\n    data.class = data.class || 'info';\r\n    data.displayTime = data.displayTime || 5000;\r\n\r\n    this.toastData.unshift(data);\r\n    this.timeoutIds[data.id] = window.setTimeout(() => this.closeToast(data.id), data.displayTime);\r\n  }\r\n\r\n  closeToast(toastId: number) {\r\n    const x = this.toastData.findIndex(t => t.id === toastId);\r\n\r\n    if (x > -1) {\r\n      const id = this.toastData[x].id;\r\n      window.clearTimeout(this.timeoutIds[id]);\r\n      delete this.timeoutIds[id];\r\n      this.toastData.splice(x, 1);\r\n    }\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\n@Injectable()\r\nexport class FuiToastConfig {\r\n  title: string;\r\n  message: string;\r\n  showProgress?: string;\r\n  class?: string;\r\n  progressUp?: boolean;\r\n  showIcon?: any;\r\n  closeIcon?: boolean;\r\n  displayTime?: number;\r\n  className?: string;\r\n  id?: number;\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiToast} from './classes/toast';\r\nimport {FuiToastContainer} from './classes/toast-container';\r\nimport {FuiToastTitle} from './directives/toast-title';\r\nimport {FuiToastMessage} from './directives/toast-message';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiToastTitle,\r\n    FuiToastMessage,\r\n    FuiToast,\r\n    FuiToastContainer\r\n  ],\r\n  exports: [\r\n    FuiToastTitle,\r\n    FuiToastMessage,\r\n    FuiToast,\r\n    FuiToastContainer\r\n  ]\r\n})\r\nexport class FuiToastModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {FuiMessageModule, FuiPaginationModule} from './collections/internal';\r\nimport {\r\n  FuiAccordionModule,\r\n  FuiCheckboxModule,\r\n  FuiCollapseModule,\r\n  FuiDatepickerModule,\r\n  FuiDimmerModule,\r\n  FuiDropdownModule,\r\n  FuiModalModule,\r\n  FuiPopupModule,\r\n  FuiProgressModule,\r\n  FuiRatingModule,\r\n  FuiSearchModule,\r\n  FuiSelectModule,\r\n  FuiSidebarModule,\r\n  FuiTabsModule,\r\n  FuiToastModule,\r\n  FuiTransitionModule\r\n} from './modules/internal';\r\nimport {FuiLocalizationModule} from './behaviors/internal';\r\nimport {FuiUtilityModule} from './misc/internal';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  exports: [\r\n    FuiMessageModule,\r\n    FuiPaginationModule,\r\n\r\n    FuiAccordionModule,\r\n    FuiCheckboxModule,\r\n    FuiCollapseModule,\r\n    FuiDatepickerModule,\r\n    FuiDimmerModule,\r\n    FuiDropdownModule,\r\n    FuiModalModule,\r\n    FuiPopupModule,\r\n    FuiProgressModule,\r\n    FuiRatingModule,\r\n    FuiSearchModule,\r\n    FuiSelectModule,\r\n    FuiSidebarModule,\r\n    FuiTabsModule,\r\n    FuiToastModule,\r\n    FuiTransitionModule,\r\n\r\n    FuiLocalizationModule,\r\n\r\n    FuiUtilityModule\r\n  ]\r\n})\r\nexport class FomanticUIModule {\r\n}\r\n"],"names":["((/** @type {?} */ ($extend))).default","$extend","EventEmitter","Injectable","NgModule","CommonModule","Directive","Renderer2","ElementRef","ChangeDetectorRef","HostBinding","Input","Component","Output","NG_VALIDATORS","forwardRef","NG_VALUE_ACCESSOR","ReflectiveInjector","ApplicationRef","ComponentFactoryResolver","Injector","ViewChild","ViewContainerRef","HostListener","ContentChildren","tslib_1.__extends","FormsModule","ViewChildren","format","parse","Host","ContentChild","TemplateRef"],"mappings":"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"}