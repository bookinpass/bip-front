{"version":3,"file":"ngx-fomantic-ui.js","sources":["ng://ngx-fomantic-ui/behaviors/localization/locales/en-GB.ts","ng://ngx-fomantic-ui/behaviors/localization/services/localization.service.ts","ng://ngx-fomantic-ui/behaviors/localization/localization.module.ts","ng://ngx-fomantic-ui/collections/message/classes/active-message.ts","ng://ngx-fomantic-ui/collections/message/classes/message-config.ts","ng://ngx-fomantic-ui/collections/message/classes/message-controller.ts","ng://ngx-fomantic-ui/modules/transition/classes/transition.ts","ng://ngx-fomantic-ui/modules/transition/classes/transition-controller.ts","ng://ngx-fomantic-ui/modules/transition/directives/transition.ts","ng://ngx-fomantic-ui/modules/transition/transition.module.ts","ng://ngx-fomantic-ui/collections/message/components/message.ts","ng://ngx-fomantic-ui/misc/util/helpers/custom-validator.ts","ng://ngx-fomantic-ui/misc/util/helpers/custom-value-accessor.ts","ng://ngx-fomantic-ui/misc/util/helpers/util.ts","ng://ngx-fomantic-ui/misc/util/helpers/date.ts","ng://ngx-fomantic-ui/misc/util/services/component-factory.service.ts","ng://ngx-fomantic-ui/misc/util/services/positioning.service.ts","ng://ngx-fomantic-ui/misc/util/util.module.ts","ng://ngx-fomantic-ui/collections/message/components/message-container.ts","ng://ngx-fomantic-ui/collections/message/components/message-global-container.ts","ng://ngx-fomantic-ui/collections/message/services/message-service.ts","ng://ngx-fomantic-ui/modules/progress/components/progress.ts","ng://ngx-fomantic-ui/modules/progress/progress.module.ts","ng://ngx-fomantic-ui/collections/message/message.module.ts","ng://ngx-fomantic-ui/collections/pagination/components/pagination.ts","ng://ngx-fomantic-ui/collections/pagination/pagination.module.ts","ng://ngx-fomantic-ui/modules/accordion/components/accordion-panel.ts","ng://ngx-fomantic-ui/modules/accordion/services/accordion.service.ts","ng://ngx-fomantic-ui/modules/accordion/components/accordion.ts","ng://ngx-fomantic-ui/modules/collapse/directives/collapse.ts","ng://ngx-fomantic-ui/modules/collapse/collapse.module.ts","ng://ngx-fomantic-ui/modules/accordion/accordion.module.ts","ng://ngx-fomantic-ui/modules/checkbox/components/checkbox.ts","ng://ngx-fomantic-ui/modules/checkbox/components/radio.ts","ng://ngx-fomantic-ui/modules/checkbox/directives/radio-manager.ts","ng://ngx-fomantic-ui/modules/checkbox/checkbox.module.ts","ng://ngx-fomantic-ui/modules/datepicker/services/calendar.service.ts","ng://ngx-fomantic-ui/modules/datepicker/directives/calendar-item.ts","ng://ngx-fomantic-ui/modules/datepicker/views/calendar-view.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/calendar-mappings.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/calendar-config.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/date-comparer.ts","ng://ngx-fomantic-ui/modules/datepicker/helpers/date-fns.ts","ng://ngx-fomantic-ui/modules/datepicker/classes/date-parser.ts","ng://ngx-fomantic-ui/modules/datepicker/services/calendar-range.service.ts","ng://ngx-fomantic-ui/modules/datepicker/components/calendar-view-title.ts","ng://ngx-fomantic-ui/modules/datepicker/components/datepicker.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-config.ts","ng://ngx-fomantic-ui/modules/popup/components/popup.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-controller.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-component-controller.ts","ng://ngx-fomantic-ui/modules/popup/classes/popup-template-controller.ts","ng://ngx-fomantic-ui/modules/popup/components/popup-arrow.ts","ng://ngx-fomantic-ui/modules/popup/services/popup.service.ts","ng://ngx-fomantic-ui/modules/popup/directives/popup.directive.ts","ng://ngx-fomantic-ui/modules/popup/popup.module.ts","ng://ngx-fomantic-ui/modules/datepicker/directives/datepicker.directive.ts","ng://ngx-fomantic-ui/modules/datepicker/directives/input.directive.ts","ng://ngx-fomantic-ui/modules/datepicker/views/date-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/hour-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/minute-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/month-view.ts","ng://ngx-fomantic-ui/modules/datepicker/views/year-view.ts","ng://ngx-fomantic-ui/modules/datepicker/datepicker.module.ts","ng://ngx-fomantic-ui/modules/dimmer/components/dimmer.ts","ng://ngx-fomantic-ui/modules/dimmer/dimmer.module.ts","ng://ngx-fomantic-ui/modules/dropdown/services/dropdown.service.ts","ng://ngx-fomantic-ui/modules/dropdown/directives/dropdown-menu.ts","ng://ngx-fomantic-ui/modules/dropdown/directives/dropdown.ts","ng://ngx-fomantic-ui/modules/dropdown/dropdown.module.ts","ng://ngx-fomantic-ui/modules/modal/classes/active-modal.ts","ng://ngx-fomantic-ui/modules/modal/classes/modal-config.ts","ng://ngx-fomantic-ui/modules/modal/classes/modal-controls.ts","ng://ngx-fomantic-ui/modules/modal/classes/modal-template.ts","ng://ngx-fomantic-ui/modules/modal/components/modal.ts","ng://ngx-fomantic-ui/modules/modal/services/modal.service.ts","ng://ngx-fomantic-ui/modules/modal/components/dimmer.ts","ng://ngx-fomantic-ui/modules/modal/modal.module.ts","ng://ngx-fomantic-ui/modules/rating/components/rating.ts","ng://ngx-fomantic-ui/modules/rating/rating.module.ts","ng://ngx-fomantic-ui/modules/search/components/search-result.ts","ng://ngx-fomantic-ui/modules/search/services/search.service.ts","ng://ngx-fomantic-ui/modules/search/components/search.ts","ng://ngx-fomantic-ui/modules/search/search.module.ts","ng://ngx-fomantic-ui/modules/select/components/select-option.ts","ng://ngx-fomantic-ui/modules/select/directives/select-search.ts","ng://ngx-fomantic-ui/modules/select/classes/select-base.ts","ng://ngx-fomantic-ui/modules/select/components/multi-select-label.ts","ng://ngx-fomantic-ui/modules/select/components/multi-select.ts","ng://ngx-fomantic-ui/modules/select/components/select.ts","ng://ngx-fomantic-ui/modules/select/select.module.ts","ng://ngx-fomantic-ui/modules/sidebar/services/sidebar.service.ts","ng://ngx-fomantic-ui/modules/sidebar/components/sidebar.ts","ng://ngx-fomantic-ui/modules/sidebar/components/sidebar-sibling.ts","ng://ngx-fomantic-ui/modules/sidebar/components/sidebar-container.ts","ng://ngx-fomantic-ui/modules/sidebar/sidebar.module.ts","ng://ngx-fomantic-ui/modules/tabs/classes/tab.ts","ng://ngx-fomantic-ui/modules/tabs/directives/tab-header.ts","ng://ngx-fomantic-ui/modules/tabs/directives/tab-content.ts","ng://ngx-fomantic-ui/modules/tabs/components/tabset.ts","ng://ngx-fomantic-ui/modules/tabs/tab.module.ts","ng://ngx-fomantic-ui/modules/toast/directives/toast-title.ts","ng://ngx-fomantic-ui/modules/toast/directives/toast-message.ts","ng://ngx-fomantic-ui/modules/toast/classes/toast.ts","ng://ngx-fomantic-ui/modules/toast/classes/toast-container.ts","ng://ngx-fomantic-ui/modules/toast/classes/toast-config.ts","ng://ngx-fomantic-ui/modules/toast/toast.module.ts","ng://ngx-fomantic-ui/fui.module.ts"],"sourcesContent":["import {ILocaleValues} from './interfaces/values';\r\n\r\nconst enGB: ILocaleValues = {\r\n  datepicker: {\r\n    months: [\r\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\r\n    ],\r\n    monthsShort: [\r\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\r\n    ],\r\n    weekdays: [\r\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\r\n    ],\r\n    weekdaysShort: [\r\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'\r\n    ],\r\n    weekdaysNarrow: [\r\n      'S', 'M', 'T', 'W', 'T', 'F', 'S'\r\n    ],\r\n    timesOfDay: [\r\n      'a.m.', 'p.m.'\r\n    ],\r\n    timesOfDayUppercase: [\r\n      'AM', 'PM'\r\n    ],\r\n    timesOfDayLowercase: [\r\n      'am', 'pm'\r\n    ],\r\n    formats: {\r\n      time: 'h:mm A',\r\n      datetime: 'D MMMM YYYY h:mm A',\r\n      date: 'D MMMM YYYY',\r\n      month: 'MMMM YYYY',\r\n      year: 'YYYY'\r\n    },\r\n    firstDayOfWeek: 1\r\n  },\r\n  search: {\r\n    placeholder: 'Search...',\r\n    noResults: {\r\n      header: 'No Results',\r\n      message: 'Your search returned no results.'\r\n    }\r\n  },\r\n  select: {\r\n    noResultsMessage: 'No results',\r\n    single: {\r\n      placeholder: 'Select one'\r\n    },\r\n    multi: {\r\n      placeholder: 'Select...',\r\n      maxSelectedMessage: 'Max #{max} selections',\r\n      selectedMessage: '#{count} selections'\r\n    }\r\n  }\r\n};\r\n\r\nexport default enGB;\r\n","import {EventEmitter, Injectable} from '@angular/core';\r\nimport {ILocaleValues, IPartialLocaleValues, RecursivePartial} from '../locales/interfaces/values';\r\nimport enGB from '../locales/en-GB';\r\nimport * as $extend from 'extend';\r\n\r\nfunction deepClone<T>(obj: T): T {\r\n  return JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\nfunction deepExtend<T, U>(target: T, source: U): T & U {\r\n  // Rollup...\r\n  const extend = ($extend as any).default || $extend;\r\n  return extend(true, target, source);\r\n}\r\n\r\nfunction lang(language: string): string {\r\n  return language.toLowerCase().replace('-', '');\r\n}\r\n\r\ninterface ILocalizationValuesContainer {\r\n  [name: string]: IPartialLocaleValues;\r\n}\r\n\r\n@Injectable()\r\nexport class FuiLocalizationService {\r\n\r\n  public onLanguageUpdate: EventEmitter<void>;\r\n  private _fallbackValues: ILocaleValues;\r\n  private _values: ILocalizationValuesContainer;\r\n\r\n  constructor() {\r\n    this.onLanguageUpdate = new EventEmitter<void>();\r\n\r\n    this._fallbackValues = enGB;\r\n    this._values = {};\r\n    this._language = 'en-GB';\r\n    this.load('en-GB', enGB);\r\n  }\r\n\r\n  private _language: string;\r\n\r\n  public get language(): string {\r\n    return this._language;\r\n  }\r\n\r\n  public setLanguage(language: string): void {\r\n    if (lang(this._language) !== lang(language)) {\r\n      this._language = language;\r\n      this.onLanguageUpdate.emit();\r\n    }\r\n  }\r\n\r\n  public get(language: string = this.language): ILocaleValues {\r\n    const values = deepClone(this._fallbackValues);\r\n    if (!this._values[lang(language)]) {\r\n      throw new Error(`Locale ${language} is not loaded`);\r\n    }\r\n    deepExtend(values, this._values[lang(language)]);\r\n    return deepClone(values);\r\n  }\r\n\r\n  public override<T extends keyof ILocaleValues>(\r\n    values: ILocaleValues[T],\r\n    overrides: RecursivePartial<ILocaleValues[T]>\r\n  ): ILocaleValues[T] {\r\n    return deepExtend(deepClone(values), overrides);\r\n  }\r\n\r\n  public load(language: string, values: IPartialLocaleValues): void {\r\n    this._values[lang(language)] = deepClone(values);\r\n    this.onLanguageUpdate.emit();\r\n  }\r\n\r\n  public patch(language: string, values: IPartialLocaleValues): void {\r\n    deepExtend(this._values[lang(language)], values);\r\n  }\r\n\r\n  public interpolate(value: string, variables: [string, string][]): string {\r\n    return variables.reduce((s, [k, v]) => s.replace(new RegExp(`#{${k}}`, 'g'), v), value);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiLocalizationService} from './services/localization.service';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  providers: [FuiLocalizationService]\r\n})\r\nexport class FuiLocalizationModule {\r\n}\r\n","import {MessageConfig} from './message-config';\r\nimport {ComponentRef} from '@angular/core';\r\nimport {FuiMessage} from '../components/message';\r\n\r\nexport abstract class FuiActiveMessage {\r\n  public abstract onClick(callback: () => void): FuiActiveMessage;\r\n\r\n  public abstract onDismiss(callback: () => void): FuiActiveMessage;\r\n\r\n  public abstract dismiss(): void;\r\n}\r\n\r\nexport class ActiveMessage implements FuiActiveMessage {\r\n  public config: MessageConfig;\r\n  public componentRef: ComponentRef<FuiMessage>;\r\n\r\n  constructor(config: MessageConfig, componentRef: ComponentRef<FuiMessage>) {\r\n    this.config = config;\r\n    this.componentRef = componentRef;\r\n\r\n    this.component.onDismiss.subscribe(() => this.componentRef.destroy());\r\n  }\r\n\r\n  public get component(): FuiMessage {\r\n    return this.componentRef.instance;\r\n  }\r\n\r\n  public onClick(callback: () => void): ActiveMessage {\r\n    this.config.onClick.subscribe(() => callback());\r\n    return this;\r\n  }\r\n\r\n  public onDismiss(callback: () => void): ActiveMessage {\r\n    this.config.onDismiss.subscribe(() => callback());\r\n    return this;\r\n  }\r\n\r\n  public dismiss(): void {\r\n    this.component.dismiss();\r\n  }\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\n\r\nexport type MessageState = '' | 'info' | 'success' | 'warning' | 'error';\r\n\r\nexport const MessageState = {\r\n  Default: '' as MessageState,\r\n  Info: 'info' as MessageState,\r\n  Success: 'success' as MessageState,\r\n  Warning: 'warning' as MessageState,\r\n  Error: 'error' as MessageState\r\n};\r\n\r\nexport class MessageConfig {\r\n  public text: string;\r\n  public header?: string;\r\n  public state: MessageState;\r\n\r\n  public timeout: number;\r\n  public extendedTimeout: number;\r\n\r\n  public hasDismissButton: boolean;\r\n  public hasProgress: boolean;\r\n\r\n  public transition: string;\r\n  public transitionInDuration: number;\r\n  public transitionOutDuration: number;\r\n\r\n  public onClick: EventEmitter<void>;\r\n  public onDismiss: EventEmitter<void>;\r\n\r\n  constructor(text: string, state: MessageState = MessageState.Default, header?: string) {\r\n    this.text = text;\r\n    this.state = state;\r\n    this.header = header;\r\n\r\n    this.timeout = 5000;\r\n    this.extendedTimeout = 1000;\r\n\r\n    this.hasDismissButton = true;\r\n    this.hasProgress = false;\r\n\r\n    this.transition = 'fade';\r\n    this.transitionInDuration = 400;\r\n    this.transitionOutDuration = 1000;\r\n\r\n    this.onClick = new EventEmitter<void>();\r\n    this.onDismiss = new EventEmitter<void>();\r\n  }\r\n}\r\n","import {MessageConfig} from './message-config';\r\nimport {FuiActiveMessage} from './active-message';\r\nimport {FuiMessageContainer} from '../components/message-container';\r\n\r\nexport interface IMessageController {\r\n  maxShown: number;\r\n  isNewestOnTop: boolean;\r\n\r\n  show(config: MessageConfig): FuiActiveMessage;\r\n\r\n  dismissAll(): void;\r\n}\r\n\r\nexport class MessageController implements IMessageController {\r\n  public maxShown: number;\r\n  public isNewestOnTop: boolean;\r\n  private _container: FuiMessageContainer;\r\n\r\n  constructor() {\r\n    this.maxShown = 7;\r\n    this.isNewestOnTop = true;\r\n  }\r\n\r\n  public registerContainer(container: FuiMessageContainer): void {\r\n    this._container = container;\r\n  }\r\n\r\n  public show(config: MessageConfig): FuiActiveMessage {\r\n    this.throwContainerError();\r\n\r\n    return this._container.show(config, this.maxShown, this.isNewestOnTop);\r\n  }\r\n\r\n  public dismissAll(): void {\r\n    this.throwContainerError();\r\n\r\n    return this._container.dismissAll();\r\n  }\r\n\r\n  private throwContainerError(): void {\r\n    if (!this._container) {\r\n      throw new Error('You must pass this controller to a message container.');\r\n    }\r\n  }\r\n}\r\n","// Possible directions for a transition.\r\nexport enum TransitionDirection {\r\n  In,\r\n  Out,\r\n  Either,\r\n  Static\r\n}\r\n\r\nexport class Transition {\r\n  public readonly type: string;\r\n\r\n  public readonly duration: number;\r\n\r\n  public direction: TransitionDirection;\r\n  // Stores the individual classes for the transition, e.g. \"fade out\" -> [\"fade\", \"out\"].\r\n  public readonly classes: string[];\r\n  public onComplete: () => void;\r\n\r\n  constructor(name: string,\r\n              duration: number = 250,\r\n              direction: TransitionDirection = TransitionDirection.Either,\r\n              onComplete: (() => void) = () => {\r\n              }) {\r\n\r\n    this.type = name;\r\n\r\n    // We set a minimum duration of 1ms, to give the appearance of an immediate transition\r\n    // whilst allowing positioning calculations to happen without a visible flicker.\r\n    this.duration = Math.max(duration, 1);\r\n\r\n    this.direction = direction;\r\n    this.classes = this.type.split(' ');\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  // Converts TransitionDirection to class name.\r\n  public get directionClass(): string {\r\n    switch (this.direction) {\r\n      case TransitionDirection.In:\r\n        return 'in';\r\n      case TransitionDirection.Out:\r\n        return 'out';\r\n    }\r\n\r\n    return '';\r\n  }\r\n}\r\n","import {ChangeDetectorRef, ElementRef, Renderer2} from '@angular/core';\r\nimport {Transition, TransitionDirection} from './transition';\r\n\r\nexport class TransitionController {\r\n  private _renderer: Renderer2;\r\n\r\n  private _element: ElementRef;\r\n\r\n  private _changeDetector: ChangeDetectorRef;\r\n  // Sets the 'display' style when visible.\r\n  private _display: string;\r\n  // Stores queued transitions.\r\n  private _queue: Transition[];\r\n  // Stores the setTimeout pointer for cancelling the animation callback.\r\n  private _animationTimeout: number;\r\n\r\n  constructor(isInitiallyVisible: boolean = true, display: string = 'block') {\r\n    // isInitiallyVisible sets whether the element starts out visible.\r\n    this._isVisible = isInitiallyVisible;\r\n    this._isHidden = !this._isVisible;\r\n\r\n    this._display = display;\r\n    this._queue = [];\r\n\r\n    this._isAnimating = false;\r\n  }\r\n\r\n  private _isAnimating: boolean;\r\n\r\n  public get isAnimating(): boolean {\r\n    return this._isAnimating;\r\n  }\r\n\r\n  // Set when the element is visible, and while it is transitioning out.\r\n  private _isVisible: boolean;\r\n\r\n  public get isVisible(): boolean {\r\n    return this._isVisible;\r\n  }\r\n\r\n  // Set when the element is hidden, and not while it is transitioning.\r\n  private _isHidden: boolean;\r\n\r\n  public get isHidden(): boolean {\r\n    return this._isHidden;\r\n  }\r\n\r\n  // Used to delay animations until we have an element to animate.\r\n  private get _isReady(): boolean {\r\n    return this._renderer != undefined && this._element != undefined && this._changeDetector != undefined;\r\n  }\r\n\r\n  // Gets the first transition in the queue.\r\n  private get _queueFirst(): Transition {\r\n    return this._queue[0];\r\n  }\r\n\r\n  // Gets the last transition in the queue.\r\n  private get _queueLast(): Transition {\r\n    return this._queue[this._queue.length - 1];\r\n  }\r\n\r\n  // Sets the renderer to be used for animating.\r\n  public registerRenderer(renderer: Renderer2): void {\r\n    this._renderer = renderer;\r\n    this.performTransition();\r\n  }\r\n\r\n  // Sets the element to perform the animations on.\r\n  public registerElement(element: ElementRef): void {\r\n    this._element = element;\r\n    this.performTransition();\r\n  }\r\n\r\n  // Sets the change detector to detect changes when using ChangeDetectionStrategy.OnPush.\r\n  public registerChangeDetector(changeDetector: ChangeDetectorRef): void {\r\n    this._changeDetector = changeDetector;\r\n    this.performTransition();\r\n  }\r\n\r\n  public animate(transition: Transition): void {\r\n    // Test if transition is one of the list that doesn't change the visible state.\r\n    // Should these eventually become classes?\r\n    const isDirectionless = ['jiggle', 'flash', 'shake', 'pulse', 'tada', 'bounce'].indexOf(transition.type) !== -1;\r\n    if (isDirectionless) {\r\n      transition.direction = TransitionDirection.Static;\r\n    } else if (transition.direction == undefined || transition.direction === TransitionDirection.Either) {\r\n      // Set the direction to the opposite of the current visible state automatically if not set, or set to either direction.\r\n      transition.direction = this._isVisible ? TransitionDirection.Out : TransitionDirection.In;\r\n      if (this._queueLast) {\r\n        // If there is an transition in the queue already, set the direction to the opposite of the direction of that transition.\r\n        if (this._queueLast.direction === TransitionDirection.In) {\r\n          transition.direction = TransitionDirection.Out;\r\n        } else if (this._queueLast.direction === TransitionDirection.Out) {\r\n          transition.direction = TransitionDirection.In;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Store the transition in the queue before attempting to perform it.\r\n    this._queue.push(transition);\r\n\r\n    this.performTransition();\r\n  }\r\n\r\n  // Stops the current transition, leaves the rest of the queue intact.\r\n  public stop(transition: Transition = this._queueFirst): void {\r\n    if (!transition || !this._isAnimating) {\r\n      return;\r\n    }\r\n\r\n    this.finalizeTransition(transition);\r\n  }\r\n\r\n  // Cancels the current transition, leaves the rest of the queue intact.\r\n  public cancel(transition: Transition = this._queueFirst): void {\r\n    if (!transition || !this._isAnimating) {\r\n      return;\r\n    }\r\n\r\n    this.completeTransition(transition);\r\n\r\n    if (transition.direction === TransitionDirection.In) {\r\n      // Return hidden class if we were originally transitioning in.\r\n      this._isHidden = true;\r\n    }\r\n  }\r\n\r\n  // Stops the current transition, and empties the queue.\r\n  public stopAll(): void {\r\n    this.clearQueue();\r\n    this.stop();\r\n  }\r\n\r\n  public cancelAll(): void {\r\n    this.clearQueue();\r\n    this.cancel();\r\n  }\r\n\r\n  // Empties the transition queue but carries on with the current transition.\r\n  public clearQueue(): void {\r\n    if (this.isAnimating) {\r\n      this._queue = [this._queueFirst];\r\n      return;\r\n    }\r\n    this._queue = [];\r\n  }\r\n\r\n  private performTransition(): void {\r\n    if (!this._isReady || this._isAnimating || !this._queueFirst) {\r\n      // Don't transition until we are ready, or if we are animating, or if there aren't any transitions in the queue.\r\n      return;\r\n    }\r\n\r\n    this._isAnimating = true;\r\n\r\n    const transition = this._queueFirst;\r\n\r\n    // Set the Fomantic UI classes for transitioning.\r\n    transition.classes.forEach(c => this._renderer.addClass(this._element, c));\r\n    this._renderer.addClass(this._element, `animating`);\r\n    this._renderer.addClass(this._element, transition.directionClass);\r\n\r\n    // Set the Fomantic UI styles for transitioning.\r\n    this._renderer.setStyle(this._element, `animationDuration`, `${transition.duration}ms`);\r\n    this._renderer.setStyle(this._element, `display`, this._display);\r\n\r\n    if (transition.direction === TransitionDirection.In) {\r\n      // Unset hidden if we are transitioning in.\r\n      this._isHidden = false;\r\n    }\r\n\r\n    // Wait the length of the animation before calling the complete callback.\r\n    this._animationTimeout = window.setTimeout(() => this.finalizeTransition(transition), transition.duration);\r\n  }\r\n\r\n  private completeTransition(transition: Transition): void {\r\n    transition.classes.forEach(c => this._renderer.removeClass(this._element, c));\r\n    this._renderer.removeClass(this._element, `animating`);\r\n    this._renderer.removeClass(this._element, transition.directionClass);\r\n\r\n    this._renderer.removeStyle(this._element, `animationDuration`);\r\n    this._renderer.removeStyle(this._element, `display`);\r\n\r\n    // Delete the transition from the queue.\r\n    this._queue.shift();\r\n    this._isAnimating = false;\r\n\r\n    this._changeDetector.markForCheck();\r\n\r\n    clearTimeout(this._animationTimeout);\r\n  }\r\n\r\n  // Called when a transition has completed.\r\n  private finalizeTransition(transition: Transition): void {\r\n    this.completeTransition(transition);\r\n\r\n    if (transition.direction === TransitionDirection.In) {\r\n      // If we have just animated in, we are now visible.\r\n      this._isVisible = true;\r\n    } else if (transition.direction === TransitionDirection.Out) {\r\n      // If we have transitioned out, we should be invisible and hidden.\r\n      this._isVisible = false;\r\n      this._isHidden = true;\r\n    }\r\n\r\n    if (transition.onComplete) {\r\n      // Call the user-defined transition callback.\r\n      transition.onComplete();\r\n    }\r\n\r\n    // Immediately attempt to perform another transition.\r\n    this.performTransition();\r\n  }\r\n}\r\n","import {ChangeDetectorRef, Directive, ElementRef, HostBinding, Input, Renderer2} from '@angular/core';\r\nimport {TransitionController} from '../classes/transition-controller';\r\n\r\n@Directive({\r\n  selector: '[fuiTransition]',\r\n  exportAs: 'transition'\r\n})\r\nexport class FuiTransition {\r\n  @HostBinding('class.transition')\r\n  public transitionClass = true;\r\n  // Each transition must have a controller associated that dispatches the transitions.\r\n  private _controller: TransitionController;\r\n\r\n  constructor(protected _renderer: Renderer2, protected _element: ElementRef, private _changeDetector: ChangeDetectorRef) {\r\n  }\r\n\r\n  @Input()\r\n  public set fuiTransition(tC: TransitionController) {\r\n    // Set the transition controller (e.g. '<div [fuiTransition]=\"transitionController\"></div>').\r\n    this.setTransitionController(tC);\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  public get isVisible(): boolean {\r\n    if (this._controller) {\r\n      return this._controller.isVisible;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  @HostBinding('class.hidden')\r\n  public get isHidden(): boolean {\r\n    if (this._controller) {\r\n      return this._controller.isHidden;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  // Initialises the controller with the injected renderer and elementRef.\r\n  public setTransitionController(transitionController: TransitionController): void {\r\n    this._controller = transitionController;\r\n    this._controller.registerRenderer(this._renderer);\r\n    this._controller.registerElement(this._element.nativeElement);\r\n    this._controller.registerChangeDetector(this._changeDetector);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransition} from './directives/transition';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [\r\n    FuiTransition\r\n  ],\r\n  exports: [\r\n    FuiTransition\r\n  ],\r\n  providers: []\r\n})\r\nexport class FuiTransitionModule {\r\n}\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {Transition, TransitionController, TransitionDirection} from '../../../modules/transition/internal';\r\nimport {HandledEvent, IDynamicClasses} from '../../../misc/util/internal';\r\nimport {MessageConfig, MessageState} from '../classes/message-config';\r\n\r\nexport interface IMessage {\r\n  dismiss(): void;\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-message',\r\n  template: `\r\n<div [fuiTransition]=\"transitionController\">\r\n    <div class=\"ui message\"\r\n         [ngClass]=\"dynamicClasses\"\r\n         (mousemove)=\"cancelTimer()\"\r\n         (mouseleave)=\"beginTimer(extendedTimeout)\"\r\n         (click)=\"onClicked($event)\">\r\n        <i class=\"close icon\" *ngIf=\"hasDismissButton\" (click)=\"onDismissClicked($event)\"></i>\r\n        <ng-content></ng-content>\r\n        <ng-container *ngIf=\"isDynamic\">\r\n            <div class=\"header\" *ngIf=\"header\">{{ header }}</div>\r\n            <p>{{ text }}</p>\r\n        </ng-container>\r\n    </div>\r\n    <fui-progress *ngIf=\"isDynamic && hasProgress\"\r\n                  class=\"bottom attached\"\r\n                  [value]=\"timeoutProgress\"\r\n                  [autoSuccess]=\"false\"\r\n                  transition=\"linear\"\r\n                  [transitionDuration]=\"currentTimeout\"\r\n                  [canCompletelyEmpty]=\"true\"></fui-progress>\r\n</div>\r\n`\r\n})\r\nexport class FuiMessage implements IMessage {\r\n  public isDynamic: boolean;\r\n  public isClosing: boolean;\r\n  public isDismissing: boolean;\r\n\r\n  public text: string;\r\n  public header?: string;\r\n  public state: MessageState;\r\n\r\n  public timeout: number;\r\n  public extendedTimeout: number;\r\n  public currentTimeout: number;\r\n\r\n  @Input()\r\n  public hasDismissButton: boolean;\r\n\r\n  public hasProgress: boolean;\r\n\r\n  public timeoutProgress: number;\r\n\r\n  public transitionController: TransitionController;\r\n\r\n  @Input()\r\n  public transition: string;\r\n  public transitionInDuration: number;\r\n\r\n  @Input('transitionDuration')\r\n  public transitionOutDuration: number;\r\n  @Output('click')\r\n  public onClick: EventEmitter<void>;\r\n  @Output('dismiss')\r\n  public onDismiss: EventEmitter<void>;\r\n  @Input('class')\r\n  public classes: string;\r\n  private _displayTimeout: number;\r\n\r\n  constructor() {\r\n    const config = new MessageConfig('');\r\n    this.loadConfig(config);\r\n\r\n    this.isDynamic = false;\r\n    this.transitionOutDuration = 300;\r\n    this.timeoutProgress = 100;\r\n\r\n    this.transitionController = new TransitionController(false);\r\n\r\n    this.show();\r\n  }\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n    classes[this.state] = true;\r\n\r\n    if (this.isDynamic && this.hasProgress) {\r\n      classes.attached = true;\r\n    }\r\n\r\n    (this.classes || '')\r\n      .split(' ')\r\n      .forEach(c => classes[c] = true);\r\n\r\n    return classes;\r\n  }\r\n\r\n  public loadConfig(config: MessageConfig): void {\r\n    this.isDynamic = true;\r\n\r\n    this.text = config.text;\r\n    this.header = config.header;\r\n    this.state = config.state;\r\n\r\n    this.timeout = config.timeout;\r\n    this.extendedTimeout = config.extendedTimeout;\r\n\r\n    this.hasDismissButton = config.hasDismissButton;\r\n    this.hasProgress = config.hasProgress;\r\n\r\n    this.transition = config.transition;\r\n    this.transitionInDuration = config.transitionInDuration;\r\n    this.transitionOutDuration = config.transitionOutDuration;\r\n\r\n    this.onClick = config.onClick;\r\n    this.onDismiss = config.onDismiss;\r\n  }\r\n\r\n  public show(): void {\r\n    this.transitionController.stopAll();\r\n    this.transitionController.animate(\r\n      new Transition(\r\n        this.transition,\r\n        this.isDynamic ? this.transitionInDuration : 0,\r\n        TransitionDirection.In,\r\n        () => {\r\n          if (this.isDynamic) {\r\n            this.beginTimer(this.timeout);\r\n          }\r\n        }));\r\n  }\r\n\r\n  public dismiss(): void {\r\n    this.isDismissing = true;\r\n    this.transitionOutDuration = this.transitionInDuration;\r\n\r\n    this.hide();\r\n  }\r\n\r\n  public hide(): void {\r\n    this.isClosing = true;\r\n\r\n    this.transitionController.stopAll();\r\n    this.transitionController.animate(\r\n      new Transition(\r\n        this.transition,\r\n        this.transitionOutDuration,\r\n        TransitionDirection.Out,\r\n        () => {\r\n          this.isClosing = false;\r\n          this.onDismiss.emit();\r\n        }));\r\n  }\r\n\r\n  public beginTimer(timeout: number): void {\r\n    if (this.isDynamic && !this.isDismissing) {\r\n      this.timeoutProgress = 0;\r\n      this.currentTimeout = timeout;\r\n      this._displayTimeout = window.setTimeout(() => this.onTimedOut(), timeout);\r\n    }\r\n  }\r\n\r\n  public cancelTimer(): void {\r\n    if (this.isDynamic && !this.isDismissing) {\r\n      this.timeoutProgress = 100;\r\n      this.currentTimeout = 0;\r\n      clearTimeout(this._displayTimeout);\r\n\r\n      if (this.isClosing) {\r\n        this.isClosing = false;\r\n\r\n        this.transitionController.cancel();\r\n      }\r\n    }\r\n  }\r\n\r\n  public onClicked(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      this.cancelTimer();\r\n      this.onClick.emit();\r\n    }\r\n  }\r\n\r\n  public onDismissClicked(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n    this.dismiss();\r\n  }\r\n\r\n  private onTimedOut(): void {\r\n    this.hide();\r\n  }\r\n}\r\n","import {AbstractControl, NG_VALIDATORS, ValidationErrors, Validator} from '@angular/forms';\r\nimport {forwardRef, InjectionToken, Type} from '@angular/core';\r\n\r\nexport interface ICustomValidatorHost {\r\n  validate(c: AbstractControl): ValidationErrors | null;\r\n}\r\n\r\nexport class CustomValidator<T extends ICustomValidatorHost> implements Validator {\r\n  public onValidatorChange = () => {\r\n  }\r\n\r\n  constructor(private _host: T) {\r\n  }\r\n\r\n  public validate(c: AbstractControl): ValidationErrors | null {\r\n    return this._host.validate(c);\r\n  }\r\n\r\n  public registerOnValidatorChange(fn: () => void): void {\r\n    this.onValidatorChange = fn;\r\n  }\r\n}\r\n\r\nexport interface IValidationProvider {\r\n  provide: InjectionToken<(Function | Validator)[]>;\r\n  useExisting: Type<any>;\r\n  multi: boolean;\r\n}\r\n\r\nexport function customValidatorFactory(type: Function): IValidationProvider {\r\n  return {\r\n    provide: NG_VALIDATORS,\r\n    useExisting: forwardRef(() => type),\r\n    multi: true\r\n  };\r\n}\r\n","import {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {forwardRef, InjectionToken, Type} from '@angular/core';\r\n\r\nexport interface ICustomValueAccessorHost<T> {\r\n  writeValue(value: T): void;\r\n}\r\n\r\nexport class CustomValueAccessor<U, T extends ICustomValueAccessorHost<U>> implements ControlValueAccessor {\r\n  public onChange = (event: Event) => {\r\n  }\r\n  public onTouched = () => {\r\n  }\r\n\r\n  constructor(private _host: T) {\r\n  }\r\n\r\n  public writeValue(value: U): void {\r\n    this._host.writeValue(value);\r\n  }\r\n\r\n  public registerOnChange(fn: () => void): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: () => void): void {\r\n    this.onTouched = fn;\r\n  }\r\n}\r\n\r\nexport interface IValueAccessorProvider {\r\n  provide: InjectionToken<ControlValueAccessor>;\r\n  useExisting: Type<any>;\r\n  multi: boolean;\r\n}\r\n\r\nexport function customValueAccessorFactory(type: Function): IValueAccessorProvider {\r\n  return {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => type),\r\n    multi: true\r\n  };\r\n}\r\n","// Keyboard keycodes.\r\nexport enum KeyCode {\r\n  Left = 37,\r\n  Up = 38,\r\n  Right = 39,\r\n  Down = 40,\r\n\r\n  Escape = 27,\r\n  Enter = 13,\r\n\r\n  Space = 32,\r\n  Backspace = 8\r\n}\r\n\r\ninterface IRecursiveObject {\r\n  [name: string]: IRecursiveObject;\r\n}\r\n\r\nexport interface ITemplateRefContext<T> {\r\n  $implicit: T;\r\n}\r\n\r\nexport interface IAugmentedElement extends Element {\r\n  closest(selector: string): IAugmentedElement;\r\n}\r\n\r\nexport class HandledEvent {\r\n  public eventHandled: boolean;\r\n}\r\n\r\nexport interface IDynamicClasses {\r\n  [name: string]: true;\r\n}\r\n\r\nexport const Util = {\r\n  Array: {\r\n    range(n: number, offset: number = 0): number[] {\r\n      return Array(n).fill(0).map((z, i) => i + offset);\r\n    },\r\n    group<T>(items: T[], groupLength: number): T[][] {\r\n      const mutable = items.slice(0);\r\n\r\n      const groups: T[][] = [];\r\n      while (mutable.length > 0) {\r\n        groups.push(mutable.splice(0, groupLength));\r\n      }\r\n      return groups;\r\n    },\r\n    groupBy<T>(items: T[], field: keyof T): { [name: string]: T[] } {\r\n      return items.reduce<{ [name: string]: T[] }>(\r\n        (groups, i) => {\r\n          const fieldValue = i[field].toString();\r\n          groups[fieldValue] = groups[fieldValue] || [];\r\n          groups[fieldValue].push(i);\r\n          return groups;\r\n        },\r\n        Object());\r\n    },\r\n    flatten<T>(items: T[][]): T[] {\r\n      return items.reduce((is, i) => is.concat(i), []);\r\n    }\r\n  },\r\n\r\n  String: {\r\n    padLeft(str: string, length: number, padding: string): string {\r\n      let s = str;\r\n      while (s.length < length) {\r\n        s = padding + s;\r\n      }\r\n      return s;\r\n    }\r\n  },\r\n\r\n  DOM: {\r\n    parseBooleanAttribute(attributeValue: boolean): boolean {\r\n      let value = attributeValue;\r\n      if (typeof attributeValue === 'string') {\r\n        value = true;\r\n      }\r\n\r\n      return value;\r\n    },\r\n    getDocumentFontSize(): number {\r\n      return parseFloat(window\r\n        .getComputedStyle(document.documentElement, undefined)\r\n        .getPropertyValue('font-size'));\r\n    }\r\n  },\r\n\r\n  Object: {\r\n    readValue<T, U>(object: T, path?: string): U {\r\n      if (!path) {\r\n        return object as any as U;\r\n      }\r\n\r\n      let recursed = object as any as IRecursiveObject;\r\n\r\n      for (let i = 0, p = path.split('.'), len = p.length; i < len; i++) {\r\n        recursed = (recursed as any as IRecursiveObject)[p[i]];\r\n      }\r\n\r\n      return recursed as any as U;\r\n    }\r\n  },\r\n\r\n  Math: {\r\n    round(r: number, n: number): number {\r\n      return Math.round(r / n) * n;\r\n    },\r\n    roundUp(r: number, n: number): number {\r\n      return Math.ceil(r / n) * n;\r\n    },\r\n    roundDown(r: number, n: number): number {\r\n      return Math.floor(r / n) * n;\r\n    },\r\n    mod(r: number, n: number): number {\r\n      const rem = r % n;\r\n      if (rem < 0) {\r\n        return rem + n;\r\n      }\r\n      return rem;\r\n    }\r\n  }\r\n};\r\n","import {Util} from './util';\r\n\r\nexport enum DatePrecision {\r\n  Decade = 0,\r\n  Year = 1,\r\n  Month = 2,\r\n  Date = 3,\r\n  Hour = 4,\r\n  Minute = 5\r\n}\r\n\r\nexport const DateUtil = {\r\n  startOf(precision: DatePrecision, date: Date, resetAll: boolean = false): Date {\r\n    switch (precision) {\r\n      case DatePrecision.Decade:\r\n        const start = Math.floor(date.getFullYear() / 10) * 10 + 1;\r\n        date.setFullYear(start);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Year:\r\n        date.setMonth(0);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Month:\r\n        date.setDate(1);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Date:\r\n        date.setHours(0);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Hour:\r\n        date.setMinutes(0);\r\n        if (!resetAll) {\r\n          break;\r\n        }\r\n      // falls through\r\n      case DatePrecision.Minute:\r\n        date.setSeconds(0, 0);\r\n    }\r\n\r\n    return date;\r\n  },\r\n\r\n  endOf(precision: DatePrecision, date: Date): Date {\r\n    switch (precision) {\r\n      case DatePrecision.Year:\r\n        date.setMonth(12, 0);\r\n      // falls through\r\n      case DatePrecision.Month:\r\n        date.setMonth(date.getMonth() + 1, 0);\r\n      // falls through\r\n      case DatePrecision.Date:\r\n        date.setHours(23, 59, 59, 999);\r\n        break;\r\n      case DatePrecision.Hour:\r\n        date.setMinutes(59, 59, 999);\r\n        break;\r\n      case DatePrecision.Minute:\r\n        date.setSeconds(59, 999);\r\n        break;\r\n    }\r\n\r\n    return date;\r\n  },\r\n\r\n  equal(precision: DatePrecision, a: Date, b: Date): boolean {\r\n    let equal = true;\r\n    switch (precision) {\r\n      case DatePrecision.Minute:\r\n        equal = equal && a.getMinutes() === b.getMinutes();\r\n      // falls through\r\n      case DatePrecision.Hour:\r\n        equal = equal && a.getHours() === b.getHours();\r\n      // falls through\r\n      case DatePrecision.Date:\r\n        equal = equal && a.getDate() === b.getDate();\r\n      // falls through\r\n      case DatePrecision.Month:\r\n        equal = equal && a.getMonth() === b.getMonth();\r\n      // falls through\r\n      case DatePrecision.Year:\r\n        equal = equal && a.getFullYear() === b.getFullYear();\r\n    }\r\n    return equal;\r\n  },\r\n\r\n  next(precision: DatePrecision, date: Date): Date {\r\n    return DateUtil.add(precision, date, 1);\r\n  },\r\n\r\n  add(precision: DatePrecision, date: Date, i: number): Date {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n\r\n    switch (precision) {\r\n      case DatePrecision.Decade:\r\n        date.setFullYear(year + i * 10);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Year:\r\n        date.setFullYear(year + i);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Month:\r\n        date.setMonth(month + i);\r\n        if (date.getMonth() !== Util.Math.mod(month + i, 12)) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Date:\r\n        date.setDate(day + i);\r\n        break;\r\n      case DatePrecision.Hour:\r\n        date.setHours(date.getHours() + i);\r\n        break;\r\n      case DatePrecision.Minute:\r\n        date.setMinutes(date.getMinutes() + i);\r\n        break;\r\n    }\r\n    return date;\r\n  },\r\n\r\n  previous(precision: DatePrecision, date: Date): Date {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n\r\n    switch (precision) {\r\n      case DatePrecision.Decade:\r\n        date.setFullYear(year - 10);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Year:\r\n        date.setFullYear(year - 1);\r\n        if (date.getMonth() !== month) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Month:\r\n        date.setMonth(month - 1);\r\n        if (date.getMonth() !== Util.Math.mod(month - 1, 12)) {\r\n          date.setDate(0);\r\n        }\r\n        break;\r\n      case DatePrecision.Date:\r\n        date.setDate(day - 1);\r\n        break;\r\n      case DatePrecision.Hour:\r\n        const hours = date.getHours();\r\n        date.setHours(hours - 1);\r\n        if (date.getHours() !== Util.Math.mod(hours - 1, 24)) {\r\n          date.setHours(hours - 2);\r\n        }\r\n        break;\r\n      case DatePrecision.Minute:\r\n        const minutes = date.getMinutes();\r\n        date.setMinutes(minutes - 1);\r\n    }\r\n    return date;\r\n  },\r\n\r\n  clone(date: Date): Date {\r\n    return new Date(date.getTime());\r\n  }\r\n};\r\n","import {\r\n  ApplicationRef,\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Injectable,\r\n  Injector,\r\n  Provider,\r\n  ReflectiveInjector,\r\n  TemplateRef,\r\n  Type,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nexport interface IImplicitContext<T> {\r\n  $implicit?: T;\r\n}\r\n\r\n@Injectable()\r\nexport class FuiComponentFactory {\r\n  constructor(private _applicationRef: ApplicationRef,\r\n              private _componentFactoryResolver: ComponentFactoryResolver,\r\n              private _injector: Injector) {\r\n  }\r\n\r\n  public createComponent<T>(type: Type<T>, providers: Provider[] = []): ComponentRef<T> {\r\n    // Resolve a factory for creating components of type `type`.\r\n    const factory = this._componentFactoryResolver.resolveComponentFactory(type as Type<T>);\r\n\r\n    // Resolve and create an injector with the specified providers.\r\n    const injector = ReflectiveInjector.resolveAndCreate(\r\n      providers,\r\n      this._injector\r\n    );\r\n\r\n    // Create a component using the previously resolved factory & injector.\r\n    const componentRef = factory.create(injector);\r\n\r\n    return componentRef;\r\n  }\r\n\r\n  public createView<T, U extends IImplicitContext<T>>(viewContainer: ViewContainerRef, template: TemplateRef<U>, context: U): void {\r\n    viewContainer.createEmbeddedView<U>(template, context);\r\n  }\r\n\r\n  // Inserts the component into the specified view container.\r\n  public attachToView<T>(componentRef: ComponentRef<T>, viewContainer: ViewContainerRef): void {\r\n    viewContainer.insert(componentRef.hostView, 0);\r\n  }\r\n\r\n  // Inserts the component in the root application node.\r\n  public attachToApplication<T>(componentRef: ComponentRef<T>): void {\r\n    this._applicationRef.attachView(componentRef.hostView);\r\n  }\r\n\r\n  // Detaches the component from the root application node.\r\n  public detachFromApplication<T>(componentRef: ComponentRef<T>): void {\r\n    this._applicationRef.detachView(componentRef.hostView);\r\n  }\r\n\r\n  // Moves the component to the specified DOM element.\r\n  public moveToElement<T>(componentRef: ComponentRef<T>, element: Element): void {\r\n    element.appendChild(componentRef.location.nativeElement);\r\n  }\r\n\r\n  // Moves the component to the document body.\r\n  public moveToDocumentBody<T>(componentRef: ComponentRef<T>): void {\r\n    this.moveToElement(componentRef, document.querySelector('body')!);\r\n  }\r\n\r\n  public detachFromDocument<T>(componentRef: ComponentRef<T>): void {\r\n    const element = componentRef.location.nativeElement as Element;\r\n    // We can't use `element.remove()` due to lack of IE11 support.\r\n    if (element.parentNode) {\r\n      element.parentNode.removeChild(element);\r\n    }\r\n  }\r\n}\r\n","import {ElementRef} from '@angular/core';\r\nimport Popper, {Data, Modifiers, Placement, PopperOptions} from 'popper.js';\r\n\r\ntype PopperModifiers = Modifiers & {\r\n  computeStyle?: {\r\n    gpuAcceleration: boolean;\r\n  };\r\n};\r\ntype PopperInstance = Popper & {\r\n  options: PopperOptions & {\r\n    modifiers: PopperModifiers;\r\n  };\r\n};\r\n\r\nexport type PositioningPlacement = 'auto' |\r\n  'top left' | 'top' | 'top right' |\r\n  'bottom left' | 'bottom' | 'bottom right' |\r\n  'left top' | 'left' | 'left bottom' |\r\n  'right top' | 'right' | 'right bottom';\r\n\r\nexport const PositioningPlacement = {\r\n  Auto: 'auto' as PositioningPlacement,\r\n  TopLeft: 'top left' as PositioningPlacement,\r\n  Top: 'top' as PositioningPlacement,\r\n  TopRight: 'top right' as PositioningPlacement,\r\n  LeftTop: 'left top' as PositioningPlacement,\r\n  Left: 'left' as PositioningPlacement,\r\n  LeftBottom: 'left bottom' as PositioningPlacement,\r\n  BottomLeft: 'bottom left' as PositioningPlacement,\r\n  Bottom: 'bottom' as PositioningPlacement,\r\n  BottomRight: 'bottom right' as PositioningPlacement,\r\n  RightTop: 'right top' as PositioningPlacement,\r\n  Right: 'right' as PositioningPlacement,\r\n  RightBottom: 'right bottom' as PositioningPlacement\r\n};\r\n\r\nexport interface IPositionBoundingBox {\r\n  width: number;\r\n  height: number;\r\n  top: number;\r\n  left: number;\r\n  bottom: number;\r\n  right: number;\r\n}\r\n\r\nfunction placementToPopper(placement: PositioningPlacement): Placement {\r\n  if (!placement || placement === PositioningPlacement.Auto) {\r\n    return 'auto';\r\n  }\r\n\r\n  // All placements of the format: `direction alignment`, e.g. `top left`.\r\n  const [direction, alignment] = placement.split(' ');\r\n\r\n  // Direction alone covers case of just `top`, `left`, `bottom`, `right`.\r\n  const chosenPlacement = [direction];\r\n\r\n  // Add `start` / `end` to placement, depending on alignment direction.\r\n  switch (alignment) {\r\n    case 'top':\r\n    case 'left':\r\n      chosenPlacement.push('start');\r\n      break;\r\n    case 'bottom':\r\n    case 'right':\r\n      chosenPlacement.push('end');\r\n      break;\r\n  }\r\n\r\n  // Join with hyphen to create Popper compatible placement.\r\n  return chosenPlacement.join('-') as Placement;\r\n}\r\n\r\nfunction popperToPlacement(popper: string): PositioningPlacement {\r\n  if (!popper || popper === 'auto') {\r\n    return 'auto';\r\n  }\r\n\r\n  const [direction, alignment] = popper.split('-');\r\n\r\n  const chosenPlacement = [direction];\r\n\r\n  switch (direction) {\r\n    case 'top':\r\n    case 'bottom':\r\n      switch (alignment) {\r\n        case 'start':\r\n          chosenPlacement.push('left');\r\n          break;\r\n        case 'end':\r\n          chosenPlacement.push('right');\r\n          break;\r\n      }\r\n      break;\r\n    case 'left':\r\n    case 'right':\r\n      switch (alignment) {\r\n        case 'start':\r\n          chosenPlacement.push('top');\r\n          break;\r\n        case 'end':\r\n          chosenPlacement.push('bottom');\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n\r\n  return chosenPlacement.join(' ') as PositioningPlacement;\r\n}\r\n\r\nexport class PositioningService {\r\n\r\n  public readonly anchor: ElementRef;\r\n  public readonly subject: ElementRef;\r\n  private _popper: PopperInstance;\r\n  private _popperState: Data;\r\n  private _arrowSelector: string | undefined;\r\n\r\n  constructor(anchor: ElementRef, subject: ElementRef, placement: PositioningPlacement, arrowSelector?: string) {\r\n    this.anchor = anchor;\r\n    this.subject = subject;\r\n    this._placement = placement;\r\n    this._arrowSelector = arrowSelector;\r\n    this.init();\r\n  }\r\n\r\n  public get actualPlacement(): PositioningPlacement {\r\n    if (!this._popperState) {\r\n      return PositioningPlacement.Auto;\r\n    }\r\n\r\n    return popperToPlacement(this._popperState.placement);\r\n  }\r\n\r\n  public get state(): Data {\r\n    return this._popperState;\r\n  }\r\n\r\n  private _placement: PositioningPlacement;\r\n\r\n  public get placement(): PositioningPlacement {\r\n    return this._placement;\r\n  }\r\n\r\n  public set placement(placement: PositioningPlacement) {\r\n    this._placement = placement;\r\n    if (this._popper) {\r\n      this._popper.options.placement = placementToPopper(placement);\r\n    }\r\n  }\r\n\r\n  private _hasArrow: boolean;\r\n\r\n  public set hasArrow(hasArrow: boolean) {\r\n    this._hasArrow = hasArrow;\r\n  }\r\n\r\n  public init(): void {\r\n    const modifiers: PopperModifiers = {\r\n      computeStyle: {\r\n        gpuAcceleration: false\r\n      },\r\n      preventOverflow: {\r\n        escapeWithReference: true,\r\n        boundariesElement: document.body\r\n      },\r\n      arrow: {\r\n        element: this._arrowSelector\r\n      },\r\n      offset: {\r\n        fn: (data: Popper.Data) => {\r\n          if (this._hasArrow) {\r\n            const offsets = this.calculateOffsets();\r\n            data.offsets.popper.left += offsets.left;\r\n            data.offsets.popper.top += offsets.top;\r\n          }\r\n          return data;\r\n        }\r\n      }\r\n    };\r\n\r\n    if (!this._arrowSelector) {\r\n      delete modifiers.arrow;\r\n    }\r\n\r\n    this._popper = new Popper(\r\n      this.anchor.nativeElement,\r\n      this.subject.nativeElement,\r\n      {\r\n        placement: placementToPopper(this._placement),\r\n        modifiers,\r\n        onCreate: initial => this._popperState = initial,\r\n        onUpdate: update => this._popperState = update\r\n      }) as PopperInstance;\r\n  }\r\n\r\n  public update(): void {\r\n    this._popper.update();\r\n  }\r\n\r\n  public destroy(): void {\r\n    this._popper.destroy();\r\n  }\r\n\r\n  private calculateOffsets(): Popper.Offset {\r\n    let left = 0;\r\n    let top = 0;\r\n\r\n    // To support correct positioning for all popup sizes we should calculate offset using em\r\n    const fontSize = parseFloat(window.getComputedStyle(this.subject.nativeElement).getPropertyValue('font-size'));\r\n    // The Fomantic UI popup arrow width and height are 0.71428571em and the margin from the popup edge is 1em\r\n    const arrowCenter = (0.71428571 / 2 + 1) * fontSize;\r\n\r\n    if (this.anchor.nativeElement.offsetWidth <= arrowCenter * 2) {\r\n      const anchorCenterWidth = this.anchor.nativeElement.offsetWidth / 2;\r\n      if (this._placement === PositioningPlacement.TopLeft || this._placement === PositioningPlacement.BottomLeft) {\r\n        left = anchorCenterWidth - arrowCenter;\r\n      }\r\n      if (this._placement === PositioningPlacement.TopRight || this._placement === PositioningPlacement.BottomRight) {\r\n        left = arrowCenter - anchorCenterWidth;\r\n      }\r\n    }\r\n\r\n    if (this.anchor.nativeElement.offsetHeight <= arrowCenter * 2) {\r\n      const anchorCenterHeight = this.anchor.nativeElement.offsetHeight / 2;\r\n      if (this._placement === PositioningPlacement.LeftTop || this._placement === PositioningPlacement.RightTop) {\r\n        top = anchorCenterHeight - arrowCenter;\r\n      }\r\n      if (this._placement === PositioningPlacement.LeftBottom || this._placement === PositioningPlacement.RightBottom) {\r\n        top = arrowCenter - anchorCenterHeight;\r\n      }\r\n    }\r\n    return {top, left, width: 0, height: 0};\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiComponentFactory} from './services/component-factory.service';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  providers: [\r\n    FuiComponentFactory\r\n  ]\r\n})\r\nexport class FuiUtilityModule {\r\n}\r\n","import {Component, ElementRef, Input, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {MessageConfig} from '../classes/message-config';\r\nimport {ActiveMessage, FuiActiveMessage} from '../classes/active-message';\r\nimport {FuiMessage} from './message';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {MessageController} from '../classes/message-controller';\r\n\r\n@Component({\r\n  selector: 'fui-message-container',\r\n  template: `\r\n<div #containerSibling></div>\r\n`,\r\n  styles: [`\r\n:host {\r\n    display: block;\r\n}\r\n:host >>> fui-message {\r\n    display: block;\r\n    margin-bottom: 1rem;\r\n}\r\n:host >>> fui-message:last-of-type {\r\n    margin-bottom: 0;\r\n}\r\n:host >>> fui-message {\r\n    cursor: pointer;\r\n}\r\n`]\r\n})\r\nexport class FuiMessageContainer {\r\n  @ViewChild('containerSibling', {read: ViewContainerRef, static: false})\r\n  public containerSibling: ViewContainerRef;\r\n  private _messages: ActiveMessage[];\r\n  private _queue: ActiveMessage[];\r\n\r\n  constructor(private _componentFactory: FuiComponentFactory, private _element: ElementRef) {\r\n    this._messages = [];\r\n    this._queue = [];\r\n  }\r\n\r\n  @Input()\r\n  public set controller(controller: MessageController) {\r\n    controller.registerContainer(this);\r\n  }\r\n\r\n  public show(config: MessageConfig, maxShown: number, showNewestFirst: boolean): FuiActiveMessage {\r\n    const componentRef = this._componentFactory.createComponent(FuiMessage);\r\n    componentRef.instance.loadConfig(config);\r\n\r\n    const active = new ActiveMessage(config, componentRef)\r\n      .onDismiss(() => this.onMessageClose(active, showNewestFirst));\r\n\r\n    if (this._messages.length < maxShown) {\r\n      this.open(active, showNewestFirst);\r\n    } else {\r\n      this.queue(active);\r\n    }\r\n\r\n    return active;\r\n  }\r\n\r\n  public dismissAll(): void {\r\n    this._queue = [];\r\n    this._messages.forEach(m => m.dismiss());\r\n  }\r\n\r\n  private open(message: ActiveMessage, showNewestFirst: boolean): void {\r\n    this._messages.push(message);\r\n\r\n    this._componentFactory.attachToView(message.componentRef, this.containerSibling);\r\n    if (!showNewestFirst) {\r\n      this._componentFactory.moveToElement(message.componentRef, this._element.nativeElement);\r\n    }\r\n\r\n    message.component.show();\r\n  }\r\n\r\n  private queue(message: ActiveMessage): void {\r\n    this._queue.push(message);\r\n  }\r\n\r\n  private onMessageClose(message: ActiveMessage, showNewestFirst: boolean): void {\r\n    this._messages = this._messages.filter(m => m !== message);\r\n\r\n    if (this._queue.length > 0) {\r\n      const [queued] = this._queue.slice(0, 1);\r\n\r\n      this.open(queued, showNewestFirst);\r\n    }\r\n  }\r\n}\r\n","import {Component, HostListener} from '@angular/core';\r\nimport {MessageController} from '../classes/message-controller';\r\nimport {IDynamicClasses, Util} from '../../../misc/util/internal';\r\n\r\nexport type MessagePosition = 'top' | 'top-left' | 'top-right' |\r\n  'bottom' | 'bottom-left' | 'bottom-right';\r\n\r\nexport const MessagePosition = {\r\n  Top: 'top' as MessagePosition,\r\n  TopLeft: 'top-left' as MessagePosition,\r\n  TopRight: 'top-right' as MessagePosition,\r\n  Bottom: 'bottom' as MessagePosition,\r\n  BottomLeft: 'bottom-left' as MessagePosition,\r\n  BottomRight: 'bottom-right' as MessagePosition\r\n};\r\n\r\n@Component({\r\n  selector: 'fui-message-global-container',\r\n  template: `\r\n<div class=\"global container\" [ngClass]=\"dynamicClasses\" [style.width.px]=\"dynamicWidth\">\r\n    <fui-message-container [controller]=\"controller\"></fui-message-container>\r\n</div>\r\n`,\r\n  styles: [`\r\n.global.container {\r\n    display: block;\r\n    position: fixed;\r\n}\r\n.global.container.top {\r\n    top: 1rem;\r\n}\r\n.global.container.bottom {\r\n    bottom: 1rem;\r\n}\r\n.global.container.left {\r\n    left: 1rem;\r\n}\r\n.global.container.right {\r\n    right: 1rem;\r\n}\r\n.global.container:not(.left):not(.right) {\r\n    left: 1rem;\r\n}\r\n`]\r\n})\r\nexport class FuiMessageGlobalContainer {\r\n  public controller: MessageController;\r\n\r\n  public position: MessagePosition;\r\n  public width: number;\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n\r\n    this.position\r\n      .split('-')\r\n      .forEach(p => classes[p] = true);\r\n\r\n    return classes;\r\n  }\r\n\r\n  public get dynamicWidth(): number {\r\n    const margin = Util.DOM.getDocumentFontSize();\r\n    let width = this.width;\r\n\r\n    if (this.position === MessagePosition.Top ||\r\n      this.position === MessagePosition.Bottom ||\r\n      window.innerWidth < width + margin * 2) {\r\n\r\n      width = window.innerWidth - margin * 2;\r\n    }\r\n\r\n    return width;\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  public onDocumentResize(): void {\r\n  }\r\n}\r\n","import {ComponentRef, Injectable} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {MessagePosition, FuiMessageGlobalContainer} from '../components/message-global-container';\r\nimport {IMessageController, MessageController} from '../classes/message-controller';\r\nimport {MessageConfig} from '../classes/message-config';\r\nimport {FuiActiveMessage} from '../classes/active-message';\r\n\r\n@Injectable()\r\nexport class FuiMessageService implements IMessageController {\r\n  private _controller: MessageController;\r\n  private _containerRef: ComponentRef<FuiMessageGlobalContainer>;\r\n\r\n  constructor(private _componentFactory: FuiComponentFactory) {\r\n    this._controller = new MessageController();\r\n\r\n    this._containerRef = this._componentFactory.createComponent(FuiMessageGlobalContainer);\r\n    this._container.controller = this._controller;\r\n\r\n    this._componentFactory.attachToApplication(this._containerRef);\r\n    this._componentFactory.moveToDocumentBody(this._containerRef);\r\n\r\n    this.position = MessagePosition.TopRight;\r\n    this.width = 480;\r\n  }\r\n\r\n  public get position(): MessagePosition {\r\n    return this._container.position;\r\n  }\r\n\r\n  public set position(position: MessagePosition) {\r\n    this._container.position = position;\r\n  }\r\n\r\n  public get width(): number {\r\n    return this._container.width;\r\n  }\r\n\r\n  public set width(width: number) {\r\n    this._container.width = width;\r\n  }\r\n\r\n  public get maxShown(): number {\r\n    return this._controller.maxShown;\r\n  }\r\n\r\n  public set maxShown(max: number) {\r\n    this._controller.maxShown = max;\r\n  }\r\n\r\n  public get isNewestOnTop(): boolean {\r\n    return this._controller.isNewestOnTop;\r\n  }\r\n\r\n  public set isNewestOnTop(value: boolean) {\r\n    this._controller.isNewestOnTop = value;\r\n  }\r\n\r\n  private get _container(): FuiMessageGlobalContainer {\r\n    return this._containerRef.instance;\r\n  }\r\n\r\n  public show(config: MessageConfig): FuiActiveMessage {\r\n    return this._controller.show(config);\r\n  }\r\n\r\n  public dismissAll(): void {\r\n    return this._controller.dismissAll();\r\n  }\r\n}\r\n","import {Component, HostBinding, Input} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'fui-progress',\r\n  template: `\r\n<div class=\"bar\"\r\n    [style.width.%]=\"percentage\"\r\n    [style.minWidth]=\"canCompletelyEmpty ? 0 : null\"\r\n    [style.transitionTimingFunction]=\"transition\"\r\n    [style.transitionDuration.ms]=\"transitionDuration\">\r\n    <div class=\"progress\" *ngIf=\"showProgress\">{{ percentage }}%</div>\r\n</div>\r\n<div class=\"label\">\r\n    <ng-content></ng-content>\r\n</div>\r\n`,\r\n  styles: [`\r\n.bar {\r\n    transition-duration: 300ms !important;\r\n    z-index: 1;\r\n}\r\n`]\r\n})\r\nexport class FuiProgress {\r\n  @Input()\r\n  public transition: string;\r\n\r\n  @Input()\r\n  public transitionDuration: number;\r\n\r\n  @Input()\r\n  public canCompletelyEmpty: boolean;\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.progress')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public autoSuccess: boolean;\r\n  @Input()\r\n  public showProgress: boolean;\r\n  private _overrideSuccess: boolean;\r\n\r\n  constructor() {\r\n    this.value = 0;\r\n    this.maximum = 100;\r\n    this.precision = 0;\r\n\r\n    this._overrideSuccess = false;\r\n    this.autoSuccess = true;\r\n    this.showProgress = true;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostBinding('class.success')\r\n  public get reachedMaximum(): boolean {\r\n    return this._overrideSuccess || ((this.value >= this.maximum) && this.autoSuccess);\r\n  }\r\n\r\n  @HostBinding('attr.data-percent')\r\n  public get percentage(): string {\r\n    const boundedValue = Math.min(Math.max(this.value, 0), this.maximum);\r\n\r\n    const percentage = (boundedValue / this.maximum) * 100;\r\n\r\n    return percentage.toFixed(this.precision);\r\n  }\r\n\r\n  @Input('class')\r\n  public set classValue(classes: string) {\r\n    if (classes.includes('attached') || classes.includes('tiny')) {\r\n      this.showProgress = false;\r\n    }\r\n    if (classes.includes('success')) {\r\n      this._overrideSuccess = true;\r\n    }\r\n\r\n    this.transition = 'ease';\r\n    this.transitionDuration = 350;\r\n    this.canCompletelyEmpty = false;\r\n  }\r\n\r\n  private _value: number;\r\n\r\n  @Input()\r\n  public get value(): number {\r\n    return this._value;\r\n  }\r\n\r\n  public set value(value: number) {\r\n    // Convert value from string to number where necessary.\r\n    const converted = +value;\r\n\r\n    if (Number.isNaN(converted)) {\r\n      return;\r\n    }\r\n\r\n    this._value = converted;\r\n  }\r\n\r\n  private _maximum: number;\r\n\r\n  @Input()\r\n  public get maximum(): number {\r\n    return this._maximum;\r\n  }\r\n\r\n  public set maximum(value: number) {\r\n    // Convert value from string to number where necessary.\r\n    const converted = +value;\r\n\r\n    if (Number.isNaN(converted)) {\r\n      return;\r\n    }\r\n\r\n    this._maximum = converted;\r\n  }\r\n\r\n  private _precision: number;\r\n\r\n  @Input()\r\n  public get precision(): number {\r\n    return this._precision;\r\n  }\r\n\r\n  public set precision(value: number) {\r\n    // Convert value from string to number where necessary.\r\n    const converted = +value;\r\n\r\n    if (Number.isNaN(converted)) {\r\n      return;\r\n    }\r\n\r\n    this._precision = Math.min(Math.max(converted, 0), 20);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiProgress} from './components/progress';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiProgress\r\n  ],\r\n  exports: [\r\n    FuiProgress\r\n  ]\r\n})\r\nexport class FuiProgressModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../../modules/transition/internal';\r\nimport {FuiProgressModule} from '../../modules/progress/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\n\r\nimport {FuiMessageContainer} from './components/message-container';\r\nimport {FuiMessage} from './components/message';\r\nimport {FuiMessageGlobalContainer} from './components/message-global-container';\r\nimport {FuiMessageService} from './services/message-service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule,\r\n    FuiProgressModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiMessage,\r\n    FuiMessageContainer,\r\n    FuiMessageGlobalContainer\r\n  ],\r\n  exports: [\r\n    FuiMessage,\r\n    FuiMessageContainer\r\n  ],\r\n  providers: [\r\n    FuiMessageService\r\n  ],\r\n  entryComponents: [\r\n    FuiMessage,\r\n    FuiMessageGlobalContainer\r\n  ]\r\n})\r\nexport class FuiMessageModule {\r\n}\r\n","import {Component, EventEmitter, HostBinding, Input, OnChanges, Output} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'fui-pagination',\r\n  template: `\r\n<a *ngIf=\"hasBoundaryLinks\" class=\"item\"  (click)=\"setPage(1)\" [class.disabled]=\"page===1\">\r\n    <span><i class=\"angle double left icon\"></i></span>\r\n</a>\r\n<a *ngIf=\"hasNavigationLinks\" class=\"item\" (click)=\"setPage(page-1)\" [class.disabled]=\"!hasPrevious()\">\r\n    <span><i class=\"angle left icon\"></i></span>\r\n</a>\r\n<ng-container *ngIf=\"hasEllipses\">\r\n    <a class=\"item\" (click)=\"setPage(1)\" *ngIf=\"pages[0] !== 1\">\r\n        <span>1</span>\r\n    </a>\r\n    <a class=\"disabled item\" *ngIf=\"pages[0] > 2\">...</a>\r\n</ng-container>\r\n<a *ngFor=\"let p of pages\" class=\"item\" [class.active]=\"p===page\" (click)=\"setPage(p)\">\r\n    {{ p }}\r\n</a>\r\n<ng-container *ngIf=\"hasEllipses\">\r\n    <a class=\"disabled item\" *ngIf=\"pages[pages.length - 1] < pageCount - 1\">...</a>\r\n    <a class=\"item\" (click)=\"setPage(pageCount)\" *ngIf=\"pages[pages.length - 1] !== pageCount\">\r\n        <span>{{ pageCount }}</span>\r\n    </a>\r\n</ng-container>\r\n<a *ngIf=\"hasNavigationLinks\" class=\"item\" (click)=\"setPage(page+1)\" [class.disabled]=\"!hasNext()\">\r\n    <span><i class=\"angle right icon\"></i></span>\r\n</a>\r\n<a *ngIf=\"hasBoundaryLinks\" class=\"item\"  (click)=\"setPage(pageCount)\" [class.disabled]=\"page===pageCount\">\r\n    <span><i class=\"angle double right icon\"></i></span>\r\n</a>\r\n`,\r\n  styles: [`\r\n:host .item {\r\n    transition: none;\r\n}\r\n`]\r\n})\r\nexport class FuiPagination implements OnChanges {\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.pagination')\r\n  @HostBinding('class.menu')\r\n  public readonly hasClasses: boolean;\r\n  // Public members\r\n  public pageCount: number;\r\n  @Output()\r\n  public pageChange: EventEmitter<number>;\r\n  @Input()\r\n  public pageSize: number;\r\n  @Input()\r\n  public hasBoundaryLinks: boolean;\r\n  @Input()\r\n  public canRotate: boolean;\r\n  @Input()\r\n  public hasEllipses: boolean;\r\n\r\n  constructor() {\r\n    this.hasClasses = true;\r\n    this.pageChange = new EventEmitter<number>();\r\n\r\n    this.pageSize = 10;\r\n    this._page = 1;\r\n    this._pages = [];\r\n    this.pageCount = 1;\r\n    this.hasNavigationLinks = true;\r\n    this.hasBoundaryLinks = false;\r\n    this.canRotate = false;\r\n    this.hasEllipses = true;\r\n  }\r\n\r\n  // Private members\r\n  private _maxSize?: number;\r\n\r\n  @Input()\r\n  public get maxSize(): number | undefined {\r\n    return this._maxSize;\r\n  }\r\n\r\n  public set maxSize(value: number | undefined) {\r\n    this._maxSize = (value != undefined) ? Math.max(value, 1) : undefined;\r\n  }\r\n\r\n  private _collectionSize: number;\r\n\r\n  @Input()\r\n  public get collectionSize(): number {\r\n    return this._collectionSize;\r\n  }\r\n\r\n  public set collectionSize(value: number) {\r\n    this._collectionSize = Math.max(value, 0);\r\n    this.pageCount = Math.max(1, Math.ceil(this._collectionSize / this.pageSize));\r\n  }\r\n\r\n  private _page: number;\r\n\r\n  @Input()\r\n  public get page(): number {\r\n    return this._page;\r\n  }\r\n\r\n  public set page(value: number) {\r\n    this.setPage(value);\r\n  }\r\n\r\n  private _pages: number[];\r\n\r\n  public get pages(): number[] {\r\n    return this._pages;\r\n  }\r\n\r\n  private _hasNavigationLinks: boolean;\r\n\r\n  @Input()\r\n  public get hasNavigationLinks(): boolean {\r\n    const maxSize = this._maxSize || this.pageCount;\r\n    return this._hasNavigationLinks || maxSize < this.pageCount;\r\n  }\r\n\r\n  public set hasNavigationLinks(value: boolean) {\r\n    this._hasNavigationLinks = value;\r\n  }\r\n\r\n  // Public methods\r\n  public hasPrevious(): boolean {\r\n    return this.page > 1;\r\n  }\r\n\r\n  public hasNext(): boolean {\r\n    return this.page < this.pageCount;\r\n  }\r\n\r\n  public setPage(newPage: number): void {\r\n    const value: number = (Number.isInteger(newPage)) ? Math.min(Math.max(newPage, 1), this.pageCount) : 1;\r\n    if (value !== this._page) {\r\n      this._page = value;\r\n      this.pageChange.emit(this._page);\r\n    }\r\n  }\r\n\r\n  // Lifecycle hooks\r\n  public ngOnChanges(): void {\r\n    this.updatePages();\r\n  }\r\n\r\n  // Private methods\r\n  private updatePages(): void {\r\n    this.pageCount = Math.max(1, Math.ceil(this._collectionSize / this.pageSize));\r\n\r\n    const [start, end] = this.applyPagination();\r\n\r\n    this._pages = Array<number>(end - start)\r\n      .fill(start + 1)\r\n      .map((s, i) => s + i);\r\n  }\r\n\r\n  private applyPagination(): [number, number] {\r\n    const maxSize = (this.maxSize != undefined) ? Math.min(this.maxSize, this.pageCount) : this.pageCount;\r\n\r\n    const page = Math.ceil(this.page / maxSize) - 1;\r\n    let start = 0;\r\n    let end = this.pageCount;\r\n\r\n    if (this.canRotate) {\r\n      const leftOffset = Math.floor(maxSize / 2);\r\n      const rightOffset = maxSize % 2 === 0 ? leftOffset - 1 : leftOffset;\r\n\r\n      if (this.page <= leftOffset) {\r\n        end = maxSize;\r\n      } else if (this.pageCount - this.page < leftOffset) {\r\n        start = this.pageCount - maxSize;\r\n      } else {\r\n        start = this.page - leftOffset - 1;\r\n        end = this.page + rightOffset;\r\n      }\r\n    } else {\r\n      start = page * maxSize;\r\n      end = start + maxSize;\r\n    }\r\n\r\n    return [start, Math.min(end, this.pageCount)];\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\nimport {FuiPagination} from './components/pagination';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [FuiPagination],\r\n  declarations: [FuiPagination],\r\n  providers: []\r\n})\r\nexport class FuiPaginationModule {\r\n}\r\n","import {ChangeDetectorRef, Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {FuiAccordionService} from '../services/accordion.service';\r\nimport {Transition, TransitionController} from '../../transition/internal';\r\n\r\n@Component({\r\n  selector: 'fui-accordion-panel',\r\n  exportAs: 'fuiAccordionPanel',\r\n  template: `\r\n<!-- Title -->\r\n<div class=\"title\" [class.active]=\"isOpen\" (click)=\"toggle()\" >\r\n    <ng-content select=\"[title]\"></ng-content>\r\n</div>\r\n<!-- Content -->\r\n<div [fuiCollapse]=\"!isOpen\" [collapseDuration]=\"transitionDuration\">\r\n    <div class=\"content\" [class.active]=\"isOpen\" [fuiTransition]=\"transitionController\">\r\n        <ng-content select=\"[content]\"></ng-content>\r\n    </div>\r\n</div>\r\n`,\r\n  styles: [`\r\n/* Manual style as Fomantic UI relies on > selector */\r\n.content {\r\n    padding: .5em 0 1em;\r\n}\r\n\r\n/* Another > selector fix */\r\n:host:first-child .title {\r\n    border-top: none;\r\n}\r\n`]\r\n})\r\nexport class FuiAccordionPanel {\r\n\r\n  public transitionController: TransitionController;\r\n  @Input()\r\n  public isDisabled: boolean;\r\n  @Output()\r\n  public isOpenChange: EventEmitter<boolean>;\r\n\r\n  constructor(private _changeDetector: ChangeDetectorRef) {\r\n    this.transitionController = new TransitionController(false);\r\n\r\n    this._isOpen = false;\r\n    this.isOpenChange = new EventEmitter<boolean>(false);\r\n  }\r\n\r\n  public get transition(): string {\r\n    if (this._service) {\r\n      return this._service.transition;\r\n    }\r\n\r\n    return 'fade';\r\n  }\r\n\r\n  public get transitionDuration(): number {\r\n    if (this._service) {\r\n      // Return the service defined transition duration.\r\n      return this._service.transitionDuration;\r\n    }\r\n    // Revert to instantaneous if the service is not yet loaded.\r\n    return 0;\r\n  }\r\n\r\n  private _service: FuiAccordionService;\r\n\r\n  public set service(service: FuiAccordionService) {\r\n    this._service = service;\r\n    this._changeDetector.detectChanges();\r\n  }\r\n\r\n  private _isOpen: boolean;\r\n\r\n  @Input()\r\n  public get isOpen(): boolean {\r\n    return this._isOpen;\r\n  }\r\n\r\n  public set isOpen(value: boolean) {\r\n    // Convert to boolean (fixes false != undefined)\r\n    const isOpen = !!value;\r\n\r\n    if (isOpen !== this.isOpen) {\r\n      // Only update if the value has changed.\r\n      this._isOpen = isOpen;\r\n\r\n      if (isOpen && this._service) {\r\n        // If we are opening this panel, we must close the other ones.\r\n        this._service.closeOtherPanels(this);\r\n      }\r\n      this.isOpenChange.emit(this.isOpen);\r\n\r\n      // Cancel all current animations, and fade the contents. The direction is automatic.\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(new Transition(this.transition, this.transitionDuration));\r\n    }\r\n  }\r\n\r\n  public toggle(): void {\r\n    if (!this.isDisabled) {\r\n      this.isOpen = !this.isOpen;\r\n    }\r\n  }\r\n}\r\n","import {FuiAccordionPanel} from '../components/accordion-panel';\r\n\r\nexport class FuiAccordionService {\r\n  public closeOthers: boolean;\r\n\r\n  public transition: string;\r\n  public transitionDuration: number;\r\n\r\n  public panels: FuiAccordionPanel[];\r\n\r\n  constructor() {\r\n    this.closeOthers = true;\r\n\r\n    this.transition = 'fade';\r\n    this.transitionDuration = 350;\r\n\r\n    this.panels = [];\r\n  }\r\n\r\n  public addPanel(panel: FuiAccordionPanel): void {\r\n    panel.service = this;\r\n    this.panels.push(panel);\r\n  }\r\n\r\n  public closeOtherPanels(panel: FuiAccordionPanel): void {\r\n    if (!this.closeOthers) {\r\n      return;\r\n    }\r\n\r\n    this.panels.forEach(p => {\r\n      if (p !== panel) {\r\n        p.isOpen = false;\r\n      }\r\n    });\r\n  }\r\n}\r\n","import {AfterContentInit, Component, ContentChildren, HostBinding, Input, QueryList} from '@angular/core';\r\nimport {FuiAccordionPanel} from './accordion-panel';\r\nimport {FuiAccordionService} from '../services/accordion.service';\r\n\r\n@Component({\r\n  selector: 'fui-accordion',\r\n  template: `\r\n<ng-content></ng-content>\r\n`,\r\n  styles: [`\r\n/* Fix for general styling issues */\r\n:host {\r\n    display: block;\r\n}\r\n\r\n/* Fix for styled border issue */\r\n:host.styled fui-accordion-panel:first-child .title {\r\n    border-top: none\r\n}\r\n`]\r\n})\r\nexport class FuiAccordion implements AfterContentInit {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.accordion')\r\n  public readonly hasClasses: boolean;\r\n  protected _service: FuiAccordionService;\r\n  @ContentChildren(FuiAccordionPanel)\r\n  protected _panels: QueryList<FuiAccordionPanel>;\r\n\r\n  constructor() {\r\n    // Accordion service is unique to each set of panels.\r\n    this._service = new FuiAccordionService();\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @Input()\r\n  public get closeOthers(): boolean {\r\n    return this._service.closeOthers;\r\n  }\r\n\r\n  public set closeOthers(value: boolean) {\r\n    this._service.closeOthers = value;\r\n  }\r\n\r\n  @Input()\r\n  public set transition(transition: string) {\r\n    this._service.transition = transition;\r\n  }\r\n\r\n  @Input()\r\n  public set transitionDuration(duration: number) {\r\n    this._service.transitionDuration = duration;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this.updatePanels();\r\n\r\n    // Reconnect panels after they have updated.\r\n    this._panels.changes.subscribe(() => this.updatePanels());\r\n  }\r\n\r\n  public updatePanels(): void {\r\n    this._panels.forEach(p => this._service.addPanel(p));\r\n  }\r\n}\r\n","import {Directive, ElementRef, HostBinding, Input, Renderer2} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[fuiCollapse]'\r\n})\r\nexport class FuiCollapse {\r\n\r\n  @Input()\r\n  public collapseDuration: number;\r\n  // Flag that is initially true, to make the 1st animation instantaneous.\r\n  private _pristine: boolean;\r\n\r\n  public constructor(private _element: ElementRef, private _renderer: Renderer2) {\r\n    this._pristine = true;\r\n\r\n    // Collapse animation duration is 350ms by default.\r\n    this.collapseDuration = 350;\r\n\r\n    this._isExpanded = false;\r\n    this._isCollapsing = false;\r\n  }\r\n\r\n  // Set when the collapse is closed, and not animating.\r\n  @HostBinding('class.collapsed')\r\n  public get isCollapsed(): boolean {\r\n    return !this.isExpanded && !this.isCollapsing;\r\n  }\r\n\r\n  @Input()\r\n  public get fuiCollapse(): boolean {\r\n    return this._isExpanded;\r\n  }\r\n\r\n  // Sets the state of the collapse, `true` is collapsed.\r\n  public set fuiCollapse(value: boolean) {\r\n    if (value) {\r\n      this.hide();\r\n    } else {\r\n      this.show();\r\n    }\r\n  }\r\n\r\n  private _isExpanded: boolean;\r\n\r\n  // Set when the collapse is open, and not animating.\r\n  @HostBinding('class.expanded')\r\n  public get isExpanded(): boolean {\r\n    return this._isExpanded;\r\n  }\r\n\r\n  private _isCollapsing: boolean;\r\n\r\n  // Set when the collapse is animating.\r\n  @HostBinding('class.collapsing')\r\n  public get isCollapsing(): boolean {\r\n    return this._isCollapsing;\r\n  }\r\n\r\n  private get _animationDuration(): number {\r\n    return this._pristine ? 0 : this.collapseDuration;\r\n  }\r\n\r\n  public hide(): void {\r\n    this._isCollapsing = true;\r\n    this._isExpanded = false;\r\n\r\n    // Forcibly hide the overflow so that content is not visible past the boundaries of its container.\r\n    this._renderer.setStyle(this._element.nativeElement, 'overflow', 'hidden');\r\n\r\n    // Animate the host element from its scroll height to 0.\r\n    this.animate(this._element.nativeElement.scrollHeight, 0, false, () => {\r\n      this._isCollapsing = false;\r\n    });\r\n  }\r\n\r\n  public show(): void {\r\n    this._isCollapsing = true;\r\n\r\n    // Animate the host element from its offset height to its scroll height.\r\n    this.animate(this._element.nativeElement.offsetHeight, this._element.nativeElement.scrollHeight, true, () => {\r\n      // Remove the overflow override to enable user styling once again.\r\n      this._renderer.removeStyle(this._element.nativeElement, 'overflow');\r\n\r\n      this._isCollapsing = false;\r\n      this._isExpanded = true;\r\n    });\r\n  }\r\n\r\n  private animate(startHeight: number, endHeight: number, removeOnComplete: boolean = false, callback: () => void = () => {\r\n  }): void {\r\n    const heightFrames = [\r\n      {\r\n        offset: 0,\r\n        height: `${startHeight}px`\r\n      },\r\n      {\r\n        offset: 1,\r\n        height: `${endHeight}px`\r\n      }\r\n    ];\r\n\r\n    if (removeOnComplete) {\r\n      heightFrames.push({\r\n        offset: 1,\r\n        height: `auto`\r\n      });\r\n    }\r\n\r\n    // Animate the collapse using the web animations API.\r\n    // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n    this._element.nativeElement.animate(\r\n      heightFrames,\r\n      {\r\n        delay: 0,\r\n        // Disable animation on 1st collapse / expansion.\r\n        duration: this._animationDuration,\r\n        iterations: 1,\r\n        easing: 'ease',\r\n        fill: 'both'\r\n      }\r\n    );\r\n\r\n    if (this._pristine) {\r\n      // Remove pristine flag when first hit.\r\n      this._pristine = false;\r\n    }\r\n\r\n    setTimeout(() => callback(), this.collapseDuration);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiCollapse} from './directives/collapse';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiCollapse\r\n  ],\r\n  exports: [\r\n    FuiCollapse\r\n  ]\r\n})\r\nexport class FuiCollapseModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiCollapseModule} from '../collapse/internal';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiAccordion} from './components/accordion';\r\nimport {FuiAccordionPanel} from './components/accordion-panel';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiCollapseModule,\r\n    FuiTransitionModule\r\n  ],\r\n  declarations: [\r\n    FuiAccordion,\r\n    FuiAccordionPanel\r\n  ],\r\n  exports: [\r\n    FuiAccordion,\r\n    FuiAccordionPanel\r\n  ],\r\n  providers: []\r\n})\r\nexport class FuiAccordionModule {\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input, Output, ViewChild} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-checkbox',\r\n  exportAs: 'fuiCheckbox',\r\n  template: `\r\n<input class=\"hidden\"\r\n       type=\"checkbox\"\r\n       [attr.name]=\"name\"\r\n       [attr.checked]=\"checkedAttribute\"\r\n       [attr.disabled]=\"isDisabledAttribute\"\r\n       [(ngModel)]=\"isChecked\"\r\n       #checkbox>\r\n<label>\r\n    <ng-content></ng-content>\r\n</label>\r\n`\r\n})\r\nexport class FuiCheckbox implements ICustomValueAccessorHost<boolean> {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.checkbox')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input()\r\n  public name: string;\r\n\r\n  @HostBinding('class.checked')\r\n  public isChecked: boolean;\r\n\r\n  @Output('checkChange')\r\n  public onCheckChange: EventEmitter<boolean>;\r\n\r\n  @Output('touched')\r\n  public onTouched: EventEmitter<void>;\r\n\r\n  @Input()\r\n  public isDisabled: boolean;\r\n\r\n  @HostBinding('class.read-only')\r\n  @Input()\r\n  public isReadonly: boolean;\r\n  @ViewChild('checkbox', {static: false})\r\n  private _checkboxElement: ElementRef;\r\n\r\n  constructor() {\r\n    this.isChecked = false;\r\n    this.onCheckChange = new EventEmitter<boolean>();\r\n    this.onTouched = new EventEmitter<void>();\r\n\r\n    this.isDisabled = false;\r\n    this.isReadonly = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get checkedAttribute(): string | undefined {\r\n    return this.isChecked ? '' : undefined;\r\n  }\r\n\r\n  public get isDisabledAttribute(): string | undefined {\r\n    return this.isDisabled ? 'disabled' : undefined;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  public onMouseDown(e: MouseEvent): void {\r\n    e.preventDefault();\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (!this.isDisabled && !this.isReadonly) {\r\n      this.toggle();\r\n      this.focusCheckbox();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout')\r\n  public onFocusOut(): void {\r\n    this.onTouched.emit();\r\n  }\r\n\r\n  public toggle(): void {\r\n    this.isChecked = !this.isChecked;\r\n    this.onCheckChange.emit(this.isChecked);\r\n  }\r\n\r\n  public writeValue(value: boolean): void {\r\n    this.isChecked = value;\r\n  }\r\n\r\n  private focusCheckbox(): void {\r\n    this._checkboxElement.nativeElement.focus();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'fui-checkbox',\r\n  host: {\r\n    '(checkChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiCheckboxValueAccessor)]\r\n})\r\nexport class FuiCheckboxValueAccessor extends CustomValueAccessor<boolean, FuiCheckbox> {\r\n  constructor(host: FuiCheckbox) {\r\n    super(host);\r\n  }\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input, Output, ViewChild} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-radio-button',\r\n  template: `\r\n<input class=\"hidden\"\r\n       type=\"checkbox\"\r\n       [attr.name]=\"name\"\r\n       [attr.checked]=\"checkedAttribute\"\r\n       [attr.disabled]=\"isDisabledAttribute\"\r\n       [ngModel]=\"isChecked\"\r\n       (ngModel)=\"currentValue = value\"\r\n       #radio>\r\n<label>\r\n    <ng-content></ng-content>\r\n</label>\r\n`\r\n})\r\nexport class FuiRadio<T> implements ICustomValueAccessorHost<T> {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.radio')\r\n  @HostBinding('class.checkbox')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input()\r\n  public name: string;\r\n\r\n  @Input()\r\n  public value: T;\r\n\r\n  @HostBinding('class.checked')\r\n  public isChecked: boolean;\r\n\r\n  public currentValue: T;\r\n\r\n  @Output('currentValueChange')\r\n  public onCurrentValueChange: EventEmitter<T>;\r\n\r\n  @Output('touched')\r\n  public onTouched: EventEmitter<void>;\r\n\r\n  @Input()\r\n  public isDisabled: boolean;\r\n\r\n  @HostBinding('class.read-only')\r\n  @Input()\r\n  public isReadonly: boolean;\r\n\r\n  @ViewChild('radio', {static: false})\r\n  private _radioElement: ElementRef;\r\n\r\n  constructor() {\r\n    this.isChecked = false;\r\n    this.onCurrentValueChange = new EventEmitter<T>();\r\n    this.onTouched = new EventEmitter<void>();\r\n\r\n    this.isDisabled = false;\r\n    this.isReadonly = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get checkedAttribute(): string | undefined {\r\n    return this.isChecked ? '' : undefined;\r\n  }\r\n\r\n  public get isDisabledAttribute(): string | undefined {\r\n    return this.isDisabled ? 'disabled' : undefined;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  public onMouseDown(e: MouseEvent): void {\r\n    e.preventDefault();\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (!this.isDisabled && !this.isReadonly) {\r\n      this.currentValue = this.value;\r\n      this.onCurrentValueChange.emit(this.currentValue);\r\n      this.update();\r\n      this.focusRadio();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout')\r\n  public onFocusOut(): void {\r\n    this.onTouched.emit();\r\n  }\r\n\r\n  public update(): void {\r\n    this.isChecked = this.currentValue === this.value;\r\n  }\r\n\r\n  public writeValue(value: T): void {\r\n    this.currentValue = value;\r\n    this.update();\r\n  }\r\n\r\n  private focusRadio(): void {\r\n    this._radioElement.nativeElement.focus();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'fui-radio-button',\r\n  host: {\r\n    '(currentValueChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiRadioValueAccessor)]\r\n})\r\nexport class FuiRadioValueAccessor<T> extends CustomValueAccessor<T, FuiRadio<T>> {\r\n  constructor(host: FuiRadio<T>) {\r\n    super(host);\r\n  }\r\n}\r\n","import {AfterContentInit, ContentChildren, Directive, ElementRef, QueryList} from '@angular/core';\r\nimport {FuiRadio} from '../components/radio';\r\nimport {Subscription} from 'rxjs';\r\nimport {Util} from '../../../misc/util/internal';\r\n\r\n@Directive({\r\n  selector: 'form:not([ngForm]):not([[ngForm]]),ngForm,[ngForm]'\r\n})\r\nexport class FuiRadioManager<T> implements AfterContentInit {\r\n\r\n  public isNested: boolean;\r\n\r\n  @ContentChildren(FuiRadioManager, {descendants: true})\r\n  private _subManagers: QueryList<FuiRadioManager<T>>;\r\n\r\n  @ContentChildren(FuiRadio, {descendants: true})\r\n  private _renderedRadios: QueryList<FuiRadio<T>>;\r\n\r\n  private _radioSubs: Subscription[];\r\n\r\n  constructor(public element: ElementRef) {\r\n    this.isNested = false;\r\n    this._radioSubs = [];\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this.updateNesting();\r\n    this._subManagers.changes.subscribe(() => this.updateNesting());\r\n\r\n    this.updateRadios();\r\n    this._renderedRadios.changes.subscribe(() => this.updateRadios());\r\n  }\r\n\r\n  private updateNesting(): void {\r\n    this._subManagers\r\n      .filter(m => m !== this)\r\n      .forEach(m => m.isNested = true);\r\n  }\r\n\r\n  private updateRadios(): void {\r\n    this._radioSubs.forEach(s => s.unsubscribe());\r\n    this._radioSubs = [];\r\n\r\n    const groups = Util.Array.groupBy(this._renderedRadios.toArray(), 'name');\r\n    Object\r\n      .keys(groups)\r\n      .map(k => groups[k])\r\n      .forEach(g => g\r\n        .forEach(r => this._radioSubs\r\n          .push(r.onCurrentValueChange\r\n            .subscribe((v: T) => {\r\n              if (!this.isNested) {\r\n                g.forEach(radio => radio.writeValue(v));\r\n              }\r\n            }))));\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiCheckbox, FuiCheckboxValueAccessor} from './components/checkbox';\r\nimport {FuiRadio, FuiRadioValueAccessor} from './components/radio';\r\nimport {FuiRadioManager} from './directives/radio-manager';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule\r\n  ],\r\n  declarations: [\r\n    FuiCheckbox,\r\n    FuiCheckboxValueAccessor,\r\n    FuiRadio,\r\n    FuiRadioValueAccessor,\r\n    FuiRadioManager\r\n  ],\r\n  exports: [\r\n    FuiCheckbox,\r\n    FuiCheckboxValueAccessor,\r\n    FuiRadio,\r\n    FuiRadioValueAccessor,\r\n    FuiRadioManager\r\n  ]\r\n})\r\nexport class FuiCheckboxModule {\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\nimport {IDatepickerLocaleValues} from '../../../behaviors/localization/internal';\r\nimport {DateUtil} from '../../../misc/util/internal';\r\nimport {CalendarViewType} from '../views/calendar-view';\r\nimport {CalendarConfig} from '../classes/calendar-config';\r\n\r\nexport enum CalendarMode {\r\n  DateOnly = 0,\r\n  TimeOnly = 1,\r\n  Both = 2\r\n}\r\n\r\nexport class CalendarService {\r\n\r\n  constructor(config: CalendarConfig, public localeValues: IDatepickerLocaleValues) {\r\n    this.config = config;\r\n\r\n    this.currentDate = new Date();\r\n\r\n    this.firstDayOfWeek = this.localeValues.firstDayOfWeek;\r\n\r\n    this.onDateChange = new EventEmitter<Date>();\r\n\r\n    this.reset();\r\n  }\r\n\r\n  public get inFinalView(): boolean {\r\n    return this.currentView === this.config.mappings.finalView;\r\n  }\r\n\r\n  public get config(): CalendarConfig {\r\n    return this._config;\r\n  }\r\n\r\n  public set config(config: CalendarConfig) {\r\n    this._config = config;\r\n    config.updateBounds(this._selectedDate || this.currentDate);\r\n  }\r\n\r\n  public get selectedDate(): Date | undefined {\r\n    return this._selectedDate;\r\n  }\r\n\r\n  public set selectedDate(date: Date | undefined) {\r\n    if (date) {\r\n      this._selectedDate = DateUtil.clone(date);\r\n      this.currentDate = DateUtil.clone(date);\r\n    } else {\r\n      this._selectedDate = undefined;\r\n    }\r\n\r\n    this.config.updateBounds(this._selectedDate || this.currentDate);\r\n    this.onManualUpdate();\r\n  }\r\n\r\n  public get minDate(): Date | undefined {\r\n    if (this._minDate && this.config.dateMinBound) {\r\n      return this._minDate > this.config.dateMinBound ? this._minDate : this.config.dateMinBound;\r\n    }\r\n    return this._minDate || this.config.dateMinBound;\r\n  }\r\n\r\n  public set minDate(min: Date | undefined) {\r\n    this._minDate = min;\r\n  }\r\n\r\n  public get maxDate(): Date | undefined {\r\n    if (this._maxDate && this.config.dateMaxBound) {\r\n      return this._maxDate < this.config.dateMaxBound ? this._maxDate : this.config.dateMaxBound;\r\n    }\r\n    return this._maxDate || this.config.dateMaxBound;\r\n  }\r\n\r\n  public set maxDate(max: Date | undefined) {\r\n    this._maxDate = max;\r\n  }\r\n\r\n  public get firstDayOfWeek(): number {\r\n    return this._firstDayOfWeek;\r\n  }\r\n\r\n  public set firstDayOfWeek(firstDayOfWeek: number) {\r\n    if (firstDayOfWeek != undefined) {\r\n      this._firstDayOfWeek = Math.max(0, Math.min(6, firstDayOfWeek));\r\n    }\r\n  }\r\n\r\n  public currentView: CalendarViewType;\r\n  public currentDate: Date;\r\n  public onDateChange: EventEmitter<Date>;\r\n\r\n  private _config: CalendarConfig;\r\n\r\n  private _selectedDate?: Date;\r\n\r\n  private _minDate?: Date;\r\n\r\n  private _maxDate?: Date;\r\n\r\n  private _firstDayOfWeek: number;\r\n  public onManualUpdate: () => void = () => {\r\n  }\r\n\r\n  public reset(): void {\r\n    this.currentView = this.config.mappings.finalView;\r\n\r\n    if (!this._selectedDate) {\r\n      let current = this.currentDate.getTime();\r\n      if (this._minDate) {\r\n        current = Math.max(current, this._minDate.getTime());\r\n      }\r\n      if (this._maxDate) {\r\n        current = Math.min(current, this._maxDate.getTime());\r\n      }\r\n\r\n      this.currentDate = new Date(current);\r\n      this.config.updateBounds(this.currentDate);\r\n\r\n      this.currentView = this.config.mappings.initialView;\r\n    }\r\n  }\r\n\r\n  public changeDate(date: Date, fromView: CalendarViewType): void {\r\n    this.currentDate = date;\r\n\r\n    if (fromView === this.config.mappings.finalView) {\r\n      this.selectedDate = date;\r\n\r\n      return this.onDateChange.emit(date);\r\n    }\r\n\r\n    this.updateView(this.config.mappings.changed, fromView);\r\n  }\r\n\r\n  public zoomOut(fromView: CalendarViewType): void {\r\n    this.updateView(this.config.mappings.zoom, fromView);\r\n  }\r\n\r\n  private updateView(mappings: Map<CalendarViewType, CalendarViewType>, fromView: CalendarViewType): void {\r\n    const mapping = mappings.get(fromView);\r\n    if (mapping == undefined) {\r\n      throw new Error('Unknown view type.');\r\n    }\r\n    this.currentView = mapping;\r\n  }\r\n}\r\n","import {ChangeDetectorRef, Directive, EventEmitter, HostBinding, HostListener, Input} from '@angular/core';\r\n\r\nexport class CalendarItem {\r\n  public date: Date;\r\n  public humanReadable: string;\r\n  public isDisabled: boolean;\r\n  public isActive: boolean;\r\n  public isOutsideRange: boolean;\r\n  public isToday: boolean;\r\n  public isSelectable: boolean;\r\n\r\n  constructor(date: Date) {\r\n    this.date = date;\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[calendarItem]'\r\n})\r\nexport class FuiCalendarItem {\r\n  @Input('calendarItem')\r\n  public item: CalendarItem;\r\n  @HostBinding('class.focus')\r\n  public hasFocus: boolean;\r\n  public onFocussed: EventEmitter<boolean>;\r\n\r\n  constructor(public changeDetector: ChangeDetectorRef) {\r\n    this.hasFocus = false;\r\n\r\n    this.onFocussed = new EventEmitter<boolean>();\r\n  }\r\n\r\n  @HostBinding('class.disabled')\r\n  public get isSelectable(): boolean {\r\n    return this.item.isSelectable;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    return this.item.isActive;\r\n  }\r\n\r\n  @HostBinding('class.today')\r\n  public get isToday(): boolean {\r\n    return this.item.isToday;\r\n  }\r\n\r\n  @HostListener('mousemove')\r\n  public onMouseMove(): void {\r\n    if (!this.hasFocus) {\r\n      this.hasFocus = true;\r\n      this.onFocussed.emit(this.hasFocus);\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave')\r\n  public onMouseLeave(): void {\r\n    this.hasFocus = false;\r\n    this.onFocussed.emit(this.hasFocus);\r\n  }\r\n}\r\n","import {AfterViewInit, Input, OnDestroy, QueryList, Renderer2, ViewChildren} from '@angular/core';\r\nimport {KeyCode} from '../../../misc/util/internal';\r\nimport {CalendarItem, FuiCalendarItem} from '../directives/calendar-item';\r\nimport {CalendarService} from '../services/calendar.service';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\n\r\nexport enum CalendarViewType {\r\n  Year = 0,\r\n  Month = 1,\r\n  Date = 2,\r\n  Hour = 3,\r\n  Minute = 4\r\n}\r\n\r\nexport type CalendarViewResult = [Date, CalendarViewType];\r\n\r\nexport abstract class CalendarView implements AfterViewInit, OnDestroy {\r\n\r\n  public ranges: CalendarRangeService;\r\n  private _type: CalendarViewType;\r\n  @ViewChildren(FuiCalendarItem)\r\n  private _renderedItems: QueryList<FuiCalendarItem>;\r\n  private _highlightedItem?: CalendarItem;\r\n  private _documentKeyDownListener: () => void;\r\n\r\n  constructor(renderer: Renderer2, viewType: CalendarViewType, ranges: CalendarRangeService) {\r\n    this._type = viewType;\r\n    this.ranges = ranges;\r\n\r\n    this._documentKeyDownListener = renderer.listen('document', 'keydown', (e: KeyboardEvent) => this.onDocumentKeyDown(e));\r\n  }\r\n\r\n  public get currentDate(): Date {\r\n    return this.service.currentDate;\r\n  }\r\n\r\n  public get selectedDate(): Date | undefined {\r\n    return this.service.selectedDate;\r\n  }\r\n\r\n  private _service: CalendarService;\r\n\r\n  public get service(): CalendarService {\r\n    return this._service;\r\n  }\r\n\r\n  @Input()\r\n  public set service(service: CalendarService) {\r\n    this._service = service;\r\n    this.ranges.loadService(service);\r\n\r\n    this.service.onManualUpdate = () => {\r\n      this.ranges.refresh();\r\n\r\n      delete this._highlightedItem;\r\n      this.autoHighlight();\r\n    };\r\n  }\r\n\r\n  // Template Methods\r\n\r\n  public setDate(item: CalendarItem): void {\r\n    this.service.changeDate(item.date, this._type);\r\n  }\r\n\r\n  public zoomOut(): void {\r\n    this.service.zoomOut(this._type);\r\n  }\r\n\r\n  // Keyboard Control\r\n\r\n  public ngAfterViewInit(): void {\r\n    this._renderedItems.changes.subscribe(() => this.onRenderedItemsChanged());\r\n    this.onRenderedItemsChanged();\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._documentKeyDownListener();\r\n  }\r\n\r\n  private onRenderedItemsChanged(): void {\r\n    this._renderedItems.forEach(i =>\r\n      i.onFocussed.subscribe((hasFocus: boolean) => {\r\n        if (hasFocus) {\r\n          this.highlightItem(i.item);\r\n        }\r\n      }));\r\n\r\n    this.autoHighlight();\r\n    this.highlightItem(this._highlightedItem);\r\n  }\r\n\r\n  private autoHighlight(): void {\r\n    let date = this.selectedDate && this.ranges.current.containsDate(this.selectedDate) ? this.selectedDate : this.currentDate;\r\n    if (this._highlightedItem && this.ranges.current.containsDate(this._highlightedItem.date)) {\r\n      date = this._highlightedItem.date;\r\n    }\r\n\r\n    const initiallyHighlighted = this.ranges.current.items.find(i => this.ranges.dateComparer.equal(i.date, date));\r\n    if (initiallyHighlighted && !initiallyHighlighted.isDisabled) {\r\n      this._highlightedItem = initiallyHighlighted;\r\n    }\r\n  }\r\n\r\n  private highlightItem(item: CalendarItem | undefined): void {\r\n    if (item) {\r\n      this._renderedItems.forEach(i => i.hasFocus = false);\r\n      const rendered = this._renderedItems.find(ri => ri.item === item);\r\n      if (rendered && !rendered.hasFocus) {\r\n        rendered.hasFocus = true;\r\n        rendered.changeDetector.detectChanges();\r\n      }\r\n\r\n      this._highlightedItem = item;\r\n    }\r\n  }\r\n\r\n  private onDocumentKeyDown(e: KeyboardEvent): void {\r\n    if (this._highlightedItem && e.keyCode === KeyCode.Enter) {\r\n      this.setDate(this._highlightedItem);\r\n      return;\r\n    }\r\n\r\n    if (!this._highlightedItem) {\r\n      this.autoHighlight();\r\n    }\r\n\r\n    const index = this.ranges.current.findIndex(this._highlightedItem);\r\n    let isMovingForward = true;\r\n    let delta = 0;\r\n\r\n    switch (e.keyCode) {\r\n      case KeyCode.Right:\r\n        delta += 1;\r\n        break;\r\n      case KeyCode.Left:\r\n        delta -= 1;\r\n        isMovingForward = false;\r\n        break;\r\n      case KeyCode.Down:\r\n        delta += this.ranges.columns;\r\n        break;\r\n      case KeyCode.Up:\r\n        delta -= this.ranges.columns;\r\n        isMovingForward = false;\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    // Stop these keypresses being captured elsewhere.\r\n    e.preventDefault();\r\n\r\n    let nextItem = this.ranges.current.items[index + delta];\r\n\r\n    if (nextItem && nextItem.isDisabled) {\r\n      return;\r\n    }\r\n\r\n    if (nextItem && !nextItem.isOutsideRange) {\r\n      return this.highlightItem(nextItem);\r\n    }\r\n\r\n    if (nextItem && nextItem.isOutsideRange) {\r\n      if (index + delta >= this.ranges.current.inRange.length) {\r\n        isMovingForward = true;\r\n      }\r\n    }\r\n\r\n    if (!nextItem) {\r\n      let adjustedIndex = this.ranges.current.findIndex(this._highlightedItem);\r\n\r\n      const nextItems = this.ranges.calc(isMovingForward).inRange;\r\n\r\n      if (isMovingForward) {\r\n        adjustedIndex -= this.ranges.current.inRange.length;\r\n      } else {\r\n        adjustedIndex += nextItems.length;\r\n      }\r\n\r\n      nextItem = nextItems[adjustedIndex + delta];\r\n\r\n      if (nextItem.isDisabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.ranges.move(isMovingForward);\r\n    this._highlightedItem = this.ranges.current.find(nextItem);\r\n  }\r\n}\r\n","import {CalendarViewType} from '../views/calendar-view';\r\n\r\nexport type CalendarMapping<T = CalendarViewType> = Map<CalendarViewType, T>;\r\n\r\nexport abstract class CalendarMappings {\r\n  public initialView: CalendarViewType;\r\n  public finalView: CalendarViewType;\r\n  public changed: CalendarMapping;\r\n  public zoom: CalendarMapping;\r\n}\r\n\r\nexport class DateMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Date;\r\n    this.finalView = CalendarViewType.Date;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Date],\r\n      [CalendarViewType.Date, CalendarViewType.Date]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Date],\r\n      [CalendarViewType.Month, CalendarViewType.Year],\r\n      [CalendarViewType.Date, CalendarViewType.Month]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class TimeMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Hour;\r\n    this.finalView = CalendarViewType.Minute;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Hour, CalendarViewType.Minute],\r\n      [CalendarViewType.Minute, CalendarViewType.Minute]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Hour, CalendarViewType.Minute],\r\n      [CalendarViewType.Minute, CalendarViewType.Hour]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class DatetimeMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Date;\r\n    this.finalView = CalendarViewType.Minute;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Date],\r\n      [CalendarViewType.Date, CalendarViewType.Hour],\r\n      [CalendarViewType.Hour, CalendarViewType.Minute],\r\n      [CalendarViewType.Minute, CalendarViewType.Minute]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Date],\r\n      [CalendarViewType.Month, CalendarViewType.Year],\r\n      [CalendarViewType.Date, CalendarViewType.Month],\r\n      [CalendarViewType.Hour, CalendarViewType.Date],\r\n      [CalendarViewType.Minute, CalendarViewType.Hour]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class MonthMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Month;\r\n    this.finalView = CalendarViewType.Month;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Month]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Month],\r\n      [CalendarViewType.Month, CalendarViewType.Year]\r\n    ]);\r\n  }\r\n}\r\n\r\nexport class YearMappings extends CalendarMappings {\r\n  constructor() {\r\n    super();\r\n\r\n    this.initialView = CalendarViewType.Year;\r\n    this.finalView = CalendarViewType.Year;\r\n\r\n    this.changed = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Year]\r\n    ]);\r\n\r\n    this.zoom = new Map<CalendarViewType, CalendarViewType>([\r\n      [CalendarViewType.Year, CalendarViewType.Year]\r\n    ]);\r\n  }\r\n}\r\n","import {CalendarMode} from '../services/calendar.service';\r\nimport {CalendarMappings, DateMappings, DatetimeMappings, MonthMappings, TimeMappings, YearMappings} from './calendar-mappings';\r\nimport {DatePrecision, DateUtil} from '../../../misc/util/internal';\r\n\r\nexport abstract class CalendarConfig {\r\n  public mode: CalendarMode;\r\n  public precision: DatePrecision;\r\n  public mappings: CalendarMappings;\r\n\r\n  public fallback: string;\r\n\r\n  public dateMinBound?: Date;\r\n  public dateMaxBound?: Date;\r\n\r\n  constructor(mode: CalendarMode, precision: DatePrecision, mappings: CalendarMappings, fallback: string) {\r\n    this.mode = mode;\r\n    this.precision = precision;\r\n    this.mappings = mappings;\r\n    this.fallback = fallback;\r\n  }\r\n\r\n  public updateBounds(providedDate: Date): void {\r\n    this.dateMinBound = DateUtil.startOf(DatePrecision.Year, new Date(), true);\r\n    this.dateMinBound.setFullYear(0);\r\n  }\r\n}\r\n\r\nexport class DateConfigBase extends CalendarConfig {\r\n  constructor(precision: DatePrecision, mappings: CalendarMappings, fallback: string) {\r\n    super(CalendarMode.DateOnly, precision, mappings, fallback);\r\n  }\r\n}\r\n\r\nexport class YearConfig extends DateConfigBase {\r\n  constructor() {\r\n    super(\r\n      DatePrecision.Year,\r\n      new YearMappings(),\r\n      'number');\r\n  }\r\n}\r\n\r\nexport class MonthConfig extends DateConfigBase {\r\n  constructor() {\r\n    super(\r\n      DatePrecision.Month,\r\n      new MonthMappings(),\r\n      'month');\r\n  }\r\n}\r\n\r\nexport class DateConfig extends DateConfigBase {\r\n  constructor() {\r\n    super(\r\n      DatePrecision.Date,\r\n      new DateMappings(),\r\n      'date');\r\n  }\r\n}\r\n\r\nexport class DatetimeConfig extends CalendarConfig {\r\n  constructor() {\r\n    super(\r\n      CalendarMode.Both,\r\n      DatePrecision.Minute,\r\n      new DatetimeMappings(),\r\n      'datetime-local');\r\n  }\r\n}\r\n\r\nexport class TimeConfig extends CalendarConfig {\r\n  constructor() {\r\n    super(\r\n      CalendarMode.TimeOnly,\r\n      DatePrecision.Minute,\r\n      new TimeMappings(),\r\n      'time');\r\n  }\r\n\r\n  public updateBounds(providedDate: Date): void {\r\n    this.dateMaxBound = DateUtil.endOf(DatePrecision.Date, DateUtil.clone(providedDate));\r\n    this.dateMinBound = DateUtil.previous(DatePrecision.Date, DateUtil.clone(this.dateMaxBound));\r\n  }\r\n}\r\n","import {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\n\r\nexport class DateComparer {\r\n  private _precision: DatePrecision;\r\n  private _isSmallest: boolean;\r\n\r\n  constructor(precision: DatePrecision, isSmallest: boolean) {\r\n    this._precision = precision;\r\n    this._isSmallest = isSmallest;\r\n  }\r\n\r\n  public equal(a: Date, b: Date | undefined): boolean {\r\n    if (this._precision === DatePrecision.Minute) {\r\n      return !!b &&\r\n        DateUtil.equal(DatePrecision.Hour, b, a) &&\r\n        Util.Math.roundDown(b.getMinutes(), 5) === Util.Math.roundDown(a.getMinutes(), 5);\r\n    }\r\n\r\n    return !!b && DateUtil.equal(this._precision, a, b);\r\n  }\r\n\r\n  public lessThan(a: Date, b: Date | undefined): boolean {\r\n    if (this._isSmallest) {\r\n      return !b || (b >= a);\r\n    }\r\n\r\n    return !b || (DateUtil.endOf(this._precision, DateUtil.clone(b)) >= a);\r\n  }\r\n\r\n  public greaterThan(a: Date, b: Date | undefined): boolean {\r\n    if (this._isSmallest) {\r\n      return !b || (b <= a);\r\n    }\r\n\r\n    return !b || (DateUtil.startOf(this._precision, DateUtil.clone(b)) <= a);\r\n  }\r\n\r\n  public between(date: Date, left: Date | undefined, right: Date | undefined): boolean {\r\n    return this.greaterThan(date, left) && this.lessThan(date, right);\r\n  }\r\n}\r\n","import {IDatepickerLocaleValues} from '../../../behaviors/localization/internal';\r\nimport {format, parse} from 'date-fns';\r\nimport * as defaultLocale from 'date-fns/locale/en';\r\n\r\ninterface IDateFnsLocaleValues {\r\n  [name: string]: string[];\r\n}\r\n\r\ninterface IDateFnsHelperOptions {\r\n  type: string;\r\n}\r\n\r\ntype DateFnsHelper<U, T> = (value: U, options: IDateFnsHelperOptions) => T;\r\ntype DateFnsWeekStartsOn = 0 | 1 | 2 | 3 | 4 | 5 | 6;\r\n\r\ninterface IDateFnsCustomLocale {\r\n  localize: {\r\n    weekday: DateFnsHelper<number, string>;\r\n    weekdays: DateFnsHelper<IDateFnsHelperOptions, string[]>;\r\n    month: DateFnsHelper<number, string>;\r\n    months: DateFnsHelper<IDateFnsHelperOptions, string[]>;\r\n    timeOfDay: DateFnsHelper<number, string>;\r\n    timesOfDay: DateFnsHelper<IDateFnsHelperOptions, string[]>;\r\n  };\r\n  match: {\r\n    weekdays: DateFnsHelper<string, RegExpMatchArray | null>;\r\n    weekday?: DateFnsHelper<RegExpMatchArray, number>;\r\n    months: DateFnsHelper<string, RegExpMatchArray | null>;\r\n    month?: DateFnsHelper<RegExpMatchArray, number>;\r\n    timesOfDay: DateFnsHelper<string, RegExpMatchArray | null>;\r\n    timeOfDay?: DateFnsHelper<RegExpMatchArray, number>;\r\n  };\r\n  options?: {\r\n    weekStartsOn?: number;\r\n  };\r\n}\r\n\r\nfunction buildLocalizeFn(values: IDateFnsLocaleValues,\r\n                         defaultType: string,\r\n                         indexCallback?: (oldIndex: number) => number): DateFnsHelper<number, string> {\r\n\r\n  return (dirtyIndex: number, {type} = {type: defaultType}) => {\r\n    const index = indexCallback ? indexCallback(dirtyIndex) : dirtyIndex;\r\n    return values[`${type}`][index];\r\n  };\r\n}\r\n\r\nfunction buildLocalizeArrayFn(values: IDateFnsLocaleValues, defaultType: string): DateFnsHelper<IDateFnsHelperOptions, string[]> {\r\n  return ({type} = {type: defaultType}) => values[`${type}`];\r\n}\r\n\r\nfunction buildMatchFn(patterns: IDateFnsLocaleValues, defaultType: string): DateFnsHelper<string, RegExpMatchArray | null> {\r\n  return (dirtyString, {type} = {type: defaultType}) =>\r\n    dirtyString.match(`^(${patterns[`${type}`].join('|')})`);\r\n}\r\n\r\nfunction buildParseFn(patterns: IDateFnsLocaleValues, defaultType: string): DateFnsHelper<RegExpMatchArray, number> {\r\n  return ([, result], {type} = {type: defaultType}) =>\r\n    (patterns[`${type}`] || patterns[defaultType])\r\n      .map(p => new RegExp(`^${p}`))\r\n      .findIndex(pattern => pattern.test(result));\r\n}\r\n\r\nexport class DateFnsParser {\r\n  private _weekStartsOn: DateFnsWeekStartsOn;\r\n  private _locale: IDateFnsCustomLocale;\r\n\r\n  constructor(locale: IDatepickerLocaleValues) {\r\n    this._weekStartsOn = locale.firstDayOfWeek as DateFnsWeekStartsOn;\r\n\r\n    const weekdayValues = {\r\n      long: locale.weekdays,\r\n      short: locale.weekdaysShort,\r\n      narrow: locale.weekdaysNarrow\r\n    };\r\n\r\n    const monthValues = {\r\n      long: locale.months,\r\n      short: locale.monthsShort\r\n    };\r\n\r\n    const timeOfDayValues = {\r\n      long: locale.timesOfDay,\r\n      uppercase: locale.timesOfDayUppercase,\r\n      lowercase: locale.timesOfDayLowercase\r\n    };\r\n\r\n    const timeOfDayMatchValues = {\r\n      long: locale.timesOfDay,\r\n      short: locale.timesOfDayUppercase.concat(locale.timesOfDayLowercase)\r\n    };\r\n\r\n    this._locale = defaultLocale as any;\r\n    this._locale.localize = {\r\n      ...this._locale.localize,\r\n      ...{\r\n        weekday: buildLocalizeFn(weekdayValues, 'long'),\r\n        weekdays: buildLocalizeArrayFn(weekdayValues, 'long'),\r\n        month: buildLocalizeFn(monthValues, 'long'),\r\n        months: buildLocalizeArrayFn(monthValues, 'long'),\r\n        timeOfDay: buildLocalizeFn(timeOfDayValues, 'long', (hours: number) => {\r\n          return hours / 12 >= 1 ? 1 : 0;\r\n        }),\r\n        timesOfDay: buildLocalizeArrayFn(timeOfDayValues, 'long')\r\n      }\r\n    };\r\n    this._locale.match = {\r\n      ...this._locale.match,\r\n      ...{\r\n        weekdays: buildMatchFn(weekdayValues, 'long'),\r\n        weekday: buildParseFn(weekdayValues, 'long'),\r\n        months: buildMatchFn(monthValues, 'long'),\r\n        month: buildParseFn(monthValues, 'long'),\r\n        timesOfDay: buildMatchFn(timeOfDayMatchValues, 'long'),\r\n        timeOfDay: buildParseFn(timeOfDayMatchValues, 'long')\r\n      }\r\n    };\r\n  }\r\n\r\n  private get _config(): any {\r\n    return {\r\n      weekStartsOn: this._weekStartsOn,\r\n      locale: this._locale\r\n    };\r\n  }\r\n\r\n  public format(d: Date, f: string): string {\r\n    return format(d, f, this._config);\r\n  }\r\n\r\n  public parse(dS: string, f: string, bD: Date): Date {\r\n    return parse(dS, this._config);\r\n  }\r\n}\r\n","import {DatepickerMode} from '../components/datepicker';\r\nimport {DateFnsParser} from '../helpers/date-fns';\r\nimport {IDatepickerFormatsLocaleValues, IDatepickerLocaleValues} from '../../../behaviors/localization/internal';\r\n\r\nexport class DateParser {\r\n  private _format: string;\r\n  private _parser: DateFnsParser;\r\n\r\n  constructor(format: string, locale: IDatepickerLocaleValues) {\r\n    this._format = format;\r\n    this._parser = new DateFnsParser(locale);\r\n  }\r\n\r\n  public format(date: Date): string {\r\n    return this._parser.format(date, this._format);\r\n  }\r\n\r\n  public parse(dateString: string, baseDate: Date = new Date()): Date {\r\n    return this._parser.parse(dateString, this._format, baseDate);\r\n  }\r\n}\r\n\r\nexport class InternalDateParser extends DateParser {\r\n  constructor(mode: DatepickerMode, locale: IDatepickerLocaleValues) {\r\n    const internalFormats: IDatepickerFormatsLocaleValues = {\r\n      time: 'HH:mm',\r\n      datetime: 'YYYY-MM-DDTHH:mm',\r\n      date: 'YYYY-MM-DD',\r\n      month: 'YYYY-MM',\r\n      year: 'YYYY'\r\n    };\r\n\r\n    super(internalFormats[mode], locale);\r\n  }\r\n}\r\n","import {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarService} from './calendar.service';\r\nimport {DateComparer} from '../classes/date-comparer';\r\n\r\nexport class CalendarRange {\r\n  public start: Date;\r\n  public dates: Date[];\r\n  public items: CalendarItem[];\r\n  public groupedItems: CalendarItem[][];\r\n  private _comparer: DateComparer;\r\n\r\n  constructor(start: Date, dates: Date[], items: CalendarItem[], grouped: CalendarItem[][], comparer: DateComparer) {\r\n    this.start = start;\r\n    this.dates = dates;\r\n    this.items = items;\r\n    this.groupedItems = grouped;\r\n    this._comparer = comparer;\r\n  }\r\n\r\n  public get inRange(): CalendarItem[] {\r\n    return this.items.filter(i => !i.isOutsideRange);\r\n  }\r\n\r\n  public find(item: CalendarItem): CalendarItem | undefined {\r\n    return this.items.find(i => this._comparer.equal(i.date, item.date));\r\n  }\r\n\r\n  public findIndex(item: CalendarItem | undefined): number {\r\n    if (!item) {\r\n      return -1;\r\n    }\r\n    return this.items.findIndex(i => this._comparer.equal(i.date, item.date));\r\n  }\r\n\r\n  public containsDate(date: Date): boolean {\r\n    return !!this.inRange.find(i => this._comparer.equal(i.date, date));\r\n  }\r\n}\r\n\r\nexport abstract class CalendarRangeService {\r\n  public previous: CalendarRange;\r\n  public current: CalendarRange;\r\n  public next: CalendarRange;\r\n\r\n  public service: CalendarService;\r\n\r\n  public interval: DatePrecision;\r\n  public marginal: DatePrecision;\r\n  public rows: number;\r\n  public columns: number;\r\n\r\n  constructor(interval: DatePrecision, rows: number, columns: number) {\r\n    this.interval = interval;\r\n    this.marginal = interval as number + 1;\r\n    this.rows = rows;\r\n    this.columns = columns;\r\n  }\r\n\r\n  public get dateComparer(): DateComparer {\r\n    return new DateComparer(this.marginal, this.service.inFinalView);\r\n  }\r\n\r\n  public get length(): number {\r\n    return this.rows * this.columns;\r\n  }\r\n\r\n  public get canMoveNext(): boolean {\r\n    const firstItem = this.next.inRange[0];\r\n    if (firstItem && this.service.maxDate) {\r\n      return firstItem.date <= this.service.maxDate;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public get canMovePrevious(): boolean {\r\n    const lastItem = this.previous.inRange.slice(-1).pop();\r\n    if (lastItem && this.service.minDate) {\r\n      return lastItem.date >= this.service.minDate;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public loadService(service: CalendarService): void {\r\n    this.service = service;\r\n\r\n    this.refresh();\r\n  }\r\n\r\n  public refresh(): void {\r\n    this.current = this.calcRange(this.service.currentDate);\r\n\r\n    this.next = this.calcRange(DateUtil.next(this.interval, DateUtil.clone(this.service.currentDate)));\r\n    this.previous = this.calcRange(DateUtil.previous(this.interval, DateUtil.clone(this.service.currentDate)));\r\n  }\r\n\r\n  public move(forwards: boolean): void {\r\n    if (forwards) {\r\n      return this.moveNext();\r\n    }\r\n    return this.movePrevious();\r\n  }\r\n\r\n  public moveNext(): void {\r\n    DateUtil.next(this.interval, this.service.currentDate);\r\n    this.previous = this.current;\r\n    this.current = this.next;\r\n    this.next = this.calcRange(DateUtil.next(this.interval, DateUtil.clone(this.service.currentDate)));\r\n  }\r\n\r\n  public movePrevious(): void {\r\n    DateUtil.previous(this.interval, this.service.currentDate);\r\n    this.next = this.current;\r\n    this.current = this.previous;\r\n    this.previous = this.calcRange(DateUtil.previous(this.interval, DateUtil.clone(this.service.currentDate)));\r\n  }\r\n\r\n  public calc(forwards: boolean): CalendarRange {\r\n    if (forwards) {\r\n      return this.next;\r\n    }\r\n    return this.previous;\r\n  }\r\n\r\n  protected calcStart(date: Date): Date {\r\n    return DateUtil.startOf(this.interval, DateUtil.clone(date));\r\n  }\r\n\r\n  protected calcDates(rangeStart: Date): Date[] {\r\n    return Util.Array\r\n      .range(this.length)\r\n      .map(i => DateUtil.add(this.marginal, DateUtil.clone(rangeStart), i));\r\n\r\n  }\r\n\r\n  protected calcItems(dateRange: Date[], baseDate: Date): CalendarItem[] {\r\n    return dateRange.map(date => {\r\n      const item = new CalendarItem(date);\r\n\r\n      item.isDisabled = !this.dateComparer.between(item.date, this.service.minDate, this.service.maxDate);\r\n      item.isActive = this.dateComparer.equal(item.date, this.service.selectedDate);\r\n      item.isToday = this.dateComparer.equal(item.date, new Date());\r\n      item.isSelectable = item.isDisabled;\r\n\r\n      this.configureItem(item, baseDate);\r\n\r\n      return item;\r\n    });\r\n  }\r\n\r\n  protected abstract configureItem(item: CalendarItem, baseDate: Date): void;\r\n\r\n  private calcRange(startDate: Date): CalendarRange {\r\n    const start = this.calcStart(startDate);\r\n    if (this.service.inFinalView) {\r\n      DateUtil.startOf(this.marginal, start, true);\r\n    }\r\n    const dates = this.calcDates(start);\r\n    const items = this.calcItems(dates, startDate);\r\n\r\n    return new CalendarRange(start, dates, items, Util.Array.group(items, this.columns), this.dateComparer);\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\n\r\n@Component({\r\n  selector: 'fui-calendar-view-title',\r\n  template: `\r\n<span class=\"title link\" (click)=\"onZoomOut.emit()\">\r\n    <ng-content></ng-content>\r\n</span>\r\n<span class=\"prev link\" [class.disabled]=\"!ranges?.canMovePrevious\" (click)=\"ranges?.movePrevious()\">\r\n    <i class=\"chevron left icon\"></i>\r\n</span>\r\n<span class=\"next link\" [class.disabled]=\"!ranges?.canMoveNext\" (click)=\"ranges?.moveNext()\">\r\n    <i class=\"chevron right icon\"></i>\r\n</span>\r\n`,\r\n  styles: [`\r\n.title.link {\r\n    display: inline-block;\r\n    margin-left: 2rem;\r\n    margin-right: 2rem;\r\n}\r\n`]\r\n})\r\nexport class FuiCalendarViewTitle {\r\n\r\n  @Input()\r\n  public ranges: CalendarRangeService;\r\n\r\n  @Output('zoomOut')\r\n  public onZoomOut: EventEmitter<void>;\r\n\r\n  constructor() {\r\n    this.onZoomOut = new EventEmitter<void>();\r\n  }\r\n}\r\n","import {Component, HostBinding, HostListener} from '@angular/core';\r\nimport {CalendarService} from './../services/calendar.service';\r\nimport {DatetimeConfig} from '../classes/calendar-config';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\n\r\nexport type DatepickerMode = 'year' | 'month' | 'date' | 'datetime' | 'time';\r\n\r\nexport const DatepickerMode = {\r\n  Year: 'year' as DatepickerMode,\r\n  Month: 'month' as DatepickerMode,\r\n  Date: 'date' as DatepickerMode,\r\n  Datetime: 'datetime' as DatepickerMode,\r\n  Time: 'time' as DatepickerMode\r\n};\r\n\r\n@Component({\r\n  selector: 'fui-datepicker',\r\n  template: `\r\n<ng-container [ngSwitch]=\"service.currentView\">\r\n    <fui-calendar-year-view [service]=\"service\" *ngSwitchCase=\"0\"></fui-calendar-year-view>\r\n    <fui-calendar-month-view [service]=\"service\" *ngSwitchCase=\"1\"></fui-calendar-month-view>\r\n    <fui-calendar-date-view [service]=\"service\" *ngSwitchCase=\"2\"></fui-calendar-date-view>\r\n    <fui-calendar-hour-view [service]=\"service\" *ngSwitchCase=\"3\"></fui-calendar-hour-view>\r\n    <fui-calendar-minute-view [service]=\"service\" *ngSwitchCase=\"4\"></fui-calendar-minute-view>\r\n</ng-container>\r\n`,\r\n  styles: [`\r\n:host {\r\n    user-select: none;\r\n}\r\n`]\r\n})\r\nexport class FuiDatepicker {\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.active')\r\n  @HostBinding('class.calendar')\r\n  public readonly hasClasses: boolean;\r\n\r\n  public service: CalendarService;\r\n\r\n  constructor(localizationService: FuiLocalizationService) {\r\n    this.service = new CalendarService(new DatetimeConfig(), localizationService.get().datepicker);\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  public onMouseDown(e: MouseEvent): void {\r\n    e.preventDefault();\r\n  }\r\n}\r\n","import {PositioningPlacement} from '../../../misc/util/internal';\r\n\r\nexport type PopupTrigger = 'hover' | 'click' | 'outsideClick' | 'focus' | 'manual';\r\nexport type PopupSize = 'mini' | 'tiny' | 'small' | 'large' | 'huge';\r\nexport type PopupWidth = 'wide' | 'very wide' | 'flowing';\r\n\r\nexport const PopupTrigger = {\r\n  Hover: 'hover' as PopupTrigger,\r\n  Click: 'click' as PopupTrigger,\r\n  OutsideClick: 'outsideClick' as PopupTrigger,\r\n  Focus: 'focus' as PopupTrigger,\r\n  Manual: 'manual' as PopupTrigger\r\n};\r\n\r\nexport interface IPopupConfig {\r\n  header?: string;\r\n  text?: string;\r\n  placement?: PositioningPlacement;\r\n  trigger?: PopupTrigger;\r\n  isInverted?: boolean;\r\n  delay?: number;\r\n  isBasic?: boolean;\r\n  transition?: string;\r\n  transitionDuration?: number;\r\n  isFlowing?: boolean;\r\n  isInline?: boolean;\r\n}\r\n\r\nexport class PopupConfig implements IPopupConfig {\r\n  public header?: string;\r\n  public text?: string;\r\n  public placement: PositioningPlacement;\r\n  public trigger: PopupTrigger;\r\n  public isInverted: boolean;\r\n  public delay: number;\r\n  public isBasic: boolean;\r\n  public transition: string;\r\n  public size: PopupSize;\r\n  public width: PopupWidth;\r\n  public transitionDuration: number;\r\n  public isFlowing: boolean;\r\n  public isInline: boolean;\r\n\r\n  constructor(defaults: IPopupConfig = {}) {\r\n    this.placement = PositioningPlacement.TopLeft;\r\n    this.trigger = PopupTrigger.Hover;\r\n    this.isInverted = false;\r\n    this.delay = 0;\r\n    this.isBasic = false;\r\n    this.transition = 'scale';\r\n    this.transitionDuration = 200;\r\n    this.isFlowing = false;\r\n    this.isInline = false;\r\n    Object.assign(this, defaults);\r\n  }\r\n}\r\n","import {Component, ElementRef, EventEmitter, HostBinding, HostListener, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {IDynamicClasses, PositioningService} from '../../../misc/util/internal';\r\nimport {Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {IPopup} from '../classes/popup-controller';\r\nimport {TemplatePopupConfig} from '../classes/popup-template-controller';\r\n\r\n@Component({\r\n  selector: 'fui-popup',\r\n  template: `\r\n<div class=\"ui popup\"\r\n     [ngClass]=\"dynamicClasses\"\r\n     [fuiTransition]=\"transitionController\"\r\n     [attr.direction]=\"direction\"\r\n     #container>\r\n\r\n    <ng-container *ngIf=\"!config.template && (!!config.header || !!config.text)\">\r\n        <div class=\"header\" *ngIf=\"config.header\">{{ config.header }}</div>\r\n        <div class=\"content\">{{ config.text }}</div>\r\n    </ng-container>\r\n    <div #templateSibling></div>\r\n\r\n    <fui-popup-arrow *ngIf=\"!config.isBasic\"\r\n                     [placement]=\"config.placement\"\r\n                     [inverted]=\"config.isInverted\"></fui-popup-arrow>\r\n</div>\r\n`,\r\n  styles: [`\r\n.ui.popup {\r\n    /* Autofit popup to the contents. */\r\n    right: auto;\r\n    margin: 0;\r\n}\r\n\r\n.ui.animating.popup {\r\n    /* When the popup is animating, it may not initially be in the correct position.\r\n       This fires a mouse event, causing the anchor's mouseleave to fire - making the popup flicker.\r\n       Setting pointer-events to none while animating fixes this bug. */\r\n    pointer-events: none;\r\n}\r\n\r\n.ui.popup::before {\r\n    /* Hide the Fomantic UI CSS arrow. */\r\n    display: none;\r\n}\r\n\r\n/* Offset popup by 0.75em above and below when placed 'vertically'. */\r\n.ui.popup[direction=\"top\"],\r\n.ui.popup[direction=\"bottom\"] {\r\n    margin-top: 0.75em;\r\n    margin-bottom: 0.75em;\r\n}\r\n\r\n/* Offset popup by 0.75em either side when placed 'horizontally'. */\r\n.ui.popup[direction=\"left\"],\r\n.ui.popup[direction=\"right\"] {\r\n    margin-left: 0.75em;\r\n    margin-right: 0.75em;\r\n}\r\n`]\r\n})\r\nexport class FuiPopup implements IPopup {\r\n\r\n  // Config settings for this popup.\r\n  public config: TemplatePopupConfig<any>;\r\n  public transitionController: TransitionController;\r\n  public positioningService: PositioningService;\r\n  // `setTimeout` timer pointer for cancelling popup close.\r\n  public closingTimeout: number;\r\n  // Fires when the popup opens (and the animation is completed).\r\n  public onOpen: EventEmitter<void>;\r\n  // Fires when the popup closes (and the animation is completed).\r\n  public onClose: EventEmitter<void>;\r\n  // `ViewContainerRef` for the element the template gets injected as a sibling of.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: true})\r\n  public templateSibling: ViewContainerRef;\r\n  @HostBinding('attr.tabindex')\r\n  public readonly tabindex: number;\r\n  // `ElementRef` for the positioning subject.\r\n  @ViewChild('container', {read: ViewContainerRef, static: false})\r\n  private _container: ViewContainerRef;\r\n\r\n  constructor(public elementRef: ElementRef) {\r\n    this.transitionController = new TransitionController(false);\r\n\r\n    this._isOpen = false;\r\n\r\n    this.onOpen = new EventEmitter<void>();\r\n    this.onClose = new EventEmitter<void>();\r\n\r\n    this.tabindex = 0;\r\n  }\r\n\r\n  // Returns the direction (`top`, `left`, `right`, `bottom`) of the current placement.\r\n  public get direction(): string | undefined {\r\n    // We need to set direction attribute before popper init to allow correct positioning\r\n    return this.config.placement.split(' ').shift();\r\n  }\r\n\r\n  // Returns the alignment (`top`, `left`, `right`, `bottom`) of the current placement.\r\n  public get alignment(): string | undefined {\r\n    return this.config.placement.split(' ').pop();\r\n  }\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n    if (this.direction) {\r\n      classes[this.direction] = true;\r\n    }\r\n    if (this.alignment) {\r\n      classes[this.alignment] = true;\r\n    }\r\n    if (this.config.isInverted) {\r\n      classes.inverted = true;\r\n    }\r\n    if (this.config.isBasic) {\r\n      classes.basic = true;\r\n    }\r\n    if (this.config.isFlowing) {\r\n      classes.flowing = true;\r\n    }\r\n    if (this.config.size) {\r\n      classes[this.config.size] = true;\r\n    }\r\n    if (this.config.width) {\r\n      classes[this.config.width] = true;\r\n    }\r\n    return classes;\r\n  }\r\n\r\n  private _anchor: ElementRef;\r\n\r\n  public set anchor(anchor: ElementRef) {\r\n    this._anchor = anchor;\r\n  }\r\n\r\n  // Keeps track of whether the popup is open internally.\r\n  private _isOpen: boolean;\r\n\r\n  public get isOpen(): boolean {\r\n    return this._isOpen;\r\n  }\r\n\r\n  public open(): void {\r\n    // Only attempt to open if currently closed.\r\n    if (!this.isOpen) {\r\n      // Cancel the closing timer.\r\n      clearTimeout(this.closingTimeout);\r\n\r\n      // Create positioning service after a brief delay.\r\n      setTimeout(() => {\r\n        this.positioningService = new PositioningService(\r\n          this._anchor,\r\n          this._container.element,\r\n          this.config.placement,\r\n          '.dynamic.arrow'\r\n        );\r\n        this.positioningService.hasArrow = !this.config.isBasic;\r\n      });\r\n\r\n      // Cancel all other transitions, and initiate the opening transition.\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(\r\n        new Transition(this.config.transition, this.config.transitionDuration, TransitionDirection.In, () => {\r\n          // Focus any element with [autofocus] attribute.\r\n          const autoFocus = this.elementRef.nativeElement.querySelector('[autofocus]') as HTMLElement | null;\r\n          if (autoFocus) {\r\n            // Autofocus after the browser has had time to process other event handlers.\r\n            setTimeout(() => autoFocus.focus(), 10);\r\n            // Try to focus again when the modal has opened so that autofocus works in IE11.\r\n            setTimeout(() => autoFocus.focus(), this.config.transitionDuration);\r\n          }\r\n        }));\r\n\r\n      // Finally, set the popup to be open.\r\n      this._isOpen = true;\r\n      this.onOpen.emit();\r\n    }\r\n  }\r\n\r\n  public toggle(): void {\r\n    if (!this.isOpen) {\r\n      return this.open();\r\n    }\r\n\r\n    return this.close();\r\n  }\r\n\r\n  public close(): void {\r\n    // Only attempt to close if currently open.\r\n    if (this.isOpen) {\r\n      // Cancel all other transitions, and initiate the closing transition.\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(\r\n        new Transition(this.config.transition, this.config.transitionDuration, TransitionDirection.Out));\r\n\r\n      // Cancel the closing timer.\r\n      clearTimeout(this.closingTimeout);\r\n      // Start the closing timer, that fires the `onClose` event after the transition duration number of milliseconds.\r\n      this.closingTimeout = window.setTimeout(() => this.onClose.emit(), this.config.transitionDuration);\r\n\r\n      // Finally, set the popup to be closed.\r\n      this._isOpen = false;\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(event: MouseEvent): void {\r\n    // Makes sense here, as the popup shouldn't be attached to any DOM element.\r\n    event.stopPropagation();\r\n  }\r\n}\r\n","import {ComponentRef, ElementRef, HostListener, OnDestroy, Renderer2} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IPopupConfig, PopupConfig, PopupTrigger} from './popup-config';\r\nimport {FuiPopup} from '../components/popup';\r\nimport {IPopupLifecycle} from './popup-lifecycle';\r\n\r\nexport interface IPopup {\r\n  open(): void;\r\n\r\n  close(): void;\r\n\r\n  toggle(): void;\r\n}\r\n\r\nexport abstract class FuiPopupController implements IPopup, OnDestroy {\r\n  // Stores reference to generated popup component.\r\n  private _componentRef: ComponentRef<FuiPopup>;\r\n  // `setTimeout` timer pointer for delayed popup open.\r\n  private _openingTimeout: number;\r\n  // Function to remove the document click handler.\r\n  private _documentListener: (() => void) | undefined;\r\n\r\n  constructor(protected _renderer: Renderer2,\r\n              protected _element: ElementRef,\r\n              protected _componentFactory: FuiComponentFactory,\r\n              config: PopupConfig) {\r\n\r\n    // Generate a new FuiPopup component and attach it to the application view.\r\n    this._componentRef = this._componentFactory.createComponent(FuiPopup);\r\n\r\n    // Configure popup with provided config.\r\n    this.popup.config = config;\r\n\r\n    // When the popup is closed (onClose fires on animation complete),\r\n    this.popup.onClose.subscribe(() => this.cleanup());\r\n  }\r\n\r\n  // Returns generated popup instance.\r\n  public get popup(): FuiPopup {\r\n    // Use non-null assertion as we only access this when a popup exists.\r\n    return this._componentRef.instance;\r\n  }\r\n\r\n  public configure(config?: IPopupConfig): void {\r\n    if (config) {\r\n      Object.assign(this.popup.config, config);\r\n    }\r\n  }\r\n\r\n  public openDelayed(): void {\r\n    // Cancel the opening timer.\r\n    clearTimeout(this._openingTimeout);\r\n\r\n    // Start the popup opening after the specified delay interval.\r\n    this._openingTimeout = window.setTimeout(() => this.open(), this.popup.config.delay);\r\n  }\r\n\r\n  public open(): void {\r\n    // Attach the generated component to the current application.\r\n    this._componentFactory.attachToApplication(this._componentRef);\r\n\r\n    if (this.popup.config.isInline) {\r\n      this._componentFactory.moveToElement(this._componentRef, this._element.nativeElement.parentElement);\r\n    } else {\r\n      // Move the generated element to the body to avoid any positioning issues.\r\n      this._componentFactory.moveToDocumentBody(this._componentRef);\r\n    }\r\n\r\n    // Attach a reference to the anchor element. We do it here because IE11 loves to complain.\r\n    this.popup.anchor = this._element;\r\n\r\n    // Add a listener to the document body to handle closing.\r\n    this._documentListener = this._renderer\r\n      .listen('document', 'click', (e: MouseEvent) =>\r\n        this.onDocumentClick(e));\r\n\r\n    // Start popup open transition.\r\n    this.popup.open();\r\n\r\n    // Call lifecyle hook\r\n    const lifecycle = (this as IPopupLifecycle).popupOnOpen;\r\n    if (lifecycle) {\r\n      lifecycle.call(this);\r\n    }\r\n  }\r\n\r\n  public close(): void {\r\n    // Cancel the opening timer to stop the popup opening after close has been called.\r\n    clearTimeout(this._openingTimeout);\r\n\r\n    if (this._componentRef) {\r\n      // Start popup close transition.\r\n      this.popup.close();\r\n    }\r\n\r\n    // Call lifecyle hook\r\n    const lifecycle = (this as IPopupLifecycle).popupOnClose;\r\n    if (lifecycle) {\r\n      lifecycle.call(this);\r\n    }\r\n  }\r\n\r\n  public toggleDelayed(): void {\r\n    // If the popup hasn't been created, or it has but it isn't currently open, open the popup.\r\n    if (!this._componentRef || (this._componentRef && !this.popup.isOpen)) {\r\n      return this.openDelayed();\r\n    }\r\n\r\n    // O'wise, close it.\r\n    return this.close();\r\n  }\r\n\r\n  public toggle(): void {\r\n    // If the popup hasn't been created, or it has but it isn't currently open, open the popup.\r\n    if (!this._componentRef || (this._componentRef && !this.popup.isOpen)) {\r\n      return this.open();\r\n    }\r\n\r\n    // O'wise, close it.\r\n    return this.close();\r\n  }\r\n\r\n  @HostListener('mouseenter')\r\n  public onMouseEnter(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Hover) {\r\n      this.openDelayed();\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave')\r\n  public onMouseLeave(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Hover) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Click ||\r\n      this.popup.config.trigger === PopupTrigger.OutsideClick) {\r\n\r\n      // Repeated clicks require a toggle, rather than just opening the popup each time.\r\n      this.toggleDelayed();\r\n    } else if (this.popup.config.trigger === PopupTrigger.Focus &&\r\n      (!this._componentRef || (this._componentRef && !this.popup.isOpen))) {\r\n      // Repeated clicks with a focus trigger requires an open (as focus isn't ever lost on repeated click).\r\n      this.openDelayed();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusin')\r\n  public onFocusIn(): void {\r\n    if (this.popup.config.trigger === PopupTrigger.Focus) {\r\n      this.openDelayed();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: any): void {\r\n    if (!this._element.nativeElement.contains(e.relatedTarget) &&\r\n      !this.popup.elementRef.nativeElement.contains(e.relatedTarget) &&\r\n      this.popup.config.trigger === PopupTrigger.Focus) {\r\n\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.cleanup();\r\n  }\r\n\r\n  protected cleanup(): void {\r\n    clearTimeout(this._openingTimeout);\r\n\r\n    if (this._componentRef.instance && this._componentRef.instance.positioningService) {\r\n      this._componentRef.instance.positioningService.destroy();\r\n    }\r\n\r\n    this._componentFactory.detachFromApplication(this._componentRef);\r\n\r\n    if (this._documentListener) {\r\n      this._documentListener();\r\n    }\r\n  }\r\n\r\n  private onDocumentClick(e: MouseEvent): void {\r\n    // If the popup trigger is outside click,\r\n    if (this._componentRef && this.popup.config.trigger === PopupTrigger.OutsideClick) {\r\n      const target = e.target as Element;\r\n      // Close the popup if the click is outside of the popup element.\r\n      if (!(this._element.nativeElement as Element).contains(target)) {\r\n        this.close();\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {ComponentRef, ElementRef, Renderer2, Type} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {FuiPopupController} from './popup-controller';\r\nimport {PopupConfig} from './popup-config';\r\n\r\nexport class FuiPopupComponentController<T> extends FuiPopupController {\r\n  // Stores reference to generated content component.\r\n  private _contentComponentRef?: ComponentRef<T>;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              private _component: Type<T>,\r\n              config: PopupConfig) {\r\n\r\n    super(renderer, element, componentFactory, config);\r\n  }\r\n\r\n  public get componentInstance(): T | undefined {\r\n    if (this._contentComponentRef) {\r\n      return this._contentComponentRef.instance;\r\n    }\r\n  }\r\n\r\n  public open(): void {\r\n    if (!this._contentComponentRef) {\r\n      this._contentComponentRef = this._componentFactory.createComponent(this._component as Type<T>);\r\n      this._componentFactory.attachToView(this._contentComponentRef, this.popup.templateSibling);\r\n    }\r\n\r\n    super.open();\r\n  }\r\n\r\n  protected cleanup(): void {\r\n    super.cleanup();\r\n\r\n    if (this._contentComponentRef) {\r\n      this._contentComponentRef.destroy();\r\n      this._contentComponentRef = undefined;\r\n    }\r\n  }\r\n}\r\n","import {ElementRef, Renderer2, TemplateRef} from '@angular/core';\r\nimport {IPopup, FuiPopupController} from './popup-controller';\r\nimport {IImplicitContext, FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IPopupConfig, PopupConfig} from './popup-config';\r\n\r\nconst templateRef = TemplateRef;\r\n\r\nexport interface ITemplatePopupContext<T> extends IImplicitContext<IPopup> {\r\n  context?: T;\r\n}\r\n\r\nexport interface ITemplatePopupConfig<T> extends IPopupConfig {\r\n  template?: TemplateRef<ITemplatePopupContext<T>>;\r\n  context?: T;\r\n}\r\n\r\nexport class TemplatePopupConfig<T> extends PopupConfig {\r\n  public template?: TemplateRef<ITemplatePopupContext<T>>;\r\n  public context?: T;\r\n}\r\n\r\nexport class FuiPopupTemplateController<T> extends FuiPopupController {\r\n  public template?: TemplateRef<ITemplatePopupContext<T>>;\r\n  public context?: T;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              config: PopupConfig) {\r\n\r\n    super(renderer, element, componentFactory, config);\r\n  }\r\n\r\n  public configure(config?: ITemplatePopupConfig<T>): void {\r\n    super.configure(config);\r\n\r\n    if (config) {\r\n      this.template = config.template;\r\n      this.context = config.context;\r\n    }\r\n  }\r\n\r\n  public open(): void {\r\n    // If there is a template, inject it into the view.\r\n    if (this.template) {\r\n      this.popup.templateSibling.clear();\r\n\r\n      this._componentFactory.createView(this.popup.templateSibling, this.template, {\r\n        $implicit: this.popup,\r\n        context: this.context\r\n      });\r\n    }\r\n\r\n    super.open();\r\n  }\r\n}\r\n","import {Component, HostBinding, Input} from '@angular/core';\r\nimport {PositioningPlacement} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-popup-arrow',\r\n  template: `\r\n<div class=\"dynamic arrow\" [attr.direction]=\"direction\" *ngIf=\"alignment == 'center'\"></div>\r\n<div class=\"static arrow\" [attr.direction]=\"direction\" [attr.alignment]=\"alignment\" *ngIf=\"alignment != 'center'\"></div>\r\n`,\r\n  styles: [`\r\n.arrow {\r\n    position: absolute;\r\n    width: 0.71428571em;\r\n    height: 0.71428571em;\r\n    background: #ffffff;\r\n    -webkit-transform: rotate(45deg);\r\n    -ms-transform: rotate(45deg);\r\n    transform: rotate(45deg);\r\n    z-index: 2;\r\n}\r\n\r\n:host.inverted .arrow {\r\n    background: #1b1c1d;\r\n}\r\n\r\n.arrow[direction=\"top\"] {\r\n    bottom: -0.30714286em;\r\n    box-shadow: 1px 1px 0 0 #bababc;\r\n}\r\n\r\n.arrow[direction=\"left\"] {\r\n    right: -0.30714286em;\r\n    box-shadow: 1px -1px 1px 0 #bababc;\r\n}\r\n\r\n.arrow[direction=\"bottom\"] {\r\n    top: -0.30714286em;\r\n    box-shadow: -1px -1px 0 0 #bababc;\r\n}\r\n\r\n.arrow[direction=\"right\"] {\r\n    left: -0.30714286em;\r\n    box-shadow: -1px 1px 1px 0 #bababc;\r\n}\r\n\r\n.static.arrow[direction=\"bottom\"][alignment=\"left\"],\r\n.static.arrow[direction=\"top\"][alignment=\"left\"] {\r\n    left: 1em;\r\n    right: auto;\r\n}\r\n\r\n.static.arrow[direction=\"left\"][alignment=\"top\"],\r\n.static.arrow[direction=\"right\"][alignment=\"top\"] {\r\n    top: 1em;\r\n    bottom: auto;\r\n}\r\n\r\n.static.arrow[direction=\"bottom\"][alignment=\"right\"],\r\n.static.arrow[direction=\"top\"][alignment=\"right\"] {\r\n    left: auto;\r\n    right: 1em;\r\n}\r\n\r\n.static.arrow[direction=\"left\"][alignment=\"bottom\"],\r\n.static.arrow[direction=\"right\"][alignment=\"bottom\"] {\r\n    top: auto;\r\n    bottom: 1em;\r\n}\r\n`]\r\n})\r\nexport class FuiPopupArrow {\r\n  @Input()\r\n  public placement: PositioningPlacement;\r\n\r\n  @HostBinding('class.inverted')\r\n  @Input()\r\n  public inverted: boolean;\r\n\r\n  public get direction(): string | undefined {\r\n    if (this.placement) {\r\n      return this.placement.split(' ').shift();\r\n    }\r\n  }\r\n\r\n  public get alignment(): string | undefined {\r\n    if (this.placement) {\r\n      const alignment = this.placement.split(' ').pop();\r\n      if (alignment === this.direction) {\r\n        return 'center';\r\n      }\r\n      return alignment;\r\n    }\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {PopupConfig} from '../classes/popup-config';\r\n\r\n@Injectable()\r\nexport class FuiPopupConfig extends PopupConfig {\r\n  constructor() {\r\n    // We use an empty constructor to ensure Angular DI works correctly.\r\n    super();\r\n  }\r\n}\r\n","import {Directive, ElementRef, Input, Renderer2, TemplateRef} from '@angular/core';\r\nimport {PositioningPlacement, FuiComponentFactory, Util} from '../../../misc/util/internal';\r\nimport {PopupConfig, PopupSize, PopupTrigger, PopupWidth} from '../classes/popup-config';\r\nimport {FuiPopupConfig} from '../services/popup.service';\r\nimport {ITemplatePopupConfig, ITemplatePopupContext, FuiPopupTemplateController} from '../classes/popup-template-controller';\r\n\r\nconst templateRef = TemplateRef;\r\n\r\n@Directive({\r\n  selector: '[fuiPopup]',\r\n  exportAs: 'fuiPopup'\r\n})\r\nexport class FuiPopupDirective<T> extends FuiPopupTemplateController<T> {\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              popupDefaults: FuiPopupConfig) {\r\n\r\n    super(renderer, element, componentFactory, new PopupConfig(popupDefaults));\r\n  }\r\n\r\n  @Input()\r\n  public set popupHeader(header: string) {\r\n    this.popup.config.header = header;\r\n  }\r\n\r\n  @Input()\r\n  public set popupText(text: string) {\r\n    this.popup.config.text = text;\r\n  }\r\n\r\n  @Input()\r\n  public set popupInverted(inverted: boolean) {\r\n    this.popup.config.isInverted = Util.DOM.parseBooleanAttribute(inverted);\r\n  }\r\n\r\n  @Input()\r\n  public set popupBasic(basic: boolean) {\r\n    this.popup.config.isBasic = Util.DOM.parseBooleanAttribute(basic);\r\n  }\r\n\r\n  @Input()\r\n  public set popupInline(inline: boolean) {\r\n    this.popup.config.isInline = Util.DOM.parseBooleanAttribute(inline);\r\n  }\r\n\r\n  @Input()\r\n  public set popupFlowing(flowing: boolean) {\r\n    this.popup.config.isFlowing = Util.DOM.parseBooleanAttribute(flowing);\r\n  }\r\n\r\n  @Input()\r\n  public set popupTransition(transition: string) {\r\n    this.popup.config.transition = transition;\r\n  }\r\n\r\n  @Input()\r\n  public set popupTransitionDuration(duration: number) {\r\n    this.popup.config.transitionDuration = duration;\r\n  }\r\n\r\n  @Input()\r\n  public set popupPlacement(placement: PositioningPlacement) {\r\n    this.popup.config.placement = placement;\r\n  }\r\n\r\n  @Input()\r\n  public set popupWidth(width: PopupWidth) {\r\n    this.popup.config.width = width;\r\n  }\r\n\r\n  @Input()\r\n  public set popupSize(size: PopupSize) {\r\n    this.popup.config.size = size;\r\n  }\r\n\r\n  @Input()\r\n  public set popupDelay(delay: number) {\r\n    this.popup.config.delay = delay;\r\n  }\r\n\r\n  @Input()\r\n  public get popupTrigger(): PopupTrigger {\r\n    return this.popup.config.trigger;\r\n  }\r\n\r\n  public set popupTrigger(trigger: PopupTrigger) {\r\n    this.popup.config.trigger = trigger;\r\n  }\r\n\r\n  @Input()\r\n  public set popupTemplate(template: TemplateRef<ITemplatePopupContext<T>> | undefined) {\r\n    this.template = template;\r\n  }\r\n\r\n  @Input()\r\n  public set popupTemplateContext(context: T | undefined) {\r\n    this.context = context;\r\n  }\r\n\r\n  @Input()\r\n  public set popupConfig(config: ITemplatePopupConfig<T> | undefined) {\r\n    this.configure(config);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiPopupDirective} from './directives/popup.directive';\r\nimport {FuiPopupArrow} from './components/popup-arrow';\r\nimport {FuiPopup} from './components/popup';\r\nimport {FuiPopupConfig} from './services/popup.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiPopupDirective,\r\n    FuiPopupArrow,\r\n    FuiPopup\r\n  ],\r\n  exports: [\r\n    FuiPopupDirective,\r\n    FuiPopup\r\n  ],\r\n  providers: [\r\n    FuiPopupConfig\r\n  ],\r\n  entryComponents: [\r\n    FuiPopup\r\n  ]\r\n})\r\n\r\nexport class FuiPopupModule {\r\n}\r\n","import {Directive, ElementRef, EventEmitter, HostListener, Input, OnChanges, Output, Renderer2, SimpleChanges} from '@angular/core';\r\nimport {AbstractControl, ValidationErrors} from '@angular/forms';\r\nimport {\r\n  CustomValidator,\r\n  customValidatorFactory,\r\n  CustomValueAccessor,\r\n  customValueAccessorFactory,\r\n  ICustomValidatorHost,\r\n  ICustomValueAccessorHost,\r\n  KeyCode,\r\n  PositioningPlacement,\r\n  FuiComponentFactory\r\n} from '../../../misc/util/internal';\r\nimport {IDatepickerLocaleValues, RecursivePartial, FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {PopupAfterOpen, PopupConfig, PopupTrigger, FuiPopupComponentController} from '../../popup/internal';\r\nimport {DatepickerMode, FuiDatepicker} from '../components/datepicker';\r\nimport {CalendarConfig, DateConfig, DatetimeConfig, MonthConfig, TimeConfig, YearConfig} from '../classes/calendar-config';\r\n\r\n@Directive({\r\n  selector: '[fuiDatepicker]',\r\n  providers: [customValidatorFactory(FuiDatepickerDirective)]\r\n})\r\nexport class FuiDatepickerDirective\r\n  extends FuiPopupComponentController<FuiDatepicker>\r\n  implements ICustomValueAccessorHost<Date>, ICustomValidatorHost, OnChanges, PopupAfterOpen {\r\n\r\n  public config: CalendarConfig;\r\n  @Input('pickerInitialDate')\r\n  public initialDate?: Date;\r\n  @Input('pickerMaxDate')\r\n  public maxDate?: Date;\r\n  @Input('pickerMinDate')\r\n  public minDate?: Date;\r\n  @Input('pickerFirstDayOfWeek')\r\n  public firstDayOfWeek?: number;\r\n  @Input('pickerLocaleOverrides')\r\n  public localeOverrides: RecursivePartial<IDatepickerLocaleValues>;\r\n  @Output('pickerSelectedDateChange')\r\n  public onSelectedDateChange: EventEmitter<Date>;\r\n  @Output('pickerValidatorChange')\r\n  public onValidatorChange: EventEmitter<void>;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              componentFactory: FuiComponentFactory,\r\n              public localizationService: FuiLocalizationService) {\r\n\r\n    super(renderer, element, componentFactory, FuiDatepicker, new PopupConfig({\r\n      trigger: PopupTrigger.Focus,\r\n      placement: PositioningPlacement.BottomLeft,\r\n      transition: 'scale',\r\n      transitionDuration: 200\r\n    }));\r\n\r\n    // This ensures the popup is drawn correctly (i.e. no border).\r\n    this._renderer.addClass(this.popup.elementRef.nativeElement, 'ui');\r\n    this._renderer.addClass(this.popup.elementRef.nativeElement, 'calendar');\r\n\r\n    this.onLocaleUpdate();\r\n    this.localizationService.onLanguageUpdate.subscribe(() => this.onLocaleUpdate());\r\n\r\n    this.onSelectedDateChange = new EventEmitter<Date>();\r\n    this.onValidatorChange = new EventEmitter<void>();\r\n\r\n    this.mode = DatepickerMode.Datetime;\r\n  }\r\n\r\n  @Input('pickerPlacement')\r\n  public set placement(placement: PositioningPlacement) {\r\n    this.popup.config.placement = placement;\r\n  }\r\n\r\n  @Input('pickerTransition')\r\n  public set transition(transition: string) {\r\n    this.popup.config.transition = transition;\r\n  }\r\n\r\n  @Input('pickerTransitionDuration')\r\n  public set transitionDuration(duration: number) {\r\n    this.popup.config.transitionDuration = duration;\r\n  }\r\n\r\n  private _selectedDate?: Date;\r\n\r\n  public get selectedDate(): Date | undefined {\r\n    return this._selectedDate;\r\n  }\r\n\r\n  public set selectedDate(date: Date | undefined) {\r\n    this._selectedDate = date;\r\n    this.onSelectedDateChange.emit(date);\r\n  }\r\n\r\n  private _mode: DatepickerMode;\r\n\r\n  @Input('pickerMode')\r\n  public get mode(): DatepickerMode {\r\n    return this._mode;\r\n  }\r\n\r\n  public set mode(mode: DatepickerMode) {\r\n    this._mode = mode || DatepickerMode.Datetime;\r\n    switch (this._mode) {\r\n      case DatepickerMode.Year:\r\n        this.config = new YearConfig();\r\n        break;\r\n      case DatepickerMode.Month:\r\n        this.config = new MonthConfig();\r\n        break;\r\n      case DatepickerMode.Date:\r\n      default:\r\n        this.config = new DateConfig();\r\n        break;\r\n      case DatepickerMode.Datetime:\r\n        this.config = new DatetimeConfig();\r\n        break;\r\n      case DatepickerMode.Time:\r\n        this.config = new TimeConfig();\r\n        break;\r\n    }\r\n    this.writeValue(this.selectedDate);\r\n  }\r\n\r\n  private _localeValues: IDatepickerLocaleValues;\r\n\r\n  public get localeValues(): IDatepickerLocaleValues {\r\n    return this.localizationService.override<'datepicker'>(this._localeValues, this.localeOverrides);\r\n  }\r\n\r\n  public popupOnOpen(): void {\r\n    if (this.componentInstance) {\r\n      this.componentInstance.service.config = this.config;\r\n      this.componentInstance.service.localeValues = this.localeValues;\r\n      this.componentInstance.service.currentDate = this.initialDate || new Date();\r\n      this.componentInstance.service.selectedDate = this.selectedDate;\r\n      this.componentInstance.service.maxDate = this.maxDate;\r\n      this.componentInstance.service.minDate = this.minDate;\r\n\r\n      if (this.firstDayOfWeek != undefined) {\r\n        this.componentInstance.service.firstDayOfWeek = this.firstDayOfWeek;\r\n      }\r\n\r\n      this.componentInstance.service.reset();\r\n\r\n      this.componentInstance.service.onDateChange.subscribe((d: Date) => {\r\n        this.selectedDate = d;\r\n        this.close();\r\n      });\r\n    }\r\n  }\r\n\r\n  public ngOnChanges({maxDate, minDate, mode}: SimpleChanges): void {\r\n    if (maxDate || minDate || mode) {\r\n      this.onValidatorChange.emit();\r\n    }\r\n  }\r\n\r\n  public validate(c: AbstractControl): ValidationErrors | null {\r\n    const value = c.value;\r\n\r\n    if (value != undefined) {\r\n      // We post process the min & max date because sometimes this puts the date outside of the allowed range.\r\n      if (this.minDate && value < this.minDate) {\r\n        return {fuiMinDate: {required: this.minDate, actual: value}};\r\n      }\r\n\r\n      if (this.maxDate && value > this.maxDate) {\r\n        return {fuiMaxDate: {required: this.maxDate, actual: value}};\r\n      }\r\n    }\r\n\r\n    // Angular expects null\r\n    // tslint:disable-next-line:no-null-keyword\r\n    return null;\r\n  }\r\n\r\n  public writeValue(value: Date | undefined): void {\r\n    this.selectedDate = value;\r\n\r\n    if (this.componentInstance) {\r\n      this.componentInstance.service.selectedDate = value;\r\n    }\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  public onKeyDown(e: KeyboardEvent): void {\r\n    if (e.keyCode === KeyCode.Escape) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  private onLocaleUpdate(): void {\r\n    this._localeValues = this.localizationService.get().datepicker;\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[fuiDatepicker]',\r\n  host: {'(pickerSelectedDateChange)': 'onChange($event)'},\r\n  providers: [customValueAccessorFactory(FuiDatepickerDirectiveValueAccessor)]\r\n})\r\nexport class FuiDatepickerDirectiveValueAccessor extends CustomValueAccessor<Date, FuiDatepickerDirective> {\r\n  constructor(public host: FuiDatepickerDirective) {\r\n    super(host);\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[fuiDatepicker]',\r\n  host: {'(pickerValidatorChange)': 'onValidatorChange()'},\r\n  providers: [customValidatorFactory(FuiDatepickerDirectiveValidator)]\r\n})\r\nexport class FuiDatepickerDirectiveValidator extends CustomValidator<FuiDatepickerDirective> {\r\n  constructor(public host: FuiDatepickerDirective) {\r\n    super(host);\r\n  }\r\n}\r\n","import {Directive, ElementRef, Host, HostBinding, HostListener, Input, Renderer2} from '@angular/core';\r\nimport {DateUtil} from '../../../misc/util/internal';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {PopupTrigger} from '../../popup/internal';\r\nimport {FuiDatepickerDirective, FuiDatepickerDirectiveValueAccessor} from './datepicker.directive';\r\nimport {DateParser, InternalDateParser} from '../classes/date-parser';\r\n\r\n@Directive({\r\n  selector: 'input[fuiDatepicker]'\r\n})\r\nexport class FuiDatepickerInputDirective {\r\n\r\n  private _currentInputValue: string | undefined;\r\n  private _lastUpdateTyped: boolean;\r\n\r\n  constructor(@Host() public datepicker: FuiDatepickerDirective,\r\n              @Host() public valueAccessor: FuiDatepickerDirectiveValueAccessor,\r\n              private _renderer: Renderer2,\r\n              private _element: ElementRef,\r\n              localizationService: FuiLocalizationService) {\r\n\r\n    this.useNativeOnMobile = true;\r\n    this.fallbackActive = false;\r\n\r\n    // Whenever the datepicker value updates, update the input text alongside it.\r\n    this.datepicker.onSelectedDateChange.subscribe(() =>\r\n      this.updateValue(this.selectedDateString));\r\n\r\n    localizationService.onLanguageUpdate.subscribe(() =>\r\n      this.updateValue(this.selectedDateString));\r\n  }\r\n\r\n  public get parser(): DateParser {\r\n    if (this.fallbackActive) {\r\n      return new InternalDateParser(this.datepicker.mode, this.datepicker.localeValues);\r\n    }\r\n    return new DateParser(this.datepicker.localeValues.formats[this.datepicker.mode], this.datepicker.localeValues);\r\n  }\r\n\r\n  public get selectedDateString(): string | undefined {\r\n    if (this.datepicker.selectedDate) {\r\n      return this.parser.format(this.datepicker.selectedDate);\r\n    }\r\n  }\r\n\r\n  @HostBinding('attr.type')\r\n  public get type(): string {\r\n    if (this.fallbackActive) {\r\n      return this.datepicker.config.fallback;\r\n    }\r\n    return 'text';\r\n  }\r\n\r\n  @HostBinding('attr.max')\r\n  public get max(): string | undefined {\r\n    if (this.fallbackActive && this.datepicker.maxDate) {\r\n      // Since HTML doesn't use a date object max is somewhat tricky.\r\n      // Our Datepicker will always choose the 1st date on the provided precision,\r\n      // meaning anything below the maxDate will work, hence endOf.\r\n      const max = DateUtil.endOf(this.datepicker.config.precision, DateUtil.clone(this.datepicker.maxDate));\r\n      return this.parser.format(max);\r\n    }\r\n  }\r\n\r\n  @HostBinding('attr.min')\r\n  public get min(): string | undefined {\r\n    if (this.fallbackActive && this.datepicker.minDate) {\r\n      // Since HTML doesn't use a date object min is somewhat tricky.\r\n      // We use 1 minute before the next date at the configured precision since\r\n      // our Datepicker picks the first available date at that precision.\r\n      const min = DateUtil.clone(this.datepicker.minDate);\r\n      return this.parser.format(min);\r\n    }\r\n  }\r\n\r\n  private _useNativeOnMobile: boolean;\r\n\r\n  @Input('pickerUseNativeOnMobile')\r\n  public get useNativeOnMobile(): boolean {\r\n    return this._useNativeOnMobile;\r\n  }\r\n\r\n  public set useNativeOnMobile(fallback: boolean) {\r\n    this._useNativeOnMobile = fallback;\r\n    const isOnMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent);\r\n    this.fallbackActive = this.useNativeOnMobile && isOnMobile;\r\n  }\r\n\r\n  private _fallbackActive: boolean;\r\n\r\n  public get fallbackActive(): boolean {\r\n    return this._fallbackActive;\r\n  }\r\n\r\n  public set fallbackActive(active: boolean) {\r\n    this._fallbackActive = active;\r\n    // If the fallback is active, then the trigger must be manual so the datepicker never opens.\r\n    this.datepicker.popup.config.trigger = this.fallbackActive ? PopupTrigger.Manual : PopupTrigger.Focus;\r\n    // Update the input value (this will insert the `T` as required).\r\n    this.updateValue(this.selectedDateString);\r\n  }\r\n\r\n  @HostListener('input', ['$event.target.value'])\r\n  public typeValue(value: string | undefined): void {\r\n    this._lastUpdateTyped = true;\r\n    this._currentInputValue = value;\r\n\r\n    if (!value) {\r\n      // Delete the selected date if no date was entered manually.\r\n      return this.datepicker.writeValue(undefined);\r\n    }\r\n\r\n    const parsed = this.parser.parse(value, this.datepicker.selectedDate);\r\n    if (!isNaN(parsed.getTime()) && value === this.parser.format(parsed)) {\r\n      return this.datepicker.writeValue(parsed);\r\n    }\r\n    return this.datepicker.writeValue(undefined);\r\n  }\r\n\r\n  @HostListener('focusout')\r\n  public onFocusOut(): void {\r\n    this.valueAccessor.onTouched();\r\n  }\r\n\r\n  private updateValue(value: string | undefined): void {\r\n    // Only update the current value if it is different to what it's being updated to.\r\n    // This is so that the editing position isn't changed when manually typing the date.\r\n    if (!this._lastUpdateTyped) {\r\n      this._renderer.setProperty(this._element.nativeElement, 'value', value || '');\r\n    }\r\n\r\n    this._lastUpdateTyped = false;\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision, DateUtil} from '../../../misc/util/internal';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeDateService extends CalendarRangeService {\r\n  public calcStart(start: Date): Date {\r\n    const monthStart = DateUtil.startOf(DatePrecision.Month, DateUtil.clone(start));\r\n    monthStart.setDate((1 - monthStart.getDay() + this.service.firstDayOfWeek - 7) % 7);\r\n    return monthStart;\r\n  }\r\n\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = item.date.getDate().toString();\r\n    item.isOutsideRange = item.date.getMonth() !== baseDate.getMonth();\r\n    item.isSelectable = item.isDisabled;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-date-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table seven column day\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"7\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ date }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n    <tr>\r\n        <th *ngFor=\"let day of days\">{{ day }}</th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarDateView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Date, new CalendarRangeDateService(DatePrecision.Month, 6, 7));\r\n  }\r\n\r\n  public get days(): string[] {\r\n    const days = this.service.localeValues.weekdaysNarrow;\r\n    return days.map((d, i) => days[(i + this.service.firstDayOfWeek) % days.length]);\r\n  }\r\n\r\n  public get date(): string {\r\n    return new DateParser(this.service.localeValues.formats.month, this.service.localeValues).format(this.currentDate);\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeHourService extends CalendarRangeService {\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    // Set minutes and seconds to 0\r\n    const customFormat: string = this.service.localeValues.formats.time.replace(/[ms]/g, '0');\r\n    item.humanReadable = new DateParser(customFormat, this.service.localeValues).format(item.date);\r\n    item.isOutsideRange = false;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-hour-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table four column hour\">\r\n<thead *ngIf=\"service.config.mode != 1\">\r\n    <tr>\r\n        <th colspan=\"4\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ date }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarHourView extends CalendarView {\r\n\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Hour, new CalendarRangeHourService(DatePrecision.Date, 6, 4));\r\n  }\r\n\r\n  public get date(): string {\r\n    return new DateParser(this.service.localeValues.formats.date, this.service.localeValues).format(this.currentDate);\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarMode} from '../services/calendar.service';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeMinuteService extends CalendarRangeService {\r\n  public calcStart(start: Date): Date {\r\n    return DateUtil.startOf(DatePrecision.Hour, DateUtil.clone(start), true);\r\n  }\r\n\r\n  public calcDates(start: Date): Date[] {\r\n    return Util.Array\r\n      .range(this.length)\r\n      .map(i => DateUtil.add(DatePrecision.Minute, DateUtil.clone(start), i * 5));\r\n  }\r\n\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = new DateParser(this.service.localeValues.formats.time, this.service.localeValues).format(item.date);\r\n    item.isOutsideRange = false;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-minute-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table three column minute\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"4\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ date }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarMinuteView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Minute, new CalendarRangeMinuteService(DatePrecision.Hour, 4, 3));\r\n  }\r\n\r\n  public get date(): string {\r\n    if (this.service.config.mode !== CalendarMode.TimeOnly) {\r\n      // Set minutes and seconds to 0\r\n      const dateTimeFormat: string = this.service.localeValues.formats.datetime.replace(/[ms]/g, '0');\r\n      return new DateParser(dateTimeFormat, this.service.localeValues).format(this.currentDate);\r\n    } else {\r\n      // Set minutes and seconds to 0\r\n      const timeFormat: string = this.service.localeValues.formats.time.replace(/[ms]/g, '0');\r\n      return new DateParser(timeFormat, this.service.localeValues).format(this.currentDate);\r\n    }\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\nimport {DateParser} from '../classes/date-parser';\r\n\r\nexport class CalendarRangeMonthService extends CalendarRangeService {\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = this.service.localeValues.monthsShort[item.date.getMonth()];\r\n    item.isOutsideRange = false;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-month-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table three column month\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"3\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ year }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarMonthView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Month, new CalendarRangeMonthService(DatePrecision.Year, 4, 3));\r\n  }\r\n\r\n  public get year(): string {\r\n    return new DateParser(this.service.localeValues.formats.year, this.service.localeValues).format(this.currentDate);\r\n  }\r\n}\r\n","import {Component, Renderer2} from '@angular/core';\r\nimport {DatePrecision, DateUtil, Util} from '../../../misc/util/internal';\r\nimport {CalendarView, CalendarViewType} from './calendar-view';\r\nimport {CalendarItem} from '../directives/calendar-item';\r\nimport {CalendarRangeService} from '../services/calendar-range.service';\r\n\r\nexport class CalendarRangeYearService extends CalendarRangeService {\r\n  public configureItem(item: CalendarItem, baseDate: Date): void {\r\n    item.humanReadable = Util.String.padLeft(item.date.getFullYear().toString(), 4, '0');\r\n    item.isOutsideRange = item.date.getFullYear() >= this.calcStart(baseDate).getFullYear() + 10;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-calendar-year-view',\r\n  template: `\r\n<table class=\"ui celled center aligned unstackable table three column year\">\r\n<thead>\r\n    <tr>\r\n        <th colspan=\"3\">\r\n            <fui-calendar-view-title [ranges]=\"ranges\" (zoomOut)=\"zoomOut()\">\r\n                {{ pad(decadeStart) }} - {{ pad(decadeStart + 10) }}\r\n            </fui-calendar-view-title>\r\n        </th>\r\n    </tr>\r\n</thead>\r\n<tbody>\r\n    <tr *ngFor=\"let group of ranges.current.groupedItems\">\r\n        <td class=\"link\"\r\n            *ngFor=\"let item of group\"\r\n            [calendarItem]=\"item\"\r\n            (click)=\"setDate(item)\">{{ item.humanReadable }}\r\n        </td>\r\n    </tr>\r\n</tbody>\r\n</table>\r\n`\r\n})\r\nexport class FuiCalendarYearView extends CalendarView {\r\n  constructor(renderer: Renderer2) {\r\n    super(renderer, CalendarViewType.Year, new CalendarRangeYearService(DatePrecision.Decade, 4, 3));\r\n  }\r\n\r\n  public get decadeStart(): number {\r\n    return DateUtil\r\n      .startOf(DatePrecision.Decade, DateUtil.clone(this.service.currentDate))\r\n      .getFullYear();\r\n  }\r\n\r\n  public pad(year: number): string {\r\n    return Util.String.padLeft(year.toString(), 4, '0');\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiPopupModule} from '../popup/internal';\r\nimport {FuiLocalizationModule} from '../../behaviors/localization/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiCalendarViewTitle} from './components/calendar-view-title';\r\nimport {FuiCalendarYearView} from './views/year-view';\r\nimport {FuiCalendarMonthView} from './views/month-view';\r\nimport {FuiCalendarItem} from './directives/calendar-item';\r\nimport {FuiCalendarDateView} from './views/date-view';\r\nimport {FuiDatepicker} from './components/datepicker';\r\nimport {FuiCalendarHourView} from './views/hour-view';\r\nimport {FuiCalendarMinuteView} from './views/minute-view';\r\nimport {FuiDatepickerInputDirective} from './directives/input.directive';\r\nimport {\r\n  FuiDatepickerDirective,\r\n  FuiDatepickerDirectiveValidator,\r\n  FuiDatepickerDirectiveValueAccessor\r\n} from './directives/datepicker.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FuiPopupModule,\r\n    FuiLocalizationModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiCalendarItem,\r\n\r\n    FuiCalendarViewTitle,\r\n    FuiCalendarYearView,\r\n    FuiCalendarMonthView,\r\n    FuiCalendarDateView,\r\n    FuiCalendarHourView,\r\n    FuiCalendarMinuteView,\r\n\r\n    FuiDatepicker,\r\n    FuiDatepickerDirective,\r\n    FuiDatepickerDirectiveValueAccessor,\r\n    FuiDatepickerDirectiveValidator,\r\n    FuiDatepickerInputDirective\r\n  ],\r\n  exports: [\r\n    FuiDatepickerDirective,\r\n    FuiDatepickerDirectiveValueAccessor,\r\n    FuiDatepickerDirectiveValidator,\r\n    FuiDatepickerInputDirective\r\n  ],\r\n  entryComponents: [\r\n    FuiDatepicker\r\n  ]\r\n})\r\nexport class FuiDatepickerModule {\r\n}\r\n","import {ChangeDetectorRef, Component, ElementRef, EventEmitter, HostBinding, HostListener, Input, Output, Renderer2} from '@angular/core';\r\nimport {FuiTransition, Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\n\r\n@Component({\r\n  selector: 'fui-dimmer',\r\n  template: `\r\n<div [class.content]=\"wrapContent\">\r\n    <ng-content></ng-content>\r\n</div>\r\n`,\r\n  styles: [`\r\n:host.dimmer:not(.hidden) {\r\n    transition: none;\r\n    display: flex !important;\r\n}\r\n`]\r\n})\r\nexport class FuiDimmer extends FuiTransition {\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.dimmer')\r\n  public readonly hasClasses: boolean;\r\n  @Output()\r\n  public isDimmedChange: EventEmitter<boolean>;\r\n  @Input()\r\n  public isClickable: boolean;\r\n  @Input()\r\n  public transition: string;\r\n  @Input()\r\n  public transitionDuration: number;\r\n  /* Internal for now */\r\n  @Input()\r\n  public wrapContent: boolean;\r\n  private _transitionController: TransitionController;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, changeDetector: ChangeDetectorRef) {\r\n    super(renderer, element, changeDetector);\r\n\r\n    this._isDimmed = false;\r\n    this.isDimmedChange = new EventEmitter<boolean>();\r\n    this.isClickable = true;\r\n\r\n    this.wrapContent = true;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  private _isDimmed: boolean;\r\n\r\n  @HostBinding('class.active')\r\n  @Input()\r\n  public get isDimmed(): boolean {\r\n    return this._isDimmed;\r\n  }\r\n\r\n  public set isDimmed(value: boolean) {\r\n    const isDimmed = !!value;\r\n\r\n    if (!this._transitionController) {\r\n      // Initialise transition functionality when first setting dimmed, to ensure initial state doesn't transition.\r\n      this._transitionController = new TransitionController(isDimmed, 'block');\r\n\r\n      this.setTransitionController(this._transitionController);\r\n\r\n      this._isDimmed = isDimmed;\r\n    } else if (this._isDimmed !== isDimmed) {\r\n\r\n      this._isDimmed = isDimmed;\r\n\r\n      this._transitionController.stopAll();\r\n      this._transitionController.animate(\r\n        new Transition('fade', this.transitionDuration, isDimmed ? TransitionDirection.In : TransitionDirection.Out));\r\n    }\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (this.isClickable) {\r\n      this.isDimmed = false;\r\n      this.isDimmedChange.emit(this.isDimmed);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiDimmer} from './components/dimmer';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule\r\n  ],\r\n  declarations: [\r\n    FuiDimmer\r\n  ],\r\n  exports: [\r\n    FuiDimmer\r\n  ]\r\n})\r\nexport class FuiDimmerModule {\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\n\r\nexport type DropdownAutoCloseType = 'itemClick' | 'outsideClick' | 'disabled';\r\n\r\n// Creates essentially a 'string' enum.\r\nexport const DropdownAutoCloseType = {\r\n  ItemClick: 'itemClick' as DropdownAutoCloseType,\r\n  OutsideClick: 'outsideClick' as DropdownAutoCloseType,\r\n  Disabled: 'disabled' as DropdownAutoCloseType\r\n};\r\n\r\nexport class DropdownService {\r\n  // Open state of the dropdown\r\n  public isOpen: boolean;\r\n  // Animating state of the dropdown.\r\n  public isAnimating: boolean;\r\n  // Emitter for when dropdown open state changes.\r\n  public isOpenChange: EventEmitter<boolean>;\r\n\r\n  public isDisabled: boolean;\r\n\r\n  // Sets the \"autoclose\" mode of the dropdown - i.e. what user action causes it to autoclose.\r\n  public autoCloseMode: DropdownAutoCloseType;\r\n\r\n  // Keep track of the containing dropdown so we can open it as necessary.\r\n  public parent?: DropdownService;\r\n  // Also keep track of dropdowns nested in this one so we can close them as necessary.\r\n  public children: DropdownService[];\r\n\r\n  constructor(autoCloseMode: DropdownAutoCloseType = DropdownAutoCloseType.ItemClick) {\r\n    this.isOpen = false;\r\n    this.isOpenChange = new EventEmitter<boolean>();\r\n\r\n    this.isDisabled = false;\r\n\r\n    this.autoCloseMode = autoCloseMode;\r\n\r\n    this.children = [];\r\n  }\r\n\r\n  public get isNested(): boolean {\r\n    return !!this.parent;\r\n  }\r\n\r\n  public setOpenState(isOpen: boolean, reflectInParent: boolean = false): void {\r\n    if (this.isOpen !== isOpen && !this.isDisabled) {\r\n      // Only update the state if it has changed, and the dropdown isn't disabled.\r\n      this.isOpen = !!isOpen;\r\n      this.isAnimating = true;\r\n      // We must delay the emitting to avoid the 'changed after checked' Angular errors.\r\n      this.delay(() => this.isOpenChange.emit(this.isOpen));\r\n\r\n      if (!this.isOpen) {\r\n        // Close the child dropdowns when this one closes.\r\n        this.children.forEach(c => c.setOpenState(this.isOpen));\r\n      }\r\n\r\n      if (this.parent && reflectInParent) {\r\n        // Open the parent dropdowns when this one opens.\r\n        this.parent.setOpenState(this.isOpen, true);\r\n      }\r\n    } else if (this.isOpen !== isOpen && this.isDisabled) {\r\n      // If the state has changed, but the dropdown is disabled, re-emit the original isOpen value.\r\n      this.delay(() => this.isOpenChange.emit(this.isOpen));\r\n    }\r\n  }\r\n\r\n  public setDisabledState(isDisabled: boolean): void {\r\n    if (this.isDisabled !== isDisabled) {\r\n      if (!!isDisabled) {\r\n        // Close the dropdown as it is now disabled\r\n        this.setOpenState(false);\r\n      }\r\n\r\n      this.isDisabled = !!isDisabled;\r\n    }\r\n  }\r\n\r\n  public toggleOpenState(): void {\r\n    this.setOpenState(!this.isOpen);\r\n  }\r\n\r\n  // Registers a dropdown service as a child of this service.\r\n  public registerChild(child: DropdownService): void {\r\n    if (!this.isChildRegistered(child)) {\r\n      this.children.push(child);\r\n      child.parent = this;\r\n    }\r\n  }\r\n\r\n  // Recursive method to check if the provided dropdown is already registered as a child, or is a descendant of a child.\r\n  public isChildRegistered(child: DropdownService): boolean {\r\n    return this === child || !!this.children\r\n      .find(c => !!c.children\r\n        .find(cChild => cChild.isChildRegistered(child)));\r\n  }\r\n\r\n  // Wipes any nested data, so all services can be cleanly reattached.\r\n  public clearChildren(): void {\r\n    this.children.forEach(c => {\r\n      c.parent = undefined;\r\n    });\r\n    this.children = [];\r\n  }\r\n\r\n  // Method for delaying an event into the next tick, to avoid Angular \"changed after checked\" error.\r\n  private delay(callback: () => void): void {\r\n    setTimeout(() => callback());\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ChangeDetectorRef,\r\n  ContentChild,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  forwardRef,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  QueryList,\r\n  Renderer2\r\n} from '@angular/core';\r\nimport {FuiTransition, Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {HandledEvent, IAugmentedElement, KeyCode} from '../../../misc/util/internal';\r\nimport {DropdownAutoCloseType, DropdownService} from '../services/dropdown.service';\r\n// Polyfill for IE\r\nimport 'element-closest';\r\n\r\n@Directive({\r\n  // We must attach to every '.item' as Angular doesn't support > selectors.\r\n  selector: '.item'\r\n})\r\nexport class FuiDropdownMenuItem {\r\n\r\n  // Stores the class name used for a 'selected' item.\r\n  public selectedClass: string;\r\n  @ContentChild(forwardRef(() => FuiDropdownMenu), {static: false})\r\n  public childDropdownMenu: FuiDropdownMenu;\r\n\r\n  constructor(private _renderer: Renderer2, public element: ElementRef) {\r\n    this.isSelected = false;\r\n\r\n    this.selectedClass = 'selected';\r\n  }\r\n\r\n  public get isDisabled(): boolean {\r\n    // We must use nativeElement as Angular doesn't have a way of reading class information.\r\n    const element = this.element.nativeElement as Element;\r\n    return element.classList.contains('disabled');\r\n  }\r\n\r\n  public get hasChildDropdown(): boolean {\r\n    return !!this.childDropdownMenu;\r\n  }\r\n\r\n  private _isSelected: boolean;\r\n\r\n  public get isSelected(): boolean {\r\n    return this._isSelected;\r\n  }\r\n\r\n  public set isSelected(value: boolean) {\r\n    // Renderer is used to enable a dynamic class name.\r\n    if (value) {\r\n      this._renderer.addClass(this.element.nativeElement, this.selectedClass);\r\n    } else {\r\n      this._renderer.removeClass(this.element.nativeElement, this.selectedClass);\r\n    }\r\n  }\r\n\r\n  public performClick(): void {\r\n    // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n    this.element.nativeElement.click();\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: '[fuiDropdownMenu]'\r\n})\r\nexport class FuiDropdownMenu extends FuiTransition implements AfterContentInit, OnDestroy {\r\n\r\n  @Input()\r\n  public menuTransition: string;\r\n\r\n  // Stack that keeps track of the currently selected item.\r\n  @Input()\r\n  public menuTransitionDuration: number;\r\n  // Selected items lower in the stack are necessarily the parent of the item one higher.\r\n  public selectedItems: FuiDropdownMenuItem[];\r\n  // Sets whether or not to automatically select the 1st item when the dropdown is opened.\r\n  @Input()\r\n  public menuAutoSelectFirst: boolean;\r\n  @Input()\r\n  public menuSelectedItemClass: string;\r\n  private _transitionController: TransitionController;\r\n  @ContentChildren(FuiDropdownMenuItem)\r\n  private _itemsQueryInternal: QueryList<FuiDropdownMenuItem>;\r\n  private _itemsQueryOverride: QueryList<FuiDropdownMenuItem>;\r\n  private _parentKeyDownListener: () => void;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, changeDetector: ChangeDetectorRef) {\r\n    super(renderer, element, changeDetector);\r\n\r\n    // Initialise transition functionality.\r\n    this._transitionController = new TransitionController(false);\r\n    this.setTransitionController(this._transitionController);\r\n\r\n    this.menuTransition = 'slide down';\r\n    this.menuTransitionDuration = 200;\r\n\r\n    this.menuAutoSelectFirst = false;\r\n    this.menuSelectedItemClass = 'selected';\r\n\r\n    // In case the dropdown menu is destroyed before it has a chance to be fully initialised.\r\n    this._parentKeyDownListener = () => {\r\n    };\r\n  }\r\n\r\n  public set parentElement(value: ElementRef) {\r\n    this._parentKeyDownListener = this._renderer\r\n      .listen(value.nativeElement, 'keydown', (e: KeyboardEvent) =>\r\n        this.onParentKeyDown(e));\r\n  }\r\n\r\n  public set items(items: QueryList<FuiDropdownMenuItem>) {\r\n    this._itemsQueryOverride = items;\r\n  }\r\n\r\n  private _service: DropdownService;\r\n\r\n  public get service(): DropdownService {\r\n    return this._service;\r\n  }\r\n\r\n  public set service(value: DropdownService) {\r\n    this._service = value;\r\n\r\n    let previousIsOpen = this._service.isOpen;\r\n    this._service.isOpenChange.subscribe((isOpen: boolean) => {\r\n      if (isOpen !== previousIsOpen) {\r\n        // Only run transitions if the open state has changed.\r\n        this._transitionController.stopAll();\r\n        this._transitionController.animate(\r\n          new Transition(\r\n            this.menuTransition,\r\n            this.menuTransitionDuration,\r\n            TransitionDirection.Either,\r\n            () => this._service.isAnimating = false));\r\n      }\r\n\r\n      if (!isOpen) {\r\n        // Reset the item selections when a nested item is selected to avoid incosistent open states.\r\n        if (this.selectedItems.length > 1) {\r\n          this.resetSelection();\r\n        }\r\n      }\r\n\r\n      previousIsOpen = isOpen;\r\n    });\r\n  }\r\n\r\n  private get _itemsQuery(): QueryList<FuiDropdownMenuItem> {\r\n    return this._itemsQueryOverride || this._itemsQueryInternal;\r\n  }\r\n\r\n  // Get the list of items, ignoring those that are disabled.\r\n  private get _items(): FuiDropdownMenuItem[] {\r\n    return this._itemsQuery.filter(i => !i.isDisabled);\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent & MouseEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n\r\n      if (this._service.autoCloseMode === DropdownAutoCloseType.ItemClick) {\r\n        const target = e.target as IAugmentedElement;\r\n        if (this._element.nativeElement.contains(target.closest('.item')) && !/input|textarea/i.test(target.tagName)) {\r\n          // Once an item is selected, we can close the entire dropdown.\r\n          this._service.setOpenState(false, true);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public onParentKeyDown(e: KeyboardEvent): void {\r\n    // Only the root dropdown (i.e. not nested dropdowns) is responsible for keeping track of the currently selected item.\r\n    if (this._service && this._service.isOpen && !this._service.isNested) {\r\n      // Stop document events like scrolling while open.\r\n      const target = e.target as Element;\r\n      if (!/input/i.test(target.tagName) &&\r\n        [KeyCode.Escape, KeyCode.Enter, KeyCode.Up, KeyCode.Down, KeyCode.Left, KeyCode.Right].find(kC => kC === e.keyCode)) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      // Gets the top selected item from the stack.\r\n      const [selected] = this.selectedItems.slice(-1);\r\n      // Keeping track of the menu containing the currently selected element allows us to easily determine its siblings.\r\n      let selectedContainer: FuiDropdownMenu = this;\r\n      if (this.selectedItems.length >= 2) {\r\n        const [selectedParent] = this.selectedItems.slice(-2);\r\n        selectedContainer = selectedParent.childDropdownMenu;\r\n      }\r\n\r\n      switch (e.keyCode) {\r\n        // Escape : close the entire dropdown.\r\n        case KeyCode.Escape: {\r\n          this._service.setOpenState(false);\r\n          break;\r\n        }\r\n        // Down : select the next item below the current one, or the 1st if none selected.\r\n        case KeyCode.Down:\r\n        // Up : select the next item above the current one, or the 1st if none selected.\r\n        case KeyCode.Up: {\r\n          this.selectedItems.pop();\r\n          this.selectedItems.push(selectedContainer.updateSelection(selected, e.keyCode));\r\n          // Prevent default regardless of whether we are in an input, to stop jumping to the start or end of the query string.\r\n          e.preventDefault();\r\n          break;\r\n        }\r\n        // Enter : if the item doesn't contain a nested dropdown, 'click' it. Otherwise, fall through to 'Right' action.\r\n        case KeyCode.Enter: {\r\n          if (selected && !selected.hasChildDropdown) {\r\n            selected.performClick();\r\n            break;\r\n          }\r\n        }\r\n        // falls through\r\n        // Right : if the selected item contains a nested dropdown, open the dropdown & select the 1st item.\r\n        case KeyCode.Right: {\r\n          if (selected && selected.hasChildDropdown) {\r\n            selected.childDropdownMenu.service.setOpenState(true);\r\n\r\n            this.selectedItems.push(selected.childDropdownMenu.updateSelection(selected, e.keyCode));\r\n          }\r\n          break;\r\n        }\r\n        // Left : if the selected item is in a nested dropdown, close it and select the containing item.\r\n        case KeyCode.Left: {\r\n          if (this.selectedItems.length >= 2) {\r\n            this.selectedItems.pop();\r\n            const [selectedParent] = this.selectedItems.slice(-1);\r\n\r\n            selectedParent.childDropdownMenu.service.setOpenState(false);\r\n            selectedParent.isSelected = true;\r\n          }\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public resetSelection(): void {\r\n    this.selectedItems = [];\r\n    this._items.forEach(i => {\r\n      i.selectedClass = this.menuSelectedItemClass;\r\n      i.isSelected = false;\r\n    });\r\n\r\n    if (this.menuAutoSelectFirst && this._items.length > 0) {\r\n      // Autoselect 1st item if required & possible.\r\n      this._items[0].isSelected = true;\r\n      this.scrollToItem(this._items[0]);\r\n      this.selectedItems.push(this._itemsQuery.first);\r\n    }\r\n  }\r\n\r\n  // Determines the item to next be selected, based on the keyboard input & the currently selected item.\r\n  public updateSelection(selectedItem: FuiDropdownMenuItem, keyCode: KeyCode): FuiDropdownMenuItem {\r\n    if (selectedItem) {\r\n      // Remove the selected status on the previously selected item.\r\n      selectedItem.isSelected = false;\r\n    }\r\n\r\n    let selectedIndex = this._items\r\n      .findIndex(i => i === selectedItem);\r\n\r\n    let newSelection: FuiDropdownMenuItem;\r\n\r\n    switch (keyCode) {\r\n      case KeyCode.Enter:\r\n      case KeyCode.Right:\r\n      case KeyCode.Down:\r\n        selectedIndex += 1;\r\n        break;\r\n      case KeyCode.Up:\r\n        if (selectedIndex === -1) {\r\n          // If none are selected, select the 1st item. Should this be `this.items.last - 1`?\r\n          selectedIndex = 0;\r\n          break;\r\n        }\r\n\r\n        selectedIndex -= 1;\r\n        break;\r\n    }\r\n\r\n    // Select the item at the updated index. The || is to stop us selecting past the start or end of the item list.\r\n    newSelection = this._items[selectedIndex] || selectedItem;\r\n\r\n    if (newSelection) {\r\n      // Set the selected status on the newly selected item.\r\n      newSelection.isSelected = true;\r\n\r\n      // Set the current scroll position to the location of the newly selected item.\r\n      this.scrollToItem(newSelection);\r\n    }\r\n\r\n    return newSelection;\r\n  }\r\n\r\n  public scrollToItem(item: FuiDropdownMenuItem): void {\r\n    const menu: Element = this._element.nativeElement;\r\n    const selectedRect: ClientRect = item.element.nativeElement.getBoundingClientRect();\r\n\r\n    const menuRect = menu.getBoundingClientRect();\r\n\r\n    let scrollAmount = 0;\r\n\r\n    if (selectedRect.bottom > menuRect.bottom) {\r\n      scrollAmount = selectedRect.bottom - menuRect.bottom;\r\n    }\r\n\r\n    if (selectedRect.top < menuRect.top) {\r\n      scrollAmount = selectedRect.top - menuRect.top;\r\n    }\r\n\r\n    menu.scrollTop += Math.round(scrollAmount);\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this.onItemsChanged();\r\n    this._itemsQuery.changes.subscribe(() => this.onItemsChanged());\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._parentKeyDownListener();\r\n  }\r\n\r\n  private onItemsChanged(): void {\r\n    // We use `_items` rather than `items` in case one or more have become disabled.\r\n    this.resetSelection();\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ContentChild,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  QueryList\r\n} from '@angular/core';\r\nimport {HandledEvent, IFocusEvent, KeyCode} from '../../../misc/util/internal';\r\nimport {DropdownAutoCloseType, DropdownService} from '../services/dropdown.service';\r\nimport {FuiDropdownMenu} from './dropdown-menu';\r\n\r\n@Directive({\r\n  selector: '[fuiDropdown]'\r\n})\r\nexport class FuiDropdown implements AfterContentInit {\r\n\r\n  public service: DropdownService;\r\n  @ContentChild(FuiDropdownMenu, {static: false})\r\n  private _menu: FuiDropdownMenu;\r\n\r\n  constructor(private _element: ElementRef) {\r\n    this.service = new DropdownService();\r\n    this.service.isOpenChange.subscribe(() => {\r\n      if (this.service.isOpen) {\r\n        this._element.nativeElement.focus();\r\n      }\r\n    });\r\n  }\r\n\r\n  @Output()\r\n  public get isOpenChange(): EventEmitter<boolean> {\r\n    return this.service.isOpenChange;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    // This is to ensure nested dropdowns don't get made bold.\r\n    return this.service.isOpen && !this.service.isNested;\r\n  }\r\n\r\n  @Input()\r\n  public get isOpen(): boolean {\r\n    return this.service.isOpen;\r\n  }\r\n\r\n  public set isOpen(value: boolean) {\r\n    // If we are opening the dropdown, we want to always open its parents.\r\n    this.service.setOpenState(value, !!value);\r\n  }\r\n\r\n  @HostBinding('class.disabled')\r\n  @Input()\r\n  public get isDisabled(): boolean {\r\n    return this.service.isDisabled;\r\n  }\r\n\r\n  public set isDisabled(value: boolean) {\r\n    this.service.setDisabledState(value);\r\n  }\r\n\r\n  @Input()\r\n  public get autoClose(): DropdownAutoCloseType {\r\n    return this.service.autoCloseMode;\r\n  }\r\n\r\n  public set autoClose(value: DropdownAutoCloseType) {\r\n    this.service.autoCloseMode = value;\r\n  }\r\n\r\n  @ContentChildren(FuiDropdown, {descendants: true})\r\n  private _children: QueryList<FuiDropdown>;\r\n\r\n  public get children(): FuiDropdown[] {\r\n    // @ContentChildren includes the current element by default.\r\n    return this._children.filter(c => c !== this);\r\n  }\r\n\r\n  @Input('tabindex')\r\n  private _tabIndex?: number;\r\n\r\n  @HostBinding('attr.tabindex')\r\n  public get tabIndex(): number | undefined {\r\n    if (this.isDisabled || this.service.isNested) {\r\n      // If disabled, remove from tabindex.\r\n      return undefined;\r\n    }\r\n    if (this._tabIndex != undefined) {\r\n      // If custom tabindex, default to that.\r\n      return this._tabIndex;\r\n    }\r\n    // Otherwise, return default of 0.\r\n    return 0;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    if (!this._menu) {\r\n      throw new Error('You must set [fuiDropdownMenu] on the menu element.');\r\n    }\r\n    this._menu.service = this.service;\r\n    this._menu.parentElement = this._element;\r\n\r\n    this.childrenUpdated();\r\n    this._children.changes\r\n      .subscribe(() => this.childrenUpdated());\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n\r\n      this.service.toggleOpenState();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: IFocusEvent): void {\r\n    if (!this._element.nativeElement.contains(e.relatedTarget)) {\r\n      this.externallyClose();\r\n    }\r\n  }\r\n\r\n  @HostListener('keypress', ['$event'])\r\n  public onKeypress(e: HandledEvent & KeyboardEvent): void {\r\n    // Block the keyboard event from being fired on parent dropdowns.\r\n    if (!e.eventHandled) {\r\n\r\n      if (e.keyCode === KeyCode.Enter) {\r\n        e.eventHandled = true;\r\n\r\n        this.service.setOpenState(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  private childrenUpdated(): void {\r\n    // Reregister child dropdowns each time the menu content changes.\r\n    this.children\r\n      .map(c => c.service)\r\n      .forEach(s => this.service.registerChild(s));\r\n  }\r\n\r\n  private externallyClose(): void {\r\n    if (this.service.autoCloseMode === DropdownAutoCloseType.ItemClick ||\r\n      this.service.autoCloseMode === DropdownAutoCloseType.OutsideClick) {\r\n      // No need to reflect in parent since they are also bound to document.\r\n      this.service.setOpenState(false);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiDropdown} from './directives/dropdown';\r\nimport {FuiDropdownMenu, FuiDropdownMenuItem} from './directives/dropdown-menu';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiTransitionModule\r\n  ],\r\n  declarations: [\r\n    FuiDropdown,\r\n    FuiDropdownMenu,\r\n    FuiDropdownMenuItem\r\n  ],\r\n  exports: [\r\n    FuiDropdown,\r\n    FuiDropdownMenu,\r\n    FuiDropdownMenuItem\r\n  ]\r\n})\r\nexport class FuiDropdownModule {\r\n}\r\n","import {ComponentRef} from '@angular/core';\r\nimport {ModalConfig} from './modal-config';\r\nimport {FuiModal} from '../components/modal';\r\n\r\n// Helper class to support method chaining when calling `FuiModalService.open(...)`.\r\nexport class ActiveModal<T, U, V> {\r\n  private _config: ModalConfig<T, U, V>;\r\n  private _componentRef: ComponentRef<FuiModal<U, V>>;\r\n\r\n  constructor(instance: ModalConfig<T, U, V>, componentRef: ComponentRef<FuiModal<U, V>>) {\r\n    this._config = instance;\r\n    this._componentRef = componentRef;\r\n\r\n    // Automatically destroy the modal component when it has been dismissed.\r\n    this.component.onDismiss.subscribe(() => this._componentRef.destroy());\r\n  }\r\n\r\n  // Shorthand for direct access to the `FuiModal` instance.\r\n  public get component(): FuiModal<U, V> {\r\n    return this._componentRef.instance;\r\n  }\r\n\r\n  // Registers a callback for when `onApprove` is fired.\r\n  public onApprove(callback: (result: U) => void): ActiveModal<T, U, V> {\r\n    this.component.onApprove.subscribe((res: U) => callback(res));\r\n    return this;\r\n  }\r\n\r\n  // Registers a callback for when `onDeny` is fired.\r\n  public onDeny(callback: (result: V) => void): ActiveModal<T, U, V> {\r\n    this.component.onDeny.subscribe((res: V) => callback(res));\r\n    return this;\r\n  }\r\n\r\n  // Fires the approve event of the modal manually.\r\n  public approve(result: U): void {\r\n    this.component.approve(result);\r\n  }\r\n\r\n  // Fires the deny event of the modal manually.\r\n  public deny(result: V): void {\r\n    this.component.deny(result);\r\n  }\r\n\r\n  // Removes the modal component instantly, without transitions or firing any events.\r\n  public destroy(): void {\r\n    this._componentRef.destroy();\r\n  }\r\n}\r\n","import {Type} from '@angular/core';\r\nimport {ModalTemplate} from './modal-template';\r\n\r\nexport type ModalSize = 'mini' | 'tiny' | 'small' | 'normal' | 'large';\r\n\r\nexport const ModalSize = {\r\n  Mini: 'mini' as ModalSize,\r\n  Tiny: 'tiny' as ModalSize,\r\n  Small: 'small' as ModalSize,\r\n  Normal: 'normal' as ModalSize,\r\n  Large: 'large' as ModalSize\r\n};\r\n\r\n// Stores a basic set of configuration options for a modal.\r\nexport class ModalConfig<T, U = undefined, V = undefined> {\r\n  // Determines whether the modal can be closed with a close button, clicking outside, or the escape key.\r\n  public isClosable: boolean;\r\n  // Value to deny with when closing via `isClosable`.\r\n  public closeResult: V;\r\n\r\n  // Data to pass to the modal instance when opened.\r\n  public context?: T;\r\n\r\n  // Size used to display the modal.\r\n  public size: ModalSize;\r\n  // Whether the modal takes up the full width of the screen.\r\n  public isFullScreen: boolean;\r\n  // Whether or not the modal has basic styles applied.\r\n  public isBasic: boolean;\r\n  // Whether the modal shows against a light background.\r\n  public isInverted: boolean;\r\n  // Whether or not the modal should be placed in the center of the page.\r\n  public isCentered: boolean;\r\n\r\n  // Whether or not the modal should always display a scrollbar.\r\n  public mustScroll: boolean;\r\n\r\n  // Transition to display modal with.\r\n  public transition: string;\r\n  // Duration of the modal & dimmer transitions.\r\n  public transitionDuration: number;\r\n\r\n  constructor(context: T | undefined = undefined, isClosable: boolean = true) {\r\n    // Initialise with default values.\r\n    this.isClosable = isClosable;\r\n    this.context = context;\r\n\r\n    this.size = ModalSize.Normal;\r\n    this.isFullScreen = false;\r\n    this.isBasic = false;\r\n    this.isInverted = false;\r\n    this.isCentered = true;\r\n\r\n    this.mustScroll = false;\r\n\r\n    this.transition = 'scale';\r\n    this.transitionDuration = 500;\r\n  }\r\n}\r\n\r\n// Used when creating a modal from a `TemplateRef`.\r\nexport class TemplateModalConfig<T, U = undefined, V = undefined> extends ModalConfig<T, U, V> {\r\n  public template: ModalTemplate<T, U, V>;\r\n\r\n  constructor(template: ModalTemplate<T, U, V>, context: T | undefined = undefined, isClosable: boolean = true) {\r\n    super(context, isClosable);\r\n\r\n    this.template = template;\r\n  }\r\n}\r\n\r\n// Used when creating a modal from an existing component.\r\nexport class ComponentModalConfig<T, U = undefined, V = undefined> extends ModalConfig<T, U, V> {\r\n  public component: Type<any>;\r\n\r\n  constructor(component: Type<any>, context: T | undefined = undefined, isClosable: boolean = true) {\r\n    super(context, isClosable);\r\n\r\n    this.component = component;\r\n  }\r\n}\r\n","// Shorthand to avoid writing arrow types everywhere.\r\nexport type ModalResult<T> = (result: T) => void;\r\n\r\n// Used to pass ability to control a modal to a component.\r\nexport class ModalControls<T, U> {\r\n  constructor(approve: ModalResult<T>, deny: ModalResult<U>) {\r\n    this.approve = approve;\r\n    this.deny = deny;\r\n  }\r\n\r\n  // Use method here rather than arrow variables to make intellisense show they're methods.\r\n  public approve(result: T): void {\r\n  }\r\n\r\n  public deny(result: U): void {\r\n  }\r\n}\r\n\r\n// Injected into custom modal components, to allow control of the modal, and access to a context object.\r\nexport class Modal<T, U = undefined, V = undefined> extends ModalControls<U, V> {\r\n  public context: T;\r\n\r\n  constructor(controls: ModalControls<U, V>, context: T) {\r\n    // Instances of `ModalControls` are only created in the `FuiModal` constructor,\r\n    // so we take an initialised instance rather than remaking one each time.\r\n    super(controls.approve, controls.deny);\r\n\r\n    this.context = context;\r\n  }\r\n}\r\n","import {TemplateRef} from '@angular/core';\r\nimport {ModalControls} from './modal-controls';\r\n\r\n// Shorthand for a modal template. Sets up ability to write: `<ng-template let-context let-modal=\"modal\">...</ng-template>`\r\n// We use an abstract class as ModalTemplate tends to be used within decorated properties, which means it needs to exist!\r\nexport abstract class ModalTemplate<T, U, V> extends TemplateRef<{ $implicit: T; modal: ModalControls<U, V> }> {\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {IDynamicClasses, KeyCode, FuiComponentFactory, Util} from '../../../misc/util/internal';\r\nimport {Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {ModalControls, ModalResult} from '../classes/modal-controls';\r\nimport {ModalConfig, ModalSize} from '../classes/modal-config';\r\n\r\n@Component({\r\n  selector: 'fui-modal',\r\n  template: `\r\n<!-- Page dimmer for modal background. -->\r\n<fui-modal-dimmer [ngClass]=\"{'top aligned': !isCentered}\"\r\n                  [class.inverted]=\"isInverted\"\r\n                  [(isDimmed)]=\"dimBackground\"\r\n                  [transitionDuration]=\"transitionDuration\"\r\n                  (click)=\"close()\">\r\n\r\n    <!-- Modal component, with transition component attached -->\r\n    <div class=\"ui modal\"\r\n         [fuiTransition]=\"transitionController\"\r\n         [class.active]=\"transitionController?.isVisible\"\r\n         [class.fullscreen]=\"isFullScreen\"\r\n         [class.basic]=\"isBasic\"\r\n         [class.scrolling]=\"mustScroll\"\r\n         [class.inverted]=\"isInverted\"\r\n         [ngClass]=\"dynamicClasses\"\r\n         (click)=\"onClick($event)\"\r\n         #modal>\r\n\r\n        <!-- Configurable close icon -->\r\n        <i class=\"close icon\" *ngIf=\"isClosable\" (click)=\"close()\"></i>\r\n        <!-- <ng-content> so that <fui-modal> can be used as a normal component. -->\r\n        <ng-content></ng-content>\r\n        <!-- @ViewChild reference so we can insert elements beside this div. -->\r\n        <div #templateSibling></div>\r\n    </div>\r\n</fui-modal-dimmer>\r\n`,\r\n  styles: [``]\r\n})\r\nexport class FuiModal<T, U> implements OnInit, AfterViewInit {\r\n\r\n  @Input()\r\n  // Determines whether the modal can be closed with a close button, clicking outside, or the escape key.\r\n  public isClosable: boolean;\r\n  @Input()\r\n  // Value to deny with when closing via `isClosable`.\r\n  public closeResult: U;\r\n  // Separate class for the `approve` and `deny` methods to support passing into components.\r\n  public controls: ModalControls<T, U>;\r\n  // Fires when the modal closes, after `approve` has been called.\r\n  @Output('approved')\r\n  public onApprove: EventEmitter<T>;\r\n  // Fires when the modal closes, after `deny` has been called.\r\n  @Output('denied')\r\n  public onDeny: EventEmitter<U>;\r\n  // Fires when the modal closes.\r\n  @Output('dismissed')\r\n  public onDismiss: EventEmitter<void>;\r\n  // Size used to display the modal.\r\n  @Input()\r\n  public size: ModalSize;\r\n  @Input()\r\n  public isCentered: boolean;\r\n  // Whether or not the modal has basic styles applied.\r\n  @Input()\r\n  public isBasic: boolean;\r\n  public transitionController: TransitionController;\r\n  // Transition to display modal with.\r\n  @Input()\r\n  public transition: string;\r\n  // Duration of the modal & dimmer transitions.\r\n  @Input()\r\n  public transitionDuration: number;\r\n  // Whether or not the backround dimmer is active.\r\n  public dimBackground: boolean;\r\n  // `ViewContainerRef` for the element the template gets injected as a sibling of.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: true})\r\n  public templateSibling: ViewContainerRef;\r\n  @ViewChild('modal', {static: false})\r\n  private _modalElement: ElementRef;\r\n  // Whether or not the modal should always display a scrollbar.\r\n  private _mustAlwaysScroll: boolean;\r\n  // True after `approve` or `deny` has been called.\r\n  private _isClosing: boolean;\r\n  // Parent element of modal before relocation to document body.\r\n  private _originalContainer?: Element;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef, private _componentFactory: FuiComponentFactory) {\r\n    // Initialise with default configuration from `ModalConfig` (to avoid writing defaults twice).\r\n    const config = new ModalConfig<undefined, T, U>();\r\n    this.loadConfig(config);\r\n\r\n    // Event emitters for each of the possible modal outcomes.\r\n    this.onApprove = new EventEmitter<T>();\r\n    this.onDeny = new EventEmitter<U>();\r\n    this.onDismiss = new EventEmitter<void>();\r\n\r\n    // Initialise controls with actions for the `approve` and `deny` cases.\r\n    this.controls = new ModalControls<T, U>(\r\n      res => this.dismiss(() => this.onApprove.emit(res)),\r\n      res => this.dismiss(() => this.onDeny.emit(res)));\r\n\r\n    // Internal variable initialisation.\r\n    this.dimBackground = false;\r\n    this._isClosing = false;\r\n    this.transitionController = new TransitionController(false);\r\n  }\r\n\r\n  public get approve(): ModalResult<T> {\r\n    return this.controls.approve;\r\n  }\r\n\r\n  public get deny(): ModalResult<U> {\r\n    return this.controls.deny;\r\n  }\r\n\r\n  public get dynamicClasses(): IDynamicClasses {\r\n    const classes: IDynamicClasses = {};\r\n    if (this.size) {\r\n      classes[this.size] = true;\r\n    }\r\n    return classes;\r\n  }\r\n\r\n  // Whether the modal takes up the full width of the screen.\r\n  private _isFullScreen: boolean;\r\n\r\n  // Value to deny with when closing via `isClosable`.\r\n  @Input()\r\n  public get isFullScreen(): boolean {\r\n    return this._isFullScreen;\r\n  }\r\n\r\n  public set isFullScreen(fullScreen: boolean) {\r\n    this._isFullScreen = Util.DOM.parseBooleanAttribute(fullScreen);\r\n  }\r\n\r\n  // Whether the modal currently is displaying a scrollbar.\r\n  private _mustScroll: boolean;\r\n\r\n  @Input()\r\n  public get mustScroll(): boolean {\r\n    return this._mustScroll;\r\n  }\r\n\r\n  public set mustScroll(mustScroll: boolean) {\r\n    this._mustScroll = mustScroll;\r\n    // 'Cache' value in _mustAlwaysScroll so that if `true`, _mustScroll isn't ever auto-updated.\r\n    this._mustAlwaysScroll = mustScroll;\r\n    this.updateScroll();\r\n  }\r\n\r\n  // Whether the modal shows against a light background.\r\n  private _isInverted: boolean;\r\n\r\n  @Input()\r\n  public get isInverted(): boolean {\r\n    return this._isInverted;\r\n  }\r\n\r\n  public set isInverted(inverted: boolean) {\r\n    this._isInverted = Util.DOM.parseBooleanAttribute(inverted);\r\n  }\r\n\r\n  public ngOnInit(): void {\r\n    // Transition the modal to be visible.\r\n    this.transitionController.animate(new Transition(this.transition, this.transitionDuration, TransitionDirection.In));\r\n    setTimeout(() => this.dimBackground = true);\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    // Move the modal to the document body to ensure correct scrolling.\r\n    this._originalContainer = this._element.nativeElement.parentNode;\r\n    document.querySelector('body')!.appendChild(this._element.nativeElement);\r\n    // Remove the #templateSibling element from the DOM to fix bottom border styles.\r\n    const templateElement = this.templateSibling.element.nativeElement as Element;\r\n    if (templateElement.parentNode) {\r\n      templateElement.parentNode.removeChild(templateElement);\r\n    }\r\n\r\n    const element = this._modalElement.nativeElement as Element;\r\n    setTimeout(() => this.updateScroll());\r\n\r\n    // Focus any element with [autofocus] attribute.\r\n    const autoFocus = element.querySelector('[autofocus]') as HTMLElement | null;\r\n    if (autoFocus) {\r\n      // Autofocus after the browser has had time to process other event handlers.\r\n      setTimeout(() => autoFocus.focus(), 10);\r\n      // Try to focus again when the modal has opened so that autofocus works in IE11.\r\n      setTimeout(() => autoFocus.focus(), this.transitionDuration);\r\n    }\r\n  }\r\n\r\n  // Updates the modal with the specified configuration.\r\n  public loadConfig<V>(config: ModalConfig<V, T, U>): void {\r\n    this.isClosable = config.isClosable;\r\n    this.closeResult = config.closeResult;\r\n\r\n    this.size = config.size;\r\n    this.isFullScreen = config.isFullScreen;\r\n    this.isBasic = config.isBasic;\r\n    this.isInverted = config.isInverted;\r\n    this.isCentered = config.isCentered;\r\n\r\n    this.mustScroll = config.mustScroll;\r\n\r\n    this.transition = config.transition;\r\n    this.transitionDuration = config.transitionDuration;\r\n  }\r\n\r\n  // Closes the modal with a 'deny' outcome, using the specified default reason.\r\n  public close(): void {\r\n    if (this.isClosable) {\r\n      // If we are allowed to close, fire the deny result with the default value.\r\n      this.deny(this.closeResult);\r\n    }\r\n  }\r\n\r\n  public onClick(e: MouseEvent): void {\r\n    // Makes sense here, as the modal shouldn't be attached to any DOM element.\r\n    e.stopPropagation();\r\n  }\r\n\r\n  // Document listener is fine here because nobody will have enough modals open.\r\n  @HostListener('document:keyup', ['$event'])\r\n  public onDocumentKeyUp(e: KeyboardEvent): void {\r\n    if (e.keyCode === KeyCode.Escape) {\r\n      // Close automatically covers case of `!isClosable`, so check not needed.\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  public onDocumentResize(): void {\r\n    this.updateScroll();\r\n  }\r\n\r\n  // Dismisses the modal with a transition, firing the callback after the modal has finished transitioning.\r\n  private dismiss(callback: () => void = () => {\r\n  }): void {\r\n    // If we aren't currently closing,\r\n    if (!this._isClosing) {\r\n      this._isClosing = true;\r\n\r\n      // Transition the modal to be invisible.\r\n      this.dimBackground = false;\r\n      this.transitionController.stopAll();\r\n      this.transitionController.animate(\r\n        new Transition(this.transition, this.transitionDuration, TransitionDirection.Out, () => {\r\n          // When done, move the modal back to its original location, emit a dismiss event, and fire the callback.\r\n          if (this._originalContainer) {\r\n            this._originalContainer.appendChild(this._element.nativeElement);\r\n          }\r\n          this.onDismiss.emit();\r\n          callback();\r\n        }));\r\n    }\r\n  }\r\n\r\n  // Decides whether the modal needs to reposition to allow scrolling.\r\n  private updateScroll(): void {\r\n\r\n    // _mustAlwaysScroll works by stopping _mustScroll from being automatically updated, so it stays `true`.\r\n    if (!this._mustAlwaysScroll && this._modalElement) {\r\n\r\n      // Fomantic UI modal margin and dimmer padding are 1rem, which is relative to the global font size, so for compatibility:\r\n      const fontSize = parseFloat(window.getComputedStyle(document.documentElement).getPropertyValue('font-size'));\r\n      const margin = fontSize * 2;\r\n      const element = this._modalElement.nativeElement as Element;\r\n\r\n      // The modal must scroll if the window height is smaller than the modal height + both margins.\r\n      this._mustScroll = window.innerHeight < element.clientHeight + margin * 2;\r\n    }\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {ComponentModalConfig, ModalConfig, TemplateModalConfig} from '../classes/modal-config';\r\nimport {FuiModal} from '../components/modal';\r\nimport {Modal} from '../classes/modal-controls';\r\nimport {ActiveModal} from '../classes/active-modal';\r\n\r\n@Injectable()\r\nexport class FuiModalService {\r\n  constructor(private _componentFactory: FuiComponentFactory) {\r\n  }\r\n\r\n  public open<T, U, V>(modal: ModalConfig<T, U, V>): ActiveModal<T, U, V> {\r\n    // Generate the modal component to be shown.\r\n    const componentRef = this._componentFactory.createComponent<FuiModal<U, V>>(FuiModal);\r\n\r\n    // Shorthand for the created modal component instance.\r\n    const modalComponent = componentRef.instance;\r\n\r\n    if (modal instanceof TemplateModalConfig) {\r\n      // Inject the template into the view.\r\n      this._componentFactory.createView(modalComponent.templateSibling, modal.template, {\r\n        // `let-context`\r\n        $implicit: modal.context,\r\n        // `let-modal=\"modal\"`\r\n        modal: componentRef.instance.controls\r\n      });\r\n    } else if (modal instanceof ComponentModalConfig) {\r\n      // Generate the component to be used as the modal content,\r\n      // injecting an instance of `Modal` to be used in the component constructor.\r\n      const contentComponentRef = this._componentFactory.createComponent(\r\n        modal.component,\r\n        [\r\n          {\r\n            provide: Modal,\r\n            useValue: new Modal(modalComponent.controls, modal.context)\r\n          }\r\n        ]\r\n      );\r\n\r\n      // Insert the new component into the content of the modal.\r\n      this._componentFactory.attachToView(contentComponentRef, modalComponent.templateSibling);\r\n\r\n      // Shorthand for access to the content component's DOM element.\r\n      const contentElement = contentComponentRef.location.nativeElement as Element;\r\n\r\n      // Move all of the DOM elements inside the component to the main modal element.\r\n      // This is done so that CSS classes apply correctly. It does stop any custom styles from working however,\r\n      // so other ways may have to be investigated.\r\n      while (contentElement.hasChildNodes() && contentElement.parentElement && contentElement.firstChild) {\r\n        contentElement.parentElement.appendChild(contentElement.removeChild(contentElement.firstChild));\r\n      }\r\n      // Remove the generated component's 'empty shell' from the DOM.\r\n      this._componentFactory.detachFromDocument(contentComponentRef);\r\n    }\r\n\r\n    // Attach the new modal component to the application.\r\n    // The component will move itself to the document body for correctl styling.\r\n    this._componentFactory.attachToApplication(componentRef);\r\n\r\n    // Initialise the generated modal with the provided config.\r\n    modalComponent.loadConfig(modal);\r\n\r\n    // Return an instance of an `ActiveModal`, so the user can control the new modal.\r\n    return new ActiveModal(modal, componentRef);\r\n  }\r\n}\r\n","import {ChangeDetectorRef, Component, ElementRef, HostBinding, Renderer2} from '@angular/core';\r\nimport {FuiDimmer} from '../../dimmer/internal';\r\n\r\n@Component({\r\n  selector: 'fui-modal-dimmer',\r\n  template: `<ng-content></ng-content>`,\r\n  styles: [`\r\n        :host.ui.dimmer:not(.hidden) {\r\n            transition: none;\r\n            overflow-y: auto;\r\n            display: flex !important;\r\n        }\r\n    `]\r\n})\r\nexport class FuiModalDimmer extends FuiDimmer {\r\n\r\n  @HostBinding('class.page')\r\n  @HostBinding('class.modals')\r\n  public readonly hasClasses: boolean;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, changeDetector: ChangeDetectorRef) {\r\n    super(renderer, element, changeDetector);\r\n    this.hasClasses = true;\r\n    this.isClickable = false;\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiDimmerModule} from '../dimmer/internal';\r\nimport {FuiTransitionModule} from '../transition/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiModalService} from './services/modal.service';\r\nimport {FuiModal} from './components/modal';\r\nimport {FuiModalDimmer} from './components/dimmer';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FuiDimmerModule,\r\n    FuiTransitionModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiModal,\r\n    FuiModalDimmer\r\n  ],\r\n  exports: [\r\n    FuiModal\r\n  ],\r\n  providers: [\r\n    FuiModalService\r\n  ],\r\n  entryComponents: [\r\n    FuiModal\r\n  ]\r\n})\r\nexport class FuiModalModule {\r\n}\r\n","import {Component, Directive, EventEmitter, HostBinding, HostListener, Input, Output} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-rating',\r\n  // tslint:disable-next-line\r\n  template: `<i *ngFor=\"let icon of icons; let i = index\" class=\"icon {{type}}\" (mouseover)=\"onMouseover(i)\" (click)=\"onClick(i)\" [class.selected]=\"hoveredIndex >= i && !isReadonly\" [class.active]=\"value > i\"></i>`,\r\n  styles: [`\r\n:host.read-only .icon {\r\n    cursor: auto\r\n}\r\n`]\r\n})\r\nexport class FuiRating implements ICustomValueAccessorHost<number> {\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.rating')\r\n  public readonly hasClasses: boolean;\r\n  public value: number;\r\n  @Output()\r\n  public valueChange: EventEmitter<number>;\r\n  @HostBinding('class.read-only')\r\n  @Input()\r\n  public isReadonly: boolean;\r\n  public hoveredIndex = -1;\r\n\r\n  constructor() {\r\n    this.value = 0;\r\n    this.valueChange = new EventEmitter<number>();\r\n\r\n    this.type = 'star';\r\n    this.maximum = 5;\r\n    this.isReadonly = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get icons(): undefined[] {\r\n    // tslint:disable-next-line:prefer-literal\r\n    return new Array(this.maximum);\r\n  }\r\n\r\n  private _type: string;\r\n\r\n  @Input()\r\n  public get type(): string {\r\n    return this._type;\r\n  }\r\n\r\n  public set type(value: string) {\r\n    this._type = value;\r\n  }\r\n\r\n  private _maximum: number;\r\n\r\n  @Input()\r\n  public get maximum(): number {\r\n    return this._maximum;\r\n  }\r\n\r\n  public set maximum(value: number) {\r\n    this._maximum = +value;\r\n  }\r\n\r\n  public onClick(i: number): void {\r\n    if (!this.isReadonly) {\r\n      this.value = i + 1;\r\n      this.valueChange.emit(this.value);\r\n    }\r\n  }\r\n\r\n  public onMouseover(i: number): void {\r\n    this.hoveredIndex = i;\r\n  }\r\n\r\n  @HostListener('mouseout')\r\n  public onMouseout(): void {\r\n    this.hoveredIndex = -1;\r\n  }\r\n\r\n  public writeValue(value: number): void {\r\n    this.value = value;\r\n  }\r\n}\r\n\r\n@Directive({\r\n  selector: 'fui-rating',\r\n  host: {'(valueChange)': 'onChange($event)'},\r\n  providers: [customValueAccessorFactory(FuiRatingValueAccessor)]\r\n})\r\nexport class FuiRatingValueAccessor extends CustomValueAccessor<number, FuiRating> {\r\n  constructor(host: FuiRating) {\r\n    super(host);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiRating, FuiRatingValueAccessor} from './components/rating';\r\n\r\n@NgModule({\r\n  imports: [\r\n    FormsModule,\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiRating,\r\n    FuiRatingValueAccessor\r\n  ],\r\n  exports: [\r\n    FuiRating,\r\n    FuiRatingValueAccessor\r\n  ]\r\n})\r\nexport class FuiRatingModule {\r\n}\r\n","import {Component, HostBinding, Input, TemplateRef, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IResultContext} from './search';\r\n\r\n// See https://github.com/Microsoft/TypeScript/issues/13449.\r\nconst templateRef = TemplateRef;\r\n\r\n@Component({\r\n  selector: 'fui-search-result',\r\n  template: `\r\n<span #templateSibling></span>\r\n<span *ngIf=\"!template\" [innerHTML]=\"formatter(value, query)\"></span>\r\n`\r\n})\r\nexport class FuiSearchResult<T> {\r\n\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('class.result')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public value: T;\r\n  @Input()\r\n  public query: string;\r\n  // Returns the label from a given value.\r\n  @Input()\r\n  public formatter: (obj: T, query: string) => string;\r\n  // Placeholder to draw template beside.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: false})\r\n  public templateSibling: ViewContainerRef;\r\n\r\n  constructor(public componentFactory: FuiComponentFactory) {\r\n    this.hasClasses = true;\r\n\r\n    // By default we make this function return an empty string, for the brief moment when it isn't displaying the correct label.\r\n    this.formatter = value => '';\r\n  }\r\n\r\n  private _template?: TemplateRef<IResultContext<T>>;\r\n\r\n  @Input()\r\n  public get template(): TemplateRef<IResultContext<T>> | undefined {\r\n    return this._template;\r\n  }\r\n\r\n  public set template(template: TemplateRef<IResultContext<T>> | undefined) {\r\n    this._template = template;\r\n    if (this.template) {\r\n      this.componentFactory.createView(this.templateSibling, this.template, {\r\n        $implicit: this.value,\r\n        query: this.query\r\n      });\r\n    }\r\n  }\r\n}\r\n","import {Util} from '../../../misc/util/internal';\r\nimport {FilterFn, LookupFn, LookupFnResult} from '../helpers/lookup-fn';\r\n\r\ninterface ICachedArray<T> {\r\n  [query: string]: T[];\r\n}\r\n\r\nexport class SearchService<T, U> {\r\n\r\n  // Filters a list of options.\r\n  public optionsFilter: FilterFn<T>;\r\n  // Allows the empty query to produce results.\r\n  public allowEmptyQuery: boolean;\r\n  // How long to delay the search for when using updateQueryDelayed. Stored in ms.\r\n  public searchDelay: number;\r\n  // Cache of results, indexed by query.\r\n  private _resultsCache: ICachedArray<T>;\r\n  // Stores the search timeout handle so we can cancel it.\r\n  private _searchDelayTimeout: number;\r\n\r\n  constructor(allowEmptyQuery: boolean = false) {\r\n    this._options = [];\r\n    this.optionsFilter = (os, q) => {\r\n      // Convert the query string to a RegExp.\r\n      const regex = this.toRegex(this._query);\r\n\r\n      if (regex instanceof RegExp) {\r\n        // Only update the results if the query was valid regex.\r\n        // This avoids the results suddenly becoming empty if an invalid regex string is inputted.\r\n        return os\r\n        // Filter on the options with a string match on the field we are testing.\r\n          .filter(o => Util.Object.readValue<T, string>(o, this._optionsField)\r\n            .toString()\r\n            .match(regex));\r\n      }\r\n\r\n      // Don't update since it wasn't a valid regex.\r\n      return false;\r\n    };\r\n\r\n    // Set default values and reset.\r\n    this.allowEmptyQuery = allowEmptyQuery;\r\n    this.searchDelay = 0;\r\n    this.reset();\r\n  }\r\n\r\n  public get hasItemLookup(): boolean {\r\n    return !!this.optionsLookup && this.optionsLookup.length === 2;\r\n  }\r\n\r\n  // Stores the available options.\r\n  private _options: T[];\r\n\r\n  public get options(): T[] {\r\n    return this._options;\r\n  }\r\n\r\n  public set options(options: T[]) {\r\n    this._options = options || [];\r\n    // We cannot use both local & remote options simultaneously.\r\n    this._optionsLookup = undefined;\r\n    // Reset entire service with new options.\r\n    this.reset();\r\n  }\r\n\r\n  // Converts a query string into an array of options. Must be a function returning a promise.\r\n  private _optionsLookup?: LookupFn<T, U>;\r\n\r\n  public get optionsLookup(): LookupFn<T, U> | undefined {\r\n    return this._optionsLookup;\r\n  }\r\n\r\n  public set optionsLookup(lookupFn: LookupFn<T, U> | undefined) {\r\n    this._optionsLookup = lookupFn;\r\n    // As before, cannot use local & remote options simultaneously.\r\n    this._options = [];\r\n    this.reset();\r\n  }\r\n\r\n  // Field that options are searched & displayed on.\r\n  private _optionsField?: string;\r\n\r\n  public get optionsField(): string | undefined {\r\n    return this._optionsField;\r\n  }\r\n\r\n  public set optionsField(field: string | undefined) {\r\n    this._optionsField = field;\r\n    // We need to reset otherwise we would now be showing invalid search results.\r\n    this.reset();\r\n  }\r\n\r\n  // Stores the results of the query.\r\n  private _results: T[];\r\n\r\n  public get results(): T[] {\r\n    return this._results;\r\n  }\r\n\r\n  private _query: string;\r\n\r\n  public get query(): string {\r\n    return this._query;\r\n  }\r\n\r\n  // Provides 'loading' functionality.\r\n  private _isSearching: boolean;\r\n\r\n  public get isSearching(): boolean {\r\n    return this._isSearching;\r\n  }\r\n\r\n  // Updates the query after the specified search delay.\r\n  public updateQueryDelayed(query: string, callback: (err?: Error) => void = () => {\r\n  }): void {\r\n    this._query = query;\r\n\r\n    clearTimeout(this._searchDelayTimeout);\r\n    this._searchDelayTimeout = window.setTimeout(\r\n      () => {\r\n        this.updateQuery(query, callback);\r\n      },\r\n      this.searchDelay\r\n    );\r\n  }\r\n\r\n  // Updates the current search query.\r\n  public updateQuery(query: string, callback: (err?: Error) => void = () => {\r\n  }): void {\r\n    this._query = query;\r\n\r\n    if (this._query === '' && !this.allowEmptyQuery) {\r\n      // Don't update if the new query is empty (and we don't allow empty queries).\r\n      // Don't reset so that when animating closed we don't get a judder.\r\n      return callback();\r\n    }\r\n\r\n    if (this._resultsCache.hasOwnProperty(this._query)) {\r\n      // If the query is already cached, make use of it.\r\n      this._results = this._resultsCache[this._query];\r\n\r\n      return callback();\r\n    }\r\n\r\n    if (this._optionsLookup) {\r\n      this._isSearching = true;\r\n\r\n      // Call the options lookup without a this context.\r\n      const queryLookup = this._optionsLookup.call(undefined, this._query) as LookupFnResult<T[]>;\r\n\r\n      queryLookup\r\n        .then(results => {\r\n          this._isSearching = false;\r\n\r\n          this.updateResults(results);\r\n          return callback();\r\n        })\r\n        .catch(error => {\r\n          // Unset 'loading' state, and throw the returned error without updating the results.\r\n          this._isSearching = false;\r\n          return callback(error);\r\n        });\r\n\r\n      return;\r\n    }\r\n\r\n    const filtered = this.optionsFilter.call(undefined, this._options, this._query);\r\n    if (filtered) {\r\n      this.updateResults(filtered);\r\n    }\r\n    return callback();\r\n  }\r\n\r\n  // tslint:disable-next-line:promise-function-async\r\n  public initialLookup(initial: U): LookupFnResult<T>;\r\n\r\n  // tslint:disable-next-line:promise-function-async\r\n  public initialLookup(initial: U[]): LookupFnResult<T[]>;\r\n\r\n  // tslint:disable-next-line:promise-function-async\r\n  public initialLookup(initial: U | U[]): LookupFnResult<T> | LookupFnResult<T[]> {\r\n    if (initial instanceof Array) {\r\n      return (this._optionsLookup as unknown as LookupFn<T, U[]>)(undefined, initial) as LookupFnResult<T[]>;\r\n    }\r\n    return (this._optionsLookup as unknown as LookupFn<T, U>)(undefined, initial) as LookupFnResult<T>;\r\n  }\r\n\r\n  // Generates HTML for highlighted match text.\r\n  public highlightMatches(text: string, query: string): string {\r\n    const regex = this.toRegex(query);\r\n    if (regex instanceof RegExp) {\r\n      return text.replace(regex, match => `<b>${match}</b>`);\r\n    }\r\n    return text;\r\n  }\r\n\r\n  // Updates & caches the new set of results.\r\n  private updateResults(results: T[]): void {\r\n    this._resultsCache[this._query] = results;\r\n    this._results = results;\r\n  }\r\n\r\n  // Converts a query string to regex without throwing an error.\r\n  private toRegex(query: string): RegExp | string {\r\n    try {\r\n      return new RegExp(query, 'i');\r\n    } catch (e) {\r\n      return query;\r\n    }\r\n  }\r\n\r\n  // Resets the search back to a pristine state.\r\n  private reset(): void {\r\n    this._results = [];\r\n    this._resultsCache = {};\r\n    this._isSearching = false;\r\n    this.updateQuery('');\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild\r\n} from '@angular/core';\r\nimport {IFocusEvent, ITemplateRefContext, Util} from '../../../misc/util/internal';\r\nimport {DropdownService, FuiDropdownMenu} from '../../dropdown/internal';\r\nimport {ISearchLocaleValues, RecursivePartial, FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {SearchService} from '../services/search.service';\r\nimport {FilterFn, LookupFn} from '../helpers/lookup-fn';\r\n\r\nexport interface IResultContext<T> extends ITemplateRefContext<T> {\r\n  query: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'fui-search',\r\n  template: `\r\n<div class=\"ui input\" [class.icon]=\"hasIcon\" (click)=\"onClick($event)\">\r\n    <input class=\"prompt\" type=\"text\" [attr.placeholder]=\"placeholder\" autocomplete=\"off\" [(ngModel)]=\"query\">\r\n    <i *ngIf=\"hasIcon\" class=\"search icon\"></i>\r\n</div>\r\n<div class=\"results\"\r\n     fuiDropdownMenu\r\n     [menuTransition]=\"transition\"\r\n     [menuTransitionDuration]=\"transitionDuration\"\r\n     menuSelectedItemClass=\"active\">\r\n\r\n    <fui-search-result *ngFor=\"let r of results\"\r\n                       class=\"item\"\r\n                       [value]=\"r\"\r\n                       [query]=\"query\"\r\n                       [formatter]=\"resultFormatter\"\r\n                       [template]=\"resultTemplate\"\r\n                       (click)=\"select(r)\"></fui-search-result>\r\n\r\n    <div *ngIf=\"results.length == 0\" class=\"message empty\">\r\n        <div class=\"header\">{{ localeValues.noResults.header }}</div>\r\n        <div class=\"description\">{{ localeValues.noResults.message }}</div>\r\n    </div>\r\n</div>\r\n`,\r\n  styles: [`\r\n/* Ensures results div has margin. */\r\n:host {\r\n    display: inline-block;\r\n    outline: 0;\r\n}\r\n\r\n/* Fixes positioning when results are pushed above the search. */\r\n.results {\r\n    margin-bottom: .5em;\r\n}\r\n`]\r\n})\r\nexport class FuiSearch<T> implements AfterViewInit {\r\n\r\n  public dropdownService: DropdownService;\r\n  public searchService: SearchService<T, T>;\r\n  // Doing it on the host enables use in menus etc.\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.search')\r\n  public readonly hasClasses: boolean;\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('attr.tabindex')\r\n  public readonly tabindex: number;\r\n  // Sets whether the search element has a visible search icon.\r\n  @Input()\r\n  public hasIcon: boolean;\r\n  public localeOverrides: RecursivePartial<ISearchLocaleValues>;\r\n  @Input()\r\n  public resultTemplate: TemplateRef<IResultContext<T>>;\r\n  @Input()\r\n  public retainSelectedResult: boolean;\r\n  @Input()\r\n  public maxResults: number;\r\n  // Stores the currently selected result.\r\n  public selectedResult?: T;\r\n  // Emits whenever a new result is selected.\r\n  @Output('resultSelected')\r\n  public onResultSelected: EventEmitter<T>;\r\n  @Input()\r\n  public transition: string;\r\n  @Input()\r\n  public transitionDuration: number;\r\n  @ViewChild(FuiDropdownMenu, {static: false})\r\n  private _menu: FuiDropdownMenu;\r\n\r\n  constructor(private _element: ElementRef, renderer: Renderer2, private _localizationService: FuiLocalizationService) {\r\n    this.dropdownService = new DropdownService();\r\n    this.searchService = new SearchService<T, T>();\r\n\r\n    this.onLocaleUpdate();\r\n    this._localizationService.onLanguageUpdate.subscribe(() => this.onLocaleUpdate());\r\n\r\n    this.hasClasses = true;\r\n    this.tabindex = 0;\r\n    this.hasIcon = true;\r\n    this.retainSelectedResult = true;\r\n    this.searchDelay = 200;\r\n    this.maxResults = 7;\r\n\r\n    this.onResultSelected = new EventEmitter<T>();\r\n\r\n    this.transition = 'scale';\r\n    this.transitionDuration = 200;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    return this.dropdownService.isOpen;\r\n  }\r\n\r\n  public get query(): string {\r\n    return this.searchService.query;\r\n  }\r\n\r\n  public set query(query: string) {\r\n    this.selectedResult = undefined;\r\n    // Initialise a delayed search.\r\n    this.searchService.updateQueryDelayed(query, () => {\r\n      // Set the results open state depending on whether a query has been entered.\r\n      return this.dropdownService.setOpenState(this.searchService.query.length > 0);\r\n    });\r\n  }\r\n\r\n  @Input()\r\n  public set options(options: T[] | undefined) {\r\n    if (options) {\r\n      this.searchService.options = options;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsFilter(filter: FilterFn<T> | undefined) {\r\n    if (filter) {\r\n      this.searchService.optionsFilter = filter;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsLookup(lookupFn: LookupFn<T> | undefined) {\r\n    this.searchService.optionsLookup = lookupFn;\r\n  }\r\n\r\n  @Input()\r\n  public set optionsField(field: string | undefined) {\r\n    this.searchService.optionsField = field;\r\n  }\r\n\r\n  @Input()\r\n  public set searchDelay(delay: number) {\r\n    this.searchService.searchDelay = delay;\r\n  }\r\n\r\n  @HostBinding('class.loading')\r\n  public get isSearching(): boolean {\r\n    return this.searchService.isSearching;\r\n  }\r\n\r\n  public get results(): T[] {\r\n    return this.searchService.results.slice(0, this.maxResults);\r\n  }\r\n\r\n  private _placeholder: string;\r\n\r\n  // Gets & sets the placeholder text displayed inside the text input.\r\n  @Input()\r\n  public get placeholder(): string {\r\n    return this._placeholder || this.localeValues.placeholder;\r\n  }\r\n\r\n  public set placeholder(placeholder: string) {\r\n    this._placeholder = placeholder;\r\n  }\r\n\r\n  private _localeValues: ISearchLocaleValues;\r\n\r\n  public get localeValues(): ISearchLocaleValues {\r\n    return this._localizationService.override<'search'>(this._localeValues, this.localeOverrides);\r\n  }\r\n\r\n  private _resultFormatter?: (r: T, q: string) => string;\r\n\r\n  public get resultFormatter(): (result: T, query: string) => string {\r\n    if (this._resultFormatter) {\r\n      return this._resultFormatter;\r\n    } else if (this.searchService.optionsLookup) {\r\n      return r => this.readValue(r);\r\n    } else {\r\n      return (r, q) => this.searchService.highlightMatches(this.readValue(r), q);\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set resultFormatter(formatter: (result: T, query: string) => string) {\r\n    this._resultFormatter = formatter;\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    this._menu.service = this.dropdownService;\r\n  }\r\n\r\n  // Selects a result.\r\n  public select(result: T): void {\r\n    this.onResultSelected.emit(result);\r\n    this.dropdownService.setOpenState(false);\r\n\r\n    if (this.retainSelectedResult) {\r\n      this.selectedResult = result;\r\n      this.searchService.updateQuery(this.readValue(result));\r\n    } else {\r\n      this.searchService.updateQuery('');\r\n    }\r\n  }\r\n\r\n  public onClick(e: MouseEvent): void {\r\n    this.open();\r\n  }\r\n\r\n  @HostListener('focusin')\r\n  public onFocusIn(): void {\r\n    if (!this.dropdownService.isAnimating) {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: IFocusEvent): void {\r\n    console.log(e);\r\n    if (!this._element.nativeElement.contains(e.relatedTarget)) {\r\n      this.dropdownService.setOpenState(false);\r\n    }\r\n  }\r\n\r\n  // Reads the specified field from an item.\r\n  public readValue(object: T): string {\r\n    return Util.Object.readValue<T, string>(object, this.searchService.optionsField);\r\n  }\r\n\r\n  private onLocaleUpdate(): void {\r\n    this._localeValues = this._localizationService.get().search;\r\n  }\r\n\r\n  private open(): void {\r\n    if (this.searchService.query.length > 0) {\r\n      // Only open on click when there is a query entered.\r\n      this.dropdownService.setOpenState(true);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiDropdownModule} from '../dropdown/internal';\r\nimport {FuiLocalizationModule} from '../../behaviors/localization/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiSearch} from './components/search';\r\nimport {FuiSearchResult} from './components/search-result';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FuiDropdownModule,\r\n    FuiLocalizationModule,\r\n    FuiUtilityModule\r\n  ],\r\n  declarations: [\r\n    FuiSearch,\r\n    FuiSearchResult\r\n  ],\r\n  exports: [\r\n    FuiSearch\r\n  ]\r\n})\r\nexport class FuiSearchModule {\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {FuiDropdownMenuItem} from '../../dropdown/internal';\r\nimport {HandledEvent} from '../../../misc/util/internal';\r\n\r\n@Component({\r\n  selector: 'fui-select-option',\r\n  template: `\r\n<span #templateSibling></span>\r\n<span [innerHTML]=\"renderedText\"></span>\r\n`\r\n})\r\nexport class FuiSelectOption<T> extends FuiDropdownMenuItem {\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('class.item')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input()\r\n  public value: T;\r\n\r\n  // Fires when the option is selected, whether by clicking or by keyboard.\r\n  @Output()\r\n  public onSelected: EventEmitter<T>;\r\n\r\n  @HostBinding('class.active')\r\n  public isActive: boolean;\r\n\r\n  public renderedText?: string;\r\n  public usesTemplate: boolean;\r\n  // Placeholder to draw template beside.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: false})\r\n  public templateSibling: ViewContainerRef;\r\n\r\n  constructor(renderer: Renderer2, element: ElementRef, public changeDetector: ChangeDetectorRef) {\r\n    // We inherit FuiDropdownMenuItem to automatically gain all keyboard navigation functionality.\r\n    // This is not done via adding the .item class because it isn't supported by Angular.\r\n    super(renderer, element);\r\n\r\n    this.hasClasses = true;\r\n    this.isActive = false;\r\n    this.onSelected = new EventEmitter<T>();\r\n\r\n    // By default we make the default text an empty label, for the brief moment when it isn't displaying the correct one.\r\n    this.renderedText = '';\r\n\r\n    this.usesTemplate = false;\r\n  }\r\n\r\n  public set formatter(formatter: (obj: T) => string) {\r\n    if (!this.usesTemplate) {\r\n      this.renderedText = formatter(this.value);\r\n    } else {\r\n      this.renderedText = '';\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n\r\n    setTimeout(() => this.onSelected.emit(this.value));\r\n  }\r\n}\r\n","import {Directive, ElementRef, EventEmitter, HostBinding, HostListener, Renderer2} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: 'input[fuiSelectSearch]'\r\n})\r\nexport class FuiSelectSearch {\r\n  @HostBinding('class.search')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @HostBinding('attr.autocomplete')\r\n  public readonly autoComplete: string;\r\n  public onQueryUpdated: EventEmitter<string>;\r\n  public onQueryKeyDown: EventEmitter<KeyboardEvent>;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef) {\r\n    this.onQueryUpdated = new EventEmitter<string>();\r\n    this.onQueryKeyDown = new EventEmitter<KeyboardEvent>();\r\n\r\n    this.hasClasses = true;\r\n    this.autoComplete = 'off';\r\n  }\r\n\r\n  public set query(query: string) {\r\n    this._renderer.setProperty(this._element.nativeElement, 'value', query);\r\n  }\r\n\r\n  @HostListener('input', ['$event.target.value'])\r\n  public updateQuery(query: string): void {\r\n    this.onQueryUpdated.emit(query);\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  public onKeyDown(e: KeyboardEvent): void {\r\n    this.onQueryKeyDown.emit(e);\r\n  }\r\n\r\n  public focus(): void {\r\n    // Slightly delay to support in menu search.\r\n    this._element.nativeElement.focus();\r\n    setTimeout(() => this._element.nativeElement.focus());\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ContentChild,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  QueryList,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {Subscription} from 'rxjs';\r\nimport {DropdownService, FuiDropdownMenu} from '../../dropdown/internal';\r\nimport {FilterFn, LookupFn, SearchService} from '../../search/internal';\r\nimport {HandledEvent, IFocusEvent, ITemplateRefContext, KeyCode, Util} from '../../../misc/util/internal';\r\nimport {ISelectLocaleValues, RecursivePartial, FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {FuiSelectOption} from '../components/select-option';\r\nimport {FuiSelectSearch} from '../directives/select-search';\r\n\r\nexport interface IOptionContext<T> extends ITemplateRefContext<T> {\r\n  query?: string;\r\n}\r\n\r\n// We use generic type T to smenuTransitionDurationpecify the type of the options we are working with,\r\n// and U to specify the type of the property of the option used as the value.\r\nexport abstract class FuiSelectBase<T, U> implements AfterContentInit, OnDestroy {\r\n\r\n  public dropdownService: DropdownService;\r\n  public searchService: SearchService<T, U>;\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.dropdown')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public isClearable: boolean;\r\n  @Input()\r\n  public isSearchable: boolean;\r\n  public isSearchExternal: boolean;\r\n  @Input()\r\n  public valueField: string;\r\n  @Input()\r\n  public optionTemplate: TemplateRef<IOptionContext<T>>;\r\n  public localeOverrides: RecursivePartial<ISelectLocaleValues>;\r\n  @Input()\r\n  public icon: string;\r\n  @Input()\r\n  public transition: string;\r\n  @Input()\r\n  public transitionDuration: number;\r\n  @Output('touched')\r\n  public onTouched: EventEmitter<void>;\r\n  @ViewChild(FuiDropdownMenu, {static: true})\r\n  protected _menu: FuiDropdownMenu;\r\n  // Keep track of all of the rendered select options. (Rendered by the user using *ngFor).\r\n  @ContentChildren(FuiSelectOption, {descendants: true})\r\n  protected _renderedOptions: QueryList<FuiSelectOption<T>>;\r\n  // Keep track of all of the subscriptions to the selected events on the rendered options.\r\n  private _renderedSubscriptions: Subscription[];\r\n  @ViewChild(FuiSelectSearch, {static: false})\r\n  private _internalSearch?: FuiSelectSearch;\r\n  @ContentChild(FuiSelectSearch, {static: false})\r\n  private _manualSearch?: FuiSelectSearch;\r\n  @Input('tabindex')\r\n  private _tabIndex?: number;\r\n\r\n  constructor(private _element: ElementRef, protected _localizationService: FuiLocalizationService) {\r\n    this.dropdownService = new DropdownService();\r\n    // We do want an empty query to return all results.\r\n    this.searchService = new SearchService<T, U>(true);\r\n\r\n    this.isSearchable = false;\r\n\r\n    this.onLocaleUpdate();\r\n    this._localizationService.onLanguageUpdate.subscribe(() => this.onLocaleUpdate());\r\n    this._renderedSubscriptions = [];\r\n\r\n    this.icon = 'dropdown';\r\n    this.transition = 'slide down';\r\n    this.transitionDuration = 200;\r\n\r\n    this.onTouched = new EventEmitter<void>();\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostBinding('class.active')\r\n  public get isActive(): boolean {\r\n    return this.dropdownService.isOpen;\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  public get isVisible(): boolean {\r\n    return this._menu.isVisible;\r\n  }\r\n\r\n  @HostBinding('class.search')\r\n  public get hasSearchClass(): boolean {\r\n    return this.isSearchable && !this.isSearchExternal;\r\n  }\r\n\r\n  @HostBinding('class.loading')\r\n  public get isSearching(): boolean {\r\n    return this.searchService.isSearching;\r\n  }\r\n\r\n  @HostBinding('class.clearable')\r\n  public get isClearing(): boolean {\r\n    return this.isClearable;\r\n  }\r\n\r\n  public get searchInput(): FuiSelectSearch | undefined {\r\n    return this._manualSearch || this._internalSearch;\r\n  }\r\n\r\n  @HostBinding('attr.tabindex')\r\n  public get tabindex(): number {\r\n    if (this.isDisabled) {\r\n      // If disabled, remove from tabindex.\r\n      return -1;\r\n    }\r\n    if (this.dropdownService.isOpen && this.isSearchExternal) {\r\n      // If open & in menu search, remove from tabindex (as input always autofocusses).\r\n      return -1;\r\n    }\r\n    if (this._tabIndex != undefined) {\r\n      // If custom tabindex, default to that.\r\n      return this._tabIndex;\r\n    }\r\n    if (this.hasSearchClass) {\r\n      // If search input enabled, tab goes to input.\r\n      return -1;\r\n    }\r\n    // Otherwise, return default of 0.\r\n    return 0;\r\n  }\r\n\r\n  @HostBinding('class.disabled')\r\n  @Input()\r\n  public get isDisabled(): boolean {\r\n    return this.dropdownService.isDisabled;\r\n  }\r\n\r\n  public set isDisabled(value: boolean) {\r\n    this.dropdownService.isDisabled = !!value;\r\n  }\r\n\r\n  @Input()\r\n  public set options(options: T[]) {\r\n    if (options) {\r\n      this.searchService.options = options;\r\n\r\n      this.optionsUpdateHook();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsFilter(filter: FilterFn<T> | undefined) {\r\n    if (filter) {\r\n      this.searchService.optionsFilter = filter;\r\n\r\n      this.optionsUpdateHook();\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public set optionsLookup(lookup: LookupFn<T, U> | undefined) {\r\n    if (lookup) {\r\n      this.searchService.optionsLookup = lookup;\r\n\r\n      this.optionsUpdateHook();\r\n    }\r\n  }\r\n\r\n  public get filteredOptions(): T[] {\r\n    return this.searchService.results;\r\n  }\r\n\r\n  // Deprecated\r\n  public get availableOptions(): T[] {\r\n    return this.filteredOptions;\r\n  }\r\n\r\n  public get query(): string | undefined {\r\n    return this.isSearchable ? this.searchService.query : undefined;\r\n  }\r\n\r\n  public set query(query: string | undefined) {\r\n    if (query != undefined) {\r\n      this.queryUpdateHook();\r\n      this.updateQuery(query);\r\n      // Update the rendered text as query has changed.\r\n      this._renderedOptions.forEach(ro => this.initialiseRenderedOption(ro));\r\n\r\n      if (this.searchInput) {\r\n        this.searchInput.query = query;\r\n      }\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  public get labelField(): string | undefined {\r\n    return this.searchService.optionsField;\r\n  }\r\n\r\n  public set labelField(field: string | undefined) {\r\n    this.searchService.optionsField = field;\r\n  }\r\n\r\n  public get labelGetter(): (obj: T) => string {\r\n    // Helper function to retrieve the label from an item.\r\n    return (obj: T) => {\r\n      const label = Util.Object.readValue<T, string>(obj, this.labelField);\r\n      if (label != undefined) {\r\n        return label.toString();\r\n      }\r\n      return '';\r\n    };\r\n  }\r\n\r\n  public get valueGetter(): (obj: T) => U {\r\n    // Helper function to retrieve the value from an item.\r\n    return (obj: T) => Util.Object.readValue<T, U>(obj, this.valueField);\r\n  }\r\n\r\n  public get configuredFormatter(): (option: T) => string {\r\n    if (this._optionFormatter) {\r\n      return o => this._optionFormatter!(o, this.isSearchable ? this.query : undefined);\r\n    } else if (this.searchService.optionsLookup) {\r\n      return o => this.labelGetter(o);\r\n    } else {\r\n      return o => this.searchService.highlightMatches(this.labelGetter(o), this.query || '');\r\n    }\r\n  }\r\n\r\n  private _optionFormatter?: (o: T, q?: string) => string;\r\n\r\n  @Input()\r\n  public set optionFormatter(formatter: ((option: T, query?: string) => string) | undefined) {\r\n    this._optionFormatter = formatter;\r\n  }\r\n\r\n  private _localeValues: ISelectLocaleValues;\r\n\r\n  public get localeValues(): ISelectLocaleValues {\r\n    return this._localizationService.override<'select'>(this._localeValues, this.localeOverrides);\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    this._menu.service = this.dropdownService;\r\n    // We manually specify the menu items to the menu because the @ContentChildren doesn't pick up our dynamically rendered items.\r\n    this._menu.items = this._renderedOptions;\r\n    this._menu.parentElement = this._element;\r\n\r\n    if (this._manualSearch) {\r\n      this.isSearchable = true;\r\n      this.isSearchExternal = true;\r\n    }\r\n\r\n    if (this.searchInput) {\r\n      this.searchInput.onQueryUpdated.subscribe((q: string) => this.query = q);\r\n      this.searchInput.onQueryKeyDown.subscribe((e: KeyboardEvent) => this.onQueryInputKeydown(e));\r\n    }\r\n\r\n    // We must call this immediately as changes doesn't fire when you subscribe.\r\n    this.onAvailableOptionsRendered();\r\n    this._renderedOptions.changes.subscribe(() => this.onAvailableOptionsRendered());\r\n  }\r\n\r\n  public abstract selectOption(option: T): void;\r\n\r\n  public onCaretClick(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n\r\n      if (!this.dropdownService.isAnimating) {\r\n        this.dropdownService.setOpenState(!this.dropdownService.isOpen);\r\n\r\n        this.focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    if (!e.eventHandled && !this.dropdownService.isAnimating) {\r\n      e.eventHandled = true;\r\n\r\n      // If the dropdown is searchable, clicking should keep it open, otherwise we toggle the open state.\r\n      this.dropdownService.setOpenState(this.isSearchable ? true : !this.dropdownService.isOpen);\r\n\r\n      // Immediately focus the search input whenever clicking on the select.\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusin')\r\n  public onFocusIn(): void {\r\n    if (!this.dropdownService.isOpen && !this.dropdownService.isAnimating) {\r\n      this.dropdownService.setOpenState(true);\r\n\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  @HostListener('focusout', ['$event'])\r\n  public onFocusOut(e: IFocusEvent): void {\r\n    if (!this._element.nativeElement.contains(e.relatedTarget)) {\r\n      this.dropdownService.setOpenState(false);\r\n      this.onTouched.emit();\r\n    }\r\n  }\r\n\r\n  @HostListener('keypress', ['$event'])\r\n  public onKeyPress(e: KeyboardEvent): void {\r\n    if (e.keyCode === KeyCode.Enter) {\r\n      // Enables support for focussing and opening with the keyboard alone.\r\n      // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n      this._element.nativeElement.click();\r\n    }\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  public onKeyDown(e: KeyboardEvent): void {\r\n    if (!this.dropdownService.isOpen && e.keyCode === KeyCode.Down) {\r\n\r\n      // Enables support for focussing and opening with the keyboard alone.\r\n      // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n      this._element.nativeElement.click();\r\n\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  public onQueryInputKeydown(event: KeyboardEvent): void {\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this._renderedSubscriptions.forEach(s => s.unsubscribe());\r\n  }\r\n\r\n  // Hook is here since Typescript doesn't yet support overriding getters & setters while still calling the superclass.\r\n  protected optionsUpdateHook(): void {\r\n  }\r\n\r\n  // Hook is here since Typescript doesn't yet support overriding getters & setters while still calling the superclass.\r\n  protected queryUpdateHook(): void {\r\n  }\r\n\r\n  protected updateQuery(query: string): void {\r\n    // Update the query then open the dropdown, as after keyboard input it should always be open.\r\n    this.searchService.updateQuery(query, () =>\r\n      this.dropdownService.setOpenState(true));\r\n  }\r\n\r\n  protected resetQuery(delayed: boolean = true): void {\r\n    // The search delay is set to the transition duration to ensure results\r\n    // aren't rendered as the select closes as that causes a sudden flash.\r\n    if (delayed) {\r\n      this.searchService.searchDelay = this._menu.menuTransitionDuration;\r\n      this.searchService.updateQueryDelayed('');\r\n    } else {\r\n      this.searchService.updateQuery('');\r\n    }\r\n\r\n    if (this.searchInput) {\r\n      this.searchInput.query = '';\r\n    }\r\n  }\r\n\r\n  protected onAvailableOptionsRendered(): void {\r\n    // Unsubscribe from all previous subscriptions to avoid memory leaks on large selects.\r\n    this._renderedSubscriptions.forEach(rs => rs.unsubscribe());\r\n    this._renderedSubscriptions = [];\r\n\r\n    this._renderedOptions.forEach(ro => {\r\n      // Slightly delay initialisation to avoid change after checked errors. TODO - look into avoiding this!\r\n      setTimeout(() => this.initialiseRenderedOption(ro));\r\n\r\n      this._renderedSubscriptions.push(ro.onSelected.subscribe(() => this.selectOption(ro.value)));\r\n    });\r\n\r\n    // If no options have been provided, autogenerate them from the rendered ones.\r\n    if (this.searchService.options.length === 0 && !this.searchService.optionsLookup) {\r\n      this.options = this._renderedOptions.map(ro => ro.value);\r\n    }\r\n  }\r\n\r\n  protected initialiseRenderedOption(option: FuiSelectOption<T>): void {\r\n    option.usesTemplate = !!this.optionTemplate;\r\n    option.formatter = this.configuredFormatter;\r\n\r\n    if (option.usesTemplate) {\r\n      this.drawTemplate(option.templateSibling, option.value);\r\n    }\r\n\r\n    option.changeDetector.markForCheck();\r\n  }\r\n\r\n  protected findOption(options: T[], value: U): T | undefined {\r\n    // Tries to find an option in options array\r\n    return options.find(o => value === this.valueGetter(o));\r\n  }\r\n\r\n  protected focus(): void {\r\n    if (this.isSearchable && this.searchInput) {\r\n      // Focusses the search input only when searchable.\r\n      // Using directly because Renderer2 doesn't have invokeElementMethod method anymore.\r\n      this.searchInput.focus();\r\n    } else {\r\n      this._element.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  // Helper that draws the provided template beside the provided ViewContainerRef.\r\n  protected drawTemplate(siblingRef: ViewContainerRef, value: T): void {\r\n    siblingRef.clear();\r\n    // Use of `$implicit` means use of <ng-template let-option> syntax is supported.\r\n    siblingRef.createEmbeddedView(this.optionTemplate, {\r\n      $implicit: value,\r\n      query: this.query\r\n    });\r\n  }\r\n\r\n  private onLocaleUpdate(): void {\r\n    this._localeValues = this._localizationService.get().select;\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport {FuiTransition, Transition, TransitionController, TransitionDirection} from '../../transition/internal';\r\nimport {HandledEvent, FuiComponentFactory} from '../../../misc/util/internal';\r\nimport {IOptionContext} from '../classes/select-base';\r\n\r\n// See https://github.com/Microsoft/TypeScript/issues/13449.\r\nconst templateRef = TemplateRef;\r\n\r\n@Component({\r\n  selector: 'fui-multi-select-label',\r\n  template: `\r\n<span #templateSibling></span>\r\n<span *ngIf=\"!template\" [innerHTML]=\"formatter(value)\"></span>\r\n<i class=\"delete icon\" (click)=\"deselectOption($event)\"></i>\r\n`\r\n})\r\nexport class FuiMultiSelectLabel<T> extends FuiTransition {\r\n\r\n  // Doing it on the host enables use in menus etc.\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.label')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public value: T;\r\n\r\n  // Sets the Fomantic UI classes on the host element.\r\n  @Input()\r\n  public query?: string;\r\n  @Output('deselected')\r\n  public onDeselected: EventEmitter<T>;\r\n  @Input()\r\n  public formatter: (obj: T) => string;\r\n  // Placeholder to draw template beside.\r\n  @ViewChild('templateSibling', {read: ViewContainerRef, static: false})\r\n  public templateSibling: ViewContainerRef;\r\n  private _transitionController: TransitionController;\r\n\r\n  constructor(renderer: Renderer2,\r\n              element: ElementRef,\r\n              changeDetector: ChangeDetectorRef,\r\n              public componentFactory: FuiComponentFactory) {\r\n\r\n    super(renderer, element, changeDetector);\r\n\r\n    // Initialise transition functionality.\r\n    this._transitionController = new TransitionController(false, 'inline-block');\r\n    this.setTransitionController(this._transitionController);\r\n\r\n    this.onDeselected = new EventEmitter<T>();\r\n\r\n    this.hasClasses = true;\r\n\r\n    this._transitionController.animate(new Transition('scale', 100, TransitionDirection.In));\r\n  }\r\n\r\n  private _template?: TemplateRef<IOptionContext<T>>;\r\n\r\n  @Input()\r\n  public get template(): TemplateRef<IOptionContext<T>> | undefined {\r\n    return this._template;\r\n  }\r\n\r\n  public set template(template: TemplateRef<IOptionContext<T>> | undefined) {\r\n    this._template = template;\r\n    if (this.template) {\r\n      this.componentFactory.createView(this.templateSibling, this.template, {\r\n        $implicit: this.value,\r\n        query: this.query\r\n      });\r\n    }\r\n  }\r\n\r\n  public deselectOption(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n\r\n    this._transitionController.animate(\r\n      new Transition('scale', 100, TransitionDirection.Out, () =>\r\n        this.onDeselected.emit(this.value)));\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(e: HandledEvent): void {\r\n    e.eventHandled = true;\r\n  }\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, HostBinding, Input, Output} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, ICustomValueAccessorHost, KeyCode} from '../../../misc/util/internal';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {FuiSelectBase} from '../classes/select-base';\r\nimport {FuiSelectOption} from './select-option';\r\n\r\n@Component({\r\n  selector: 'fui-multi-select',\r\n  template: `\r\n<!-- Dropdown icon -->\r\n<i class=\"{{ icon }} icon\" (click)=\"onCaretClick($event)\"></i>\r\n\r\n<ng-container *ngIf=\"hasLabels\">\r\n<!-- Multi-select labels -->\r\n    <fui-multi-select-label *ngFor=\"let selected of selectedOptions;\"\r\n                            [value]=\"selected\"\r\n                            [query]=\"query\"\r\n                            [formatter]=\"configuredFormatter\"\r\n                            [template]=\"optionTemplate\"\r\n                            (deselected)=\"deselectOption($event)\"></fui-multi-select-label>\r\n</ng-container>\r\n\r\n<!-- Query input -->\r\n<input fuiSelectSearch\r\n       type=\"text\"\r\n       [hidden]=\"!isSearchable || isSearchExternal\">\r\n\r\n<!-- Helper text -->\r\n<div class=\"text\"\r\n     [class.default]=\"hasLabels\"\r\n     [class.filtered]=\"!!query && !isSearchExternal\">\r\n\r\n    <!-- Placeholder text -->\r\n    <ng-container *ngIf=\"hasLabels; else selectedBlock\">{{ placeholder }}</ng-container>\r\n\r\n    <!-- Summary shown when labels are hidden -->\r\n    <ng-template #selectedBlock> {{ selectedMessage }}</ng-template>\r\n</div>\r\n\r\n<!-- Select dropdown menu -->\r\n<div class=\"menu\"\r\n     fuiDropdownMenu\r\n     [menuTransition]=\"transition\"\r\n     [menuTransitionDuration]=\"transitionDuration\"\r\n     [menuAutoSelectFirst]=\"true\">\r\n\r\n    <ng-content></ng-content>\r\n    <ng-container *ngIf=\"availableOptions.length == 0 \">\r\n        <div *ngIf=\"!maxSelectedReached\" class=\"message\">{{ localeValues.noResultsMessage }}</div>\r\n        <div *ngIf=\"maxSelectedReached\" class=\"message\">{{ maxSelectedMessage }}</div>\r\n    </ng-container>\r\n</div>\r\n`,\r\n  styles: [`\r\n:host input.search {\r\n    width: 12em !important;\r\n}\r\n`]\r\n})\r\nexport class FuiMultiSelect<T, U> extends FuiSelectBase<T, U> implements ICustomValueAccessorHost<U[]> {\r\n\r\n  public selectedOptions: T[];\r\n  @Output()\r\n  public selectedOptionsChange: EventEmitter<U[]>;\r\n  @Input()\r\n  public maxSelected: number;\r\n  @HostBinding('class.multiple')\r\n  public readonly hasClasses: boolean;\r\n  // Stores the values written by ngModel before it can be matched to an option from `options`.\r\n  private _writtenOptions?: U[];\r\n\r\n  constructor(element: ElementRef, localizationService: FuiLocalizationService) {\r\n    super(element, localizationService);\r\n\r\n    this.selectedOptions = [];\r\n    this.selectedOptionsChange = new EventEmitter<U[]>();\r\n\r\n    this.hasLabels = true;\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public get filteredOptions(): T[] {\r\n    if (this.maxSelectedReached) {\r\n      // If we have reached the maximum number of selections, then empty the results completely.\r\n      return [];\r\n    }\r\n\r\n    const searchResults: T[] = this.searchService.results;\r\n\r\n    if (!this.hasLabels) {\r\n      return searchResults;\r\n    } else {\r\n      // Returns the search results \\ selected options.\r\n      return searchResults\r\n        .filter(r => this.selectedOptions.find(o => r === o) == undefined);\r\n    }\r\n  }\r\n\r\n  public get availableOptions(): T[] {\r\n    return this.filteredOptions;\r\n  }\r\n\r\n  public get maxSelectedReached(): boolean {\r\n    if (this.maxSelected == undefined) {\r\n      // If there is no maximum then we can immediately return.\r\n      return false;\r\n    }\r\n    return this.selectedOptions.length === this.maxSelected;\r\n  }\r\n\r\n  public get maxSelectedMessage(): string {\r\n    return this._localizationService.interpolate(\r\n      this.localeValues.multi.maxSelectedMessage,\r\n      [['max', this.maxSelected.toString()]]);\r\n  }\r\n\r\n  public get selectedMessage(): string {\r\n    return this._localizationService.interpolate(\r\n      this.localeValues.multi.selectedMessage,\r\n      [['count', this.selectedOptions.length.toString() === '0' && this._showCountText ?\r\n        this._showCountText : this.selectedOptions.length.toString()]]);\r\n  }\r\n\r\n  private _hasLabels: boolean;\r\n\r\n  @Input()\r\n  public get hasLabels(): boolean {\r\n    return this._hasLabels;\r\n  }\r\n\r\n  public set hasLabels(hasLabels: boolean) {\r\n    this._hasLabels = hasLabels;\r\n  }\r\n\r\n  private _showCountText: string;\r\n\r\n  @Input()\r\n  public get showCountText(): string {\r\n    return this._showCountText;\r\n  }\r\n\r\n  public set showCountText(showCountText: string) {\r\n    this._showCountText = showCountText;\r\n  }\r\n\r\n  private _placeholder: string;\r\n\r\n  @Input()\r\n  public get placeholder(): string {\r\n    return this._placeholder || this.localeValues.multi.placeholder;\r\n  }\r\n\r\n  public set placeholder(placeholder: string) {\r\n    this._placeholder = placeholder;\r\n  }\r\n\r\n  public selectOption(option: T): void {\r\n    if (this.selectedOptions.indexOf(option) !== -1) {\r\n      this.deselectOption(option);\r\n      return;\r\n    }\r\n    this.selectedOptions.push(option);\r\n    this.selectedOptionsChange.emit(this.selectedOptions.map(o => this.valueGetter(o)));\r\n\r\n    this.resetQuery(false);\r\n\r\n    // Automatically refocus the search input for better keyboard accessibility.\r\n    this.focus();\r\n\r\n    if (!this.hasLabels) {\r\n      this.onAvailableOptionsRendered();\r\n    }\r\n  }\r\n\r\n  public writeValue(values: U[]): void {\r\n    if (values instanceof Array) {\r\n      if (this.searchService.options.length > 0) {\r\n        // If the options have already been loaded, we can immediately match the ngModel values to options.\r\n        this.selectedOptions = values\r\n        // non-null assertion added here because Typescript doesn't recognise the non-null filter.\r\n          .map(v => this.findOption(this.searchService.options, v)!)\r\n          .filter(v => v != undefined);\r\n      }\r\n      if (values.length > 0 && this.selectedOptions.length === 0) {\r\n        if (this.searchService.hasItemLookup) {\r\n          // If the search service has a selected lookup function, make use of that to load the initial values.\r\n          this.searchService\r\n            .initialLookup(values)\r\n            .then(items => this.selectedOptions = items);\r\n        } else {\r\n          // Otherwise, cache the written value for when options are set.\r\n          this._writtenOptions = values;\r\n        }\r\n      }\r\n      if (values.length === 0) {\r\n        this.selectedOptions = [];\r\n      }\r\n    } else {\r\n      this.selectedOptions = [];\r\n    }\r\n  }\r\n\r\n  public deselectOption(option: T): void {\r\n    // Update selected options to the previously selected options \\ {option}.\r\n    this.selectedOptions = this.selectedOptions.filter(so => so !== option);\r\n    this.selectedOptionsChange.emit(this.selectedOptions.map(o => this.valueGetter(o)));\r\n\r\n    // Automatically refocus the search input for better keyboard accessibility.\r\n    this.focus();\r\n\r\n    if (!this.hasLabels) {\r\n      this.onAvailableOptionsRendered();\r\n    }\r\n  }\r\n\r\n  public onQueryInputKeydown(event: KeyboardEvent): void {\r\n    if (event.keyCode === KeyCode.Backspace && this.query === '' && this.selectedOptions.length > 0) {\r\n      // Deselect the rightmost option when the user presses backspace in the search input.\r\n      this.deselectOption(this.selectedOptions[this.selectedOptions.length - 1]);\r\n    }\r\n  }\r\n\r\n  protected optionsUpdateHook(): void {\r\n    if (!this._writtenOptions && this.selectedOptions.length > 0) {\r\n      // We need to check the options still exist.\r\n      this.writeValue(this.selectedOptions.map(o => this.valueGetter(o)));\r\n    }\r\n\r\n    if (this._writtenOptions && this.searchService.options.length > 0) {\r\n      // If there were values written by ngModel before the options had been loaded, this runs to fix it.\r\n      this.selectedOptions = this._writtenOptions\r\n      // non-null assertion added here because Typescript doesn't recognise the non-null filter.\r\n        .map(v => this.findOption(this.searchService.options, v)!)\r\n        .filter(v => v != undefined);\r\n\r\n      if (this.selectedOptions.length === this._writtenOptions.length) {\r\n        this._writtenOptions = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  protected initialiseRenderedOption(option: FuiSelectOption<T>): void {\r\n    super.initialiseRenderedOption(option);\r\n\r\n    // Boldens the item so it appears selected in the dropdown.\r\n    option.isActive = !this.hasLabels && this.selectedOptions.indexOf(option.value) !== -1;\r\n  }\r\n}\r\n\r\n// Value accessor directive for the select to support ngModel.\r\n@Directive({\r\n  selector: 'fui-multi-select',\r\n  host: {\r\n    '(selectedOptionsChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiMultiSelectValueAccessor)]\r\n})\r\nexport class FuiMultiSelectValueAccessor<T, U> extends CustomValueAccessor<U[], FuiMultiSelect<T, U>> {\r\n  constructor(host: FuiMultiSelect<T, U>) {\r\n    super(host);\r\n  }\r\n}\r\n","import {Component, Directive, ElementRef, EventEmitter, Input, Output, ViewChild, ViewContainerRef} from '@angular/core';\r\nimport {CustomValueAccessor, customValueAccessorFactory, HandledEvent, ICustomValueAccessorHost} from '../../../misc/util/internal';\r\nimport {FuiLocalizationService} from '../../../behaviors/localization/internal';\r\nimport {FuiSelectBase} from '../classes/select-base';\r\nimport {FuiSelectOption} from './select-option';\r\n\r\n@Component({\r\n  selector: 'fui-select',\r\n  template: `\r\n                   <!-- Query input -->\r\n                   <input fuiSelectSearch\r\n                          type=\"text\"\r\n                          [hidden]=\"!isSearchable || isSearchExternal\">\r\n\r\n                   <!-- Placeholder text -->\r\n                   <div *ngIf=\"selectedOption == undefined\" class=\"default text\" [class.filtered]=\"query\">{{ placeholder }}</div>\r\n                   <!-- Selected item -->\r\n                   <div class=\"text\" [class.filtered]=\"query || selectedOption == undefined\">\r\n                       <span #optionTemplateSibling></span>\r\n                       <span *ngIf=\"!optionTemplate && selectedOption != undefined\"\r\n                             [innerHTML]=\"configuredFormatter(selectedOption)\"></span>\r\n                   </div>\r\n                   <!-- Dropdown icon -->\r\n                   <i *ngIf=\"selectedOption && !isSearching && isClearable\" class=\"times icon\"\r\n                      (click)=\"onRemoveClick($event)\"></i>\r\n                   <i *ngIf=\"!selectedOption || !isClearable\" class=\"{{ icon }} icon\" (click)=\"onCaretClick($event)\"></i>\r\n                   <!-- Select dropdown menu -->\r\n                   <div class=\"menu\"\r\n                        fuiDropdownMenu\r\n                        [menuTransition]=\"transition\"\r\n                        [menuTransitionDuration]=\"transitionDuration\"\r\n                        [menuAutoSelectFirst]=\"isSearchable\">\r\n\r\n                       <ng-content></ng-content>\r\n                       <div *ngIf=\"isSearchable && availableOptions.length === 0\" class=\"message\">\r\n                           {{ localeValues.noResultsMessage }}\r\n                       </div>\r\n                   </div>\r\n               `,\r\n  styles: [`\r\n                   :host .times.icon {\r\n                       position: absolute;\r\n                       width: auto;\r\n                       height: auto;\r\n                       line-height: 1.21428571em;\r\n                       top: .78571429em;\r\n                       right: 1em;\r\n                       margin: -.78571429em;\r\n                       opacity: .6;\r\n                       font-size: 1.07142857em;\r\n                       padding: .6em;\r\n                       -webkit-transition: opacity .1s ease;\r\n                       transition: opacity .1s ease;\r\n                       z-index: 3;\r\n                   }\r\n\r\n                   :host .times.icon.larger {\r\n                       padding: .91666667em;\r\n                       font-size: .85714286em;\r\n                   }\r\n\r\n                   :host .times.icon:hover {\r\n                       opacity: 1;\r\n                   }\r\n               `]\r\n})\r\nexport class FuiSelect<T, U> extends FuiSelectBase<T, U> implements ICustomValueAccessorHost<U> {\r\n\r\n  public selectedOption?: T;\r\n  @Output()\r\n  public selectedOptionChange: EventEmitter<U>;\r\n  // Stores the value written by ngModel before it can be matched to an option from `options`.\r\n  private _writtenOption?: U;\r\n  @ViewChild('optionTemplateSibling', {read: ViewContainerRef, static: false})\r\n  private _optionTemplateSibling: ViewContainerRef;\r\n\r\n  constructor(element: ElementRef, localizationService: FuiLocalizationService) {\r\n    super(element, localizationService);\r\n\r\n    this.selectedOptionChange = new EventEmitter<U>();\r\n  }\r\n\r\n  private _placeholder: string;\r\n\r\n  @Input()\r\n  public get placeholder(): string {\r\n    return this._placeholder || this.localeValues.single.placeholder;\r\n  }\r\n\r\n  public set placeholder(placeholder: string) {\r\n    this._placeholder = placeholder;\r\n  }\r\n\r\n  public selectOption(option: T): void {\r\n    // Choose and emit the selected option.\r\n    this.selectedOption = option;\r\n    this.selectedOptionChange.emit(this.valueGetter(option));\r\n\r\n    this.dropdownService.setOpenState(false);\r\n\r\n    this.resetQuery();\r\n\r\n    this.drawSelectedOption();\r\n\r\n    // Automatically refocus the search input for better keyboard accessibility.\r\n    this.focus();\r\n  }\r\n\r\n  public writeValue(value: U): void {\r\n    if (value != undefined) {\r\n      if (this.searchService.options.length > 0) {\r\n        // If the options have already been loaded, we can immediately match the ngModel value to an option.\r\n        this.selectedOption = this.findOption(this.searchService.options, value);\r\n\r\n        this.drawSelectedOption();\r\n      }\r\n      if (this.selectedOption == undefined) {\r\n        if (this.valueField && this.searchService.hasItemLookup) {\r\n          // If the search service has a selected lookup function, make use of that to load the initial value.\r\n          this.searchService\r\n            .initialLookup(value)\r\n            .then(i => {\r\n              this.selectedOption = i;\r\n              this.drawSelectedOption();\r\n            });\r\n        } else {\r\n          // Otherwise, cache the written value for when options are set.\r\n          this._writtenOption = value;\r\n        }\r\n      }\r\n    } else {\r\n      this.selectedOption = undefined;\r\n      this.drawSelectedOption();\r\n    }\r\n  }\r\n\r\n  public onRemoveClick(e: HandledEvent): void {\r\n    if (!e.eventHandled) {\r\n      e.eventHandled = true;\r\n      this.selectedOption = undefined;\r\n      this.selectedOptionChange.emit(undefined);\r\n      this._renderedOptions.forEach(o => o.isActive = false);\r\n    }\r\n  }\r\n\r\n  protected optionsUpdateHook(): void {\r\n    if (!this._writtenOption && this.selectedOption) {\r\n      // We need to check the option still exists.\r\n      this.writeValue(this.valueGetter(this.selectedOption));\r\n    }\r\n\r\n    if (this._writtenOption && this.searchService.options.length > 0) {\r\n      // If there was an value written by ngModel before the options had been loaded, this runs to fix it.\r\n      this.selectedOption = this.findOption(this.searchService.options, this._writtenOption);\r\n      if (this.selectedOption) {\r\n        this._writtenOption = undefined;\r\n        this.drawSelectedOption();\r\n      }\r\n    }\r\n  }\r\n\r\n  protected queryUpdateHook(): void {\r\n    // When the query is updated, we just abandon the current selection.\r\n    this.selectedOption = undefined;\r\n  }\r\n\r\n  protected initialiseRenderedOption(option: FuiSelectOption<T>): void {\r\n    super.initialiseRenderedOption(option);\r\n\r\n    // Boldens the item so it appears selected in the dropdown.\r\n    option.isActive = option.value === this.selectedOption;\r\n  }\r\n\r\n  private drawSelectedOption(): void {\r\n    // Updates the active class on the newly selected option.\r\n    if (this._renderedOptions) {\r\n      this.onAvailableOptionsRendered();\r\n    }\r\n\r\n    if (this.selectedOption != undefined && this.optionTemplate) {\r\n      this.drawTemplate(this._optionTemplateSibling, this.selectedOption);\r\n    }\r\n  }\r\n}\r\n\r\n// Value accessor directive for the select to support ngModel.\r\n@Directive({\r\n  selector: 'fui-select',\r\n  host: {\r\n    '(selectedOptionChange)': 'onChange($event)',\r\n    '(touched)': 'onTouched()'\r\n  },\r\n  providers: [customValueAccessorFactory(FuiSelectValueAccessor)]\r\n})\r\nexport class FuiSelectValueAccessor<T, U> extends CustomValueAccessor<U, FuiSelect<T, U>> {\r\n  constructor(host: FuiSelect<T, U>) {\r\n    super(host);\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {FuiDropdownModule} from '../dropdown/internal';\r\nimport {FuiUtilityModule} from '../../misc/util/internal';\r\nimport {FuiLocalizationModule} from '../../behaviors/localization/internal';\r\nimport {FuiSelect, FuiSelectValueAccessor} from './components/select';\r\nimport {FuiSelectOption} from './components/select-option';\r\nimport {FuiSelectSearch} from './directives/select-search';\r\nimport {FuiMultiSelect, FuiMultiSelectValueAccessor} from './components/multi-select';\r\nimport {FuiMultiSelectLabel} from './components/multi-select-label';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FuiDropdownModule,\r\n    FuiUtilityModule,\r\n    FuiLocalizationModule\r\n  ],\r\n  declarations: [\r\n    FuiSelect,\r\n    FuiSelectOption,\r\n    FuiSelectSearch,\r\n    FuiSelectValueAccessor,\r\n    FuiMultiSelect,\r\n    FuiMultiSelectLabel,\r\n    FuiMultiSelectValueAccessor\r\n  ],\r\n  exports: [\r\n    FuiSelect,\r\n    FuiSelectOption,\r\n    FuiSelectSearch,\r\n    FuiSelectValueAccessor,\r\n    FuiMultiSelect,\r\n    FuiMultiSelectValueAccessor\r\n  ]\r\n})\r\nexport class FuiSelectModule {\r\n}\r\n","import {EventEmitter} from '@angular/core';\r\n\r\nexport type SidebarTransition = 'overlay' | 'push' | 'scale down' | 'uncover' | 'slide along' | 'slide out';\r\n\r\nexport const SidebarTransition = {\r\n  Overlay: 'overlay' as SidebarTransition,\r\n  Push: 'push' as SidebarTransition,\r\n  ScaleDown: 'scale down' as SidebarTransition,\r\n  Uncover: 'uncover' as SidebarTransition,\r\n  SlideAlong: 'slide along' as SidebarTransition,\r\n  SlideOut: 'slide out' as SidebarTransition\r\n};\r\n\r\nexport type SidebarDirection = 'left' | 'right' | 'top' | 'bottom';\r\n\r\nexport const SidebarDirection = {\r\n  Left: 'left' as SidebarDirection,\r\n  Right: 'right' as SidebarDirection,\r\n  Top: 'top' as SidebarDirection,\r\n  Bottom: 'bottom' as SidebarDirection\r\n};\r\n\r\nexport class SidebarService {\r\n\r\n  public isVisible: boolean;\r\n  public isAnimating: boolean;\r\n  public wasJustOpened: boolean;\r\n  public direction: SidebarDirection;\r\n  public isVisibleChange: EventEmitter<boolean>;\r\n  public widthChange: EventEmitter<void>;\r\n  public heightChange: EventEmitter<void>;\r\n  public transition: SidebarTransition;\r\n  private _isAnimatingTimeout: number;\r\n\r\n  constructor(isVisible: boolean = false) {\r\n    this.isVisible = isVisible;\r\n    this.isAnimating = false;\r\n    this.wasJustOpened = false;\r\n\r\n    this.isVisibleChange = new EventEmitter<boolean>();\r\n    this.widthChange = new EventEmitter<void>();\r\n    this.heightChange = new EventEmitter<void>();\r\n\r\n    this.width = 260;\r\n    this.height = 0;\r\n\r\n    this.transition = SidebarTransition.Uncover;\r\n  }\r\n\r\n  private _width: number;\r\n\r\n  public get width(): number {\r\n    if (this.direction === SidebarDirection.Left) {\r\n      return this._width;\r\n    }\r\n    if (this.direction === SidebarDirection.Right) {\r\n      return -this._width;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public set width(width: number) {\r\n    this._width = width;\r\n    this.widthChange.emit();\r\n  }\r\n\r\n  private _height: number;\r\n\r\n  public get height(): number {\r\n    if (this.direction === SidebarDirection.Top) {\r\n      return this._height;\r\n    }\r\n    if (this.direction === SidebarDirection.Bottom) {\r\n      return -this._height;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public set height(height: number) {\r\n    this._height = height;\r\n    this.heightChange.emit();\r\n  }\r\n\r\n  public setVisibleState(isVisible: boolean): void {\r\n    if (this.isVisible !== isVisible) {\r\n      this.isVisible = isVisible;\r\n      this.isAnimating = true;\r\n      this.wasJustOpened = true;\r\n\r\n      this.isVisibleChange.emit(isVisible);\r\n\r\n      setTimeout(() => this.wasJustOpened = false);\r\n      clearTimeout(this._isAnimatingTimeout);\r\n      this._isAnimatingTimeout = window.setTimeout(() => this.isAnimating = false, 500);\r\n    }\r\n  }\r\n\r\n  public toggleVisibleState(): void {\r\n    this.setVisibleState(!this.isVisible);\r\n  }\r\n}\r\n","import {Component, ElementRef, EventEmitter, HostBinding, Input, Output, Renderer2} from '@angular/core';\r\nimport {SidebarDirection, SidebarService, SidebarTransition} from '../services/sidebar.service';\r\n\r\n@Component({\r\n  selector: 'fui-sidebar',\r\n  template: `<ng-content></ng-content>`\r\n})\r\nexport class FuiSidebar {\r\n  public service: SidebarService;\r\n\r\n  @HostBinding('class.ui')\r\n  @HostBinding('class.sidebar')\r\n  @HostBinding('class.menu')\r\n  public readonly hasClasses: boolean;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef) {\r\n    this.service = new SidebarService();\r\n    // We set the default here as well to force the classes to update.\r\n    this.transition = SidebarTransition.Uncover;\r\n    this.direction = SidebarDirection.Left;\r\n\r\n    setTimeout(() => this.updateDimensions());\r\n    this.service.isVisibleChange.subscribe(() => this.updateDimensions());\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @Input()\r\n  public get transition(): SidebarTransition {\r\n    return this.service.transition;\r\n  }\r\n\r\n  public set transition(transition: SidebarTransition) {\r\n    this.service.transition.split(' ').forEach(c => this.setClass(c, false));\r\n\r\n    this.service.transition = transition;\r\n\r\n    this.service.transition.split(' ').forEach(c => this.setClass(c, true));\r\n  }\r\n\r\n  @Input()\r\n  public get direction(): SidebarDirection {\r\n    return this.service.direction;\r\n  }\r\n\r\n  public set direction(direction: SidebarDirection) {\r\n    this.setClass(this.service.direction, false);\r\n\r\n    this.service.direction = direction;\r\n\r\n    this.setClass(this.service.direction, true);\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  @Input()\r\n  public get isVisible(): boolean {\r\n    return this.service.isVisible;\r\n  }\r\n\r\n  public set isVisible(isVisible: boolean) {\r\n    this.service.setVisibleState(isVisible);\r\n  }\r\n\r\n  @Output()\r\n  public get isVisibleChange(): EventEmitter<boolean> {\r\n    return this.service.isVisibleChange;\r\n  }\r\n\r\n  @HostBinding('class.animating')\r\n  public get isAnimating(): boolean {\r\n    return this.service.isAnimating;\r\n  }\r\n\r\n  public open(): void {\r\n    this.service.setVisibleState(true);\r\n  }\r\n\r\n  public close(): void {\r\n    this.service.setVisibleState(false);\r\n  }\r\n\r\n  public toggle(): void {\r\n    this.service.toggleVisibleState();\r\n  }\r\n\r\n  private updateDimensions(): void {\r\n    this.service.width = this._element.nativeElement.offsetWidth;\r\n    this.service.height = this._element.nativeElement.offsetHeight;\r\n  }\r\n\r\n  private setClass(className: string, isAdd: boolean = true): void {\r\n    if (isAdd) {\r\n      this._renderer.addClass(this._element.nativeElement, className);\r\n    } else {\r\n      this._renderer.removeClass(this._element.nativeElement, className);\r\n    }\r\n  }\r\n}\r\n","import {Component, ElementRef, HostBinding, HostListener, Input, Renderer2} from '@angular/core';\r\nimport {SidebarService, SidebarTransition} from '../services/sidebar.service';\r\n\r\n@Component({\r\n  selector: 'fui-sidebar-sibling',\r\n  template: `\r\n                   <ng-content></ng-content>`,\r\n  styles: [`\r\n                   :host {\r\n                       display: block;\r\n                   }\r\n               `]\r\n})\r\nexport class FuiSidebarSibling {\r\n\r\n  @Input()\r\n  public isDimmedWhenVisible: boolean;\r\n  @HostBinding('class.pusher')\r\n  public readonly hasClasses: boolean;\r\n  @Input()\r\n  public canCloseSidebar = true;\r\n\r\n  constructor(private _renderer: Renderer2, private _element: ElementRef) {\r\n    this.isDimmedWhenVisible = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  @HostBinding('class.visible')\r\n  public get isVisible(): boolean {\r\n    if (!this.service) {\r\n      return false;\r\n    }\r\n    return this.service.isVisible;\r\n  }\r\n\r\n  @HostBinding('class.dimmed')\r\n  public get isDimmed(): boolean {\r\n    if (!this.service) {\r\n      return false;\r\n    }\r\n    return this.service.isVisible && this.isDimmedWhenVisible;\r\n  }\r\n\r\n  private _service: SidebarService;\r\n\r\n  public get service(): SidebarService {\r\n    return this._service;\r\n  }\r\n\r\n  public set service(service: SidebarService) {\r\n    this._service = service;\r\n\r\n    setTimeout(() => this.updateTransform());\r\n    this._service.isVisibleChange.subscribe(() => this.updateTransform());\r\n  }\r\n\r\n  @HostListener('click', ['$event'])\r\n  public onClick(event: MouseEvent): void {\r\n    if (this.canCloseSidebar && this.service.isVisible && !this.service.wasJustOpened) {\r\n      this.service.setVisibleState(false);\r\n    }\r\n  }\r\n\r\n  private updateTransform(): void {\r\n    this._renderer.removeStyle(this._element.nativeElement, 'transform');\r\n    this._renderer.removeStyle(this._element.nativeElement, '-webkit-transform');\r\n\r\n    if (this.service.isVisible &&\r\n      this.service.transition !== SidebarTransition.Overlay &&\r\n      this.service.transition !== SidebarTransition.ScaleDown) {\r\n\r\n      const translate = `translate3d(${this.service.width}px, ${this.service.height}px, 0)`;\r\n      this._renderer.setStyle(this._element.nativeElement, 'transform', translate);\r\n      this._renderer.setStyle(this._element.nativeElement, '-webkit-transform', translate);\r\n    }\r\n  }\r\n}\r\n","import {AfterContentInit, Component, ContentChild, HostBinding} from '@angular/core';\r\nimport {SidebarService} from '../services/sidebar.service';\r\nimport {FuiSidebar} from './sidebar';\r\nimport {FuiSidebarSibling} from './sidebar-sibling';\r\n\r\n@Component({\r\n  selector: 'fui-sidebar-container',\r\n  template: `<ng-content></ng-content>`,\r\n  styles: [`\r\n:host {\r\n    display: block;\r\n}\r\n`]\r\n})\r\nexport class FuiSidebarContainer implements AfterContentInit {\r\n  public service: SidebarService;\r\n\r\n  @HostBinding('class.pushable')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @ContentChild(FuiSidebar, {static: false})\r\n  public sidebar: FuiSidebar;\r\n\r\n  @ContentChild(FuiSidebarSibling, {static: false})\r\n  public sibling: FuiSidebarSibling;\r\n\r\n  constructor() {\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    if (!this.sidebar) {\r\n      throw new Error('You must include a <fui-sidebar> element within the container.');\r\n    }\r\n    this.service = this.sidebar.service;\r\n\r\n    if (!this.sibling) {\r\n      throw new Error('You must include a <fui-sidebar-sibling> element within the container.');\r\n    }\r\n    this.sibling.service = this.service;\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiSidebar} from './components/sidebar';\r\nimport {FuiSidebarContainer} from './components/sidebar-container';\r\nimport {FuiSidebarSibling} from './components/sidebar-sibling';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiSidebar,\r\n    FuiSidebarContainer,\r\n    FuiSidebarSibling\r\n  ],\r\n  exports: [\r\n    FuiSidebar,\r\n    FuiSidebarContainer,\r\n    FuiSidebarSibling\r\n  ]\r\n})\r\nexport class FuiSidebarModule {\r\n}\r\n","import {FuiTabHeader} from '../directives/tab-header';\r\nimport {FuiTabContent} from '../directives/tab-content';\r\n\r\nexport class Tab {\r\n  public id: string;\r\n  public header: FuiTabHeader;\r\n  public content: FuiTabContent;\r\n  public index: number;\r\n\r\n  constructor(header: FuiTabHeader, content: FuiTabContent) {\r\n    this.id = header.id;\r\n    this.header = header;\r\n    this.content = content;\r\n\r\n    // So that the header and content isActive properties are always in sync.\r\n    this.header.isActiveChange\r\n      .subscribe(() => this.content.isActive = this.isActive);\r\n  }\r\n\r\n  // Saves accessing .header.isActive every time.\r\n  public get isActive(): boolean {\r\n    return this.header.isActive;\r\n  }\r\n\r\n  public set isActive(active: boolean) {\r\n    // Use `setActiveState` so as not to fire 'external changes' event.\r\n    this.header.setActiveState(active);\r\n  }\r\n\r\n  // Saves accessing .header.isDisabled every time.\r\n  public get isDisabled(): boolean {\r\n    return this.header.isDisabled;\r\n  }\r\n}\r\n","import {Directive, EventEmitter, HostBinding, HostListener, Input, Output} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[fuiTabHeader]'\r\n})\r\nexport class FuiTabHeader {\r\n\r\n  @HostBinding('class.item')\r\n  public readonly hasClasses: boolean;\r\n  @Input('fuiTabHeader')\r\n  public id: string;\r\n  // Enables use of [(isActive)] so state can be set using booleans.\r\n  @Output()\r\n  public isActiveChange: EventEmitter<boolean>;\r\n  // Fires only when `isActive` changes due to user input.\r\n  public isActiveExternalChange: EventEmitter<boolean>;\r\n  // Fires whenever a tab is activated having previously been deactivated.\r\n  @Output('activate')\r\n  public onActivate: EventEmitter<void>;\r\n  // Fires whenever a tab is deactivated having previously been activated.\r\n  @Output('deactivate')\r\n  public onDeactivate: EventEmitter<void>;\r\n\r\n  constructor() {\r\n    this._isActive = false;\r\n    this.isActiveChange = new EventEmitter<boolean>();\r\n    this.isActiveExternalChange = new EventEmitter<boolean>();\r\n\r\n    this.onActivate = new EventEmitter<void>();\r\n    this.onDeactivate = new EventEmitter<void>();\r\n\r\n    this.isDisabled = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n\r\n  // Internally keeps track of whether the header is active.\r\n  private _isActive: boolean;\r\n\r\n  @HostBinding('class.active')\r\n  @Input()\r\n  public get isActive(): boolean {\r\n    return this._isActive;\r\n  }\r\n\r\n  public set isActive(active: boolean) {\r\n    let isActive = active;\r\n    // Only used by @Input(), runs whenever user input changes `isActive`.\r\n    // Run in timeout because `isDisabled` can prohibit user from changing `isActive`.\r\n    // so update is delayed to avoid 'changed after checked' error.\r\n    setTimeout(() => {\r\n      // Only allow change if tab header is not disabled.\r\n      isActive = !this.isDisabled ? active : false;\r\n      this.setActiveState(isActive);\r\n\r\n      // Fire 'external change' event as user input has occured.\r\n      this.isActiveExternalChange.emit(isActive);\r\n    });\r\n  }\r\n\r\n  private _isDisabled: boolean;\r\n\r\n  @HostBinding('class.disabled')\r\n  @Input()\r\n  public get isDisabled(): boolean {\r\n    return this._isDisabled;\r\n  }\r\n\r\n  public set isDisabled(disabled: boolean) {\r\n    // Only update if value provided is different to current one.\r\n    if (this._isDisabled !== disabled) {\r\n      this._isDisabled = disabled;\r\n\r\n      // If now disabled, then tab header must be deactivated.\r\n      if (this.isDisabled) {\r\n        this.isActive = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Internally update active state.\r\n  public setActiveState(active: boolean): void {\r\n    // If (cast) active value has changed:\r\n    if (!!this._isActive !== active) {\r\n      // Update to the new value.\r\n      this._isActive = active;\r\n\r\n      // Fire the appropriate activation event.\r\n      if (active) {\r\n        this.onActivate.emit();\r\n      } else {\r\n        this.onDeactivate.emit();\r\n      }\r\n    }\r\n\r\n    // Regardless, emit a change to `isActive`, so [(isActive)] works correctly.\r\n    this.isActiveChange.emit(active);\r\n  }\r\n\r\n  @HostListener('click')\r\n  public onClick(): void {\r\n    if (!this.isDisabled) {\r\n      // Activate the tab when clicked, so long as it isn't disabled.\r\n      this.isActive = true;\r\n    }\r\n  }\r\n}\r\n","import {Directive, HostBinding, Input} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[fuiTabContent]'\r\n})\r\nexport class FuiTabContent {\r\n  @HostBinding('class.tab')\r\n  public readonly hasClasses: boolean;\r\n\r\n  @Input('fuiTabContent')\r\n  public id: string;\r\n\r\n  @HostBinding('class.active')\r\n  public isActive: boolean;\r\n\r\n  constructor() {\r\n    this.isActive = false;\r\n\r\n    this.hasClasses = true;\r\n  }\r\n}\r\n","import {AfterContentInit, Component, ContentChildren, QueryList} from '@angular/core';\r\nimport {FuiTabHeader} from '../directives/tab-header';\r\nimport {FuiTabContent} from '../directives/tab-content';\r\nimport {Tab} from '../classes/tab';\r\n\r\n@Component({\r\n  selector: 'fui-tabset',\r\n  template: `<ng-content></ng-content>`\r\n})\r\nexport class FuiTabset implements AfterContentInit {\r\n\r\n  // List of all tabs in the tabset.\r\n  public tabs: Tab[];\r\n  @ContentChildren(FuiTabHeader)\r\n  private _tabHeaders: QueryList<FuiTabHeader>;\r\n  @ContentChildren(FuiTabContent)\r\n  private _tabContents: QueryList<FuiTabContent>;\r\n  // Keeps track of the number of times `internalComponentsUpdated` is called.\r\n  private _barrierCount: number;\r\n\r\n  constructor() {\r\n    this.tabs = [];\r\n    this._barrierCount = 0;\r\n  }\r\n\r\n  // Keeps track of the currently active tab.\r\n  private _activeTab: Tab;\r\n\r\n  // When setting a tab as the currently active tab, it automatically gains\r\n\r\n  public get activeTab(): Tab {\r\n    return this._activeTab;\r\n  }\r\n\r\n  // `isActive` status (saves littering `isActive = true` everywhere).\r\n  public set activeTab(tab: Tab) {\r\n    this._activeTab = tab;\r\n    tab.isActive = true;\r\n  }\r\n\r\n  public ngAfterContentInit(): void {\r\n    // Fire `internalComponentsUpdated` when the query lists change.\r\n    this._tabHeaders.changes.subscribe(() => this.internalComponentsUpdated());\r\n    this._tabContents.changes.subscribe(() => this.internalComponentsUpdated());\r\n\r\n    // Initially load the tabs.\r\n    this.loadTabs();\r\n  }\r\n\r\n  // Activate the first tab in the set.\r\n  public activateFirstTab(): void {\r\n    this.activeTab = this.tabs[0];\r\n  }\r\n\r\n  // Activates the closest available tab to a given one.\r\n  public activateClosestTab(tab: Tab): void {\r\n    let nextAvailable: Tab | undefined;\r\n\r\n    // When the exited tab's index is higher than all available tabs,\r\n    if (tab.index >= this.tabs.length) {\r\n      // Activate the last tab.\r\n      nextAvailable = this.tabs[this.tabs.length - 1];\r\n    }\r\n\r\n    // If that didn't work, try the following cases:\r\n    if (!nextAvailable) {\r\n      if (!this.tabs.find(t => t === tab)) { // When the exited tab no longer exists,\r\n        // Replace it with a tab at the same index.\r\n        nextAvailable = this.tabs[tab.index];\r\n      } else { // Or if the exited tab still exists,\r\n        // Go to the tab immediately to the left.\r\n        nextAvailable = this.tabs[Math.max(tab.index - 1, 0)];\r\n      }\r\n    }\r\n\r\n    // However, if the chosen tab is disabled,\r\n    if (nextAvailable.isDisabled) {\r\n      // Activate the closest available tab to it.\r\n      return this.activateClosestTab(nextAvailable);\r\n    }\r\n\r\n    this.activeTab = nextAvailable;\r\n  }\r\n\r\n  // Fires whenever either the tab headers or tab contents query lists update.\r\n  private internalComponentsUpdated(): void {\r\n    // We are using a 'counting barrier of n = 2', i.e. the code within only runs after the method is called twice.\r\n    // This is so that both the headers and contents query lists can update before we run code that matches the two up.\r\n    this._barrierCount++;\r\n\r\n    if (this._barrierCount === 2) {\r\n      // Reset the barrier so it can be called again.\r\n      this._barrierCount = 0;\r\n\r\n      // Update the tabs.\r\n      this.loadTabs();\r\n    }\r\n  }\r\n\r\n  // Connects tab headers to tab contents, and creates a tab instance for each pairing.\r\n  private loadTabs(): void {\r\n    // Remove any tabs that no longer have an associated header.\r\n    this.tabs = this.tabs.filter(t => !!this._tabHeaders.find(tH => tH === t.header));\r\n\r\n    this._tabHeaders\r\n    // Filter out the loaded headers with attached tab instances.\r\n      .filter(tH => !this.tabs.find(t => t.header === tH))\r\n      .forEach(tH => {\r\n        const content = this._tabContents.find(tC => tC.id === tH.id);\r\n\r\n        if (!content) {\r\n          // Error if an associated tab content cannot be found for the given header.\r\n          throw new Error('A [fuiTabHeader] must have a related [fuiTabContent].');\r\n        }\r\n\r\n        // Create a new tab instance for this header & content combo.\r\n        const tab = new Tab(tH, content);\r\n\r\n        // Subscribe to any external changes in the tab header's active state. External changes are triggered by user input.\r\n        tab.header.isActiveExternalChange.subscribe(() => this.onHeaderActiveChanged(tab));\r\n\r\n        // Add the new instance to the list of tabs.\r\n        this.tabs.push(tab);\r\n      });\r\n\r\n    // Assign each tab an index (which denotes the order they physically appear in).\r\n    this._tabHeaders\r\n      .forEach((tH, i) => {\r\n        const tab = this.tabs.find(t => t.header === tH);\r\n        if (tab) {\r\n          tab.index = i;\r\n        }\r\n      });\r\n\r\n    // Sort the tabs by their index.\r\n    this.tabs.sort((a, b) => a.index - b.index);\r\n\r\n\r\n    if (!this.activeTab) { // Check if there are no current existing active tabs.\r\n      // If so, we must activate the first available tab.\r\n      this.activateFirstTab();\r\n    } else if (!this.tabs.find(t => t === this.activeTab)) { // O'wise check if current active tab has been deleted.\r\n      // If so, we must find the closest.\r\n      // Use `setTimeout` as this causes a 'changed after checked' error o'wise.\r\n      setTimeout(() => this.activateClosestTab(this.activeTab));\r\n    }\r\n\r\n    if (this.tabs.length === 0) {\r\n      // Error if there aren't any tabs in the tabset.\r\n      throw new Error('You cannot have no tabs!');\r\n    }\r\n  }\r\n\r\n  // Fires whenever a tab header's active state is externally changed.\r\n  private onHeaderActiveChanged(tab: Tab): void {\r\n    // If the tab has become activated, but was not previously the active tab:\r\n    if (tab.isActive && this.activeTab !== tab) {\r\n      // Deactivate all of the tabs.\r\n      this.tabs.filter(t => t !== tab).forEach(t => t.isActive = false);\r\n\r\n      // Set the currently active tab to this one.\r\n      this.activeTab = tab;\r\n    }\r\n\r\n    // If the tab has become deactivated, but was previously the active tab:\r\n    if (!tab.isActive && this.activeTab === tab) {\r\n      // Activate the closest tab to it.\r\n      this.activateClosestTab(tab);\r\n    }\r\n  }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiTabset} from './components/tabset';\r\nimport {FuiTabHeader} from './directives/tab-header';\r\nimport {FuiTabContent} from './directives/tab-content';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiTabset,\r\n    FuiTabHeader,\r\n    FuiTabContent\r\n  ],\r\n  exports: [\r\n    FuiTabset,\r\n    FuiTabHeader,\r\n    FuiTabContent\r\n  ]\r\n})\r\nexport class FuiTabsModule {\r\n}\r\n","import {Directive, TemplateRef} from '@angular/core';\r\n\r\n@Directive({selector: 'ng-template[fuiToastTitle]'})\r\nexport class FuiToastTitle {\r\n  constructor(public templateRef: TemplateRef<any>) {\r\n  }\r\n}\r\n","import {Directive, TemplateRef} from '@angular/core';\r\n\r\n@Directive({selector: 'ng-template[fuiToastMessage]',})\r\nexport class FuiToastMessage {\r\n  constructor(public templateRef: TemplateRef<any>) {\r\n  }\r\n}\r\n","import {Component, ContentChild, ElementRef, EventEmitter, Input, OnInit, Output} from '@angular/core';\r\nimport {FuiToastTitle} from '../directives/toast-title';\r\nimport {FuiToastMessage} from '../directives/toast-message';\r\n\r\n@Component({\r\n  selector: 'fui-toast',\r\n  exportAs: 'fuiToast',\r\n  template: `\r\n    <div class=\"toast-box compact\" (click)=\"(dismissible ? (!closeIcon ? close() : null) : null)\">\r\n      <div *ngIf=\"showProgress && showProgress === 'top'\" class=\"ui attached active progress {{class}} {{showProgress}}\">\r\n        <div class=\"bar\" [ngStyle]=\"{'transition': 'width ' + (displayTime / 1000)  + 's', 'width': progress + '%'}\"\r\n             style=\"width: 100%;\"></div>\r\n      </div>\r\n      <div class=\"{{class}} {{className}}\" [ngClass]=\"{'icon': showIcon}\">\r\n        <i *ngIf=\"closeIcon\" class=\"close icon\" (click)=\"close()\"></i>\r\n        <i *ngIf=\"showIcon\" class=\"{{showIcon}} icon\"></i>\r\n        <div class=\"content\">\r\n          <ng-container *ngIf=\"title\">\r\n            <div class=\"header\">{{title}}</div>\r\n          </ng-container>\r\n          <div class=\"header\" *ngIf=\"titleTpl\">\r\n            <ng-template [ngTemplateOutlet]=\"titleTpl.templateRef\"></ng-template>\r\n          </div>\r\n          <ng-container *ngIf=\"message\">\r\n            <div class=\"body\">{{message}}</div>\r\n          </ng-container>\r\n          <div *ngIf=\"messageTpl\" class=\"body\">\r\n            <ng-template [ngTemplateOutlet]=\"messageTpl.templateRef\"></ng-template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"showProgress && showProgress === 'bottom'\" class=\"ui attached active progress {{class}} {{showProgress}}\">\r\n        <div class=\"bar\" [ngStyle]=\"{'transition': 'width ' + (displayTime / 1000)  + 's', 'width': progress + '%'}\"\r\n             style=\"width: 100%;\"></div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\nexport class FuiToast implements OnInit {\r\n  @Input() dismissible: boolean;\r\n  @Input() title: string;\r\n  @Input() message: string;\r\n  @Input() class: string;\r\n\r\n  @Input() showIcon: any;\r\n  @Input() closeIcon: boolean;\r\n  @Input() className: any;\r\n\r\n  @Input() progressUp?: boolean;\r\n  @Input() showProgress?: string;\r\n  @Input() displayTime?: number;\r\n\r\n  @Input() id: number;\r\n\r\n  @Output('close') closeEvent = new EventEmitter();\r\n\r\n  @ContentChild(FuiToastTitle, {static: false}) titleTpl: FuiToastTitle;\r\n  @ContentChild(FuiToastMessage, {static: false}) messageTpl: FuiToastMessage;\r\n\r\n  progress: number;\r\n  icons = {\r\n    info: 'info',\r\n    success: 'checkmark',\r\n    warning: 'warning',\r\n    error: 'times'\r\n  };\r\n\r\n  constructor(private elementRef: ElementRef) {\r\n    this.dismissible = this.dismissible || true;\r\n    this.title = this.title || '';\r\n    this.message = this.message || '';\r\n    this.class = this.class || 'info';\r\n\r\n    if (typeof this.showIcon !== 'string') {\r\n      if (this.showIcon === undefined || this.showIcon === null) {\r\n        this.showIcon = this.icons[this.class];\r\n      } else {\r\n        this.showIcon = false;\r\n      }\r\n    }\r\n\r\n    this.closeIcon = this.closeIcon || false;\r\n    this.className = this.className || 'ui toast';\r\n\r\n    this.progressUp = this.progressUp || true;\r\n    this.displayTime = this.displayTime || 0;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.displayTime) {\r\n      window.setTimeout(() => this.close(), this.displayTime);\r\n\r\n      if (this.showProgress) {\r\n        this.progress = this.progressUp ? 0 : 100;\r\n        window.setTimeout(() => this.progress = this.progressUp ? 100 : 0, 300);\r\n      }\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.elementRef.nativeElement.remove();\r\n    this.closeEvent.next(this.id);\r\n  }\r\n}\r\n","import {Component} from '@angular/core';\r\nimport {FuiToastConfig} from './toast-config';\r\n\r\n@Component({\r\n  selector: 'fui-toast-container',\r\n  exportAs: 'fuiToastContainer',\r\n  template: `\r\n    <fui-toast *ngFor=\"let toast of toastData\"\r\n               [id]=\"toast.id\"\r\n               [title]=\"toast.title\"\r\n               [message]=\"toast.message\"\r\n               [class]=\"toast.class\"\r\n               [showProgress]=\"toast.showProgress\"\r\n               [displayTime]=\"toast.displayTime\"\r\n               [showIcon]=\"toast.showIcon\"\r\n               [closeIcon]=\"toast.closeIcon\"\r\n               [progressUp]=\"toast.progressUp\"\r\n               [className]=\"toast.className\"\r\n               (close)=\"closeToast(toast.id)\"></fui-toast>`\r\n})\r\nexport class FuiToastContainer {\r\n  toastData: Array<FuiToastConfig> = [];\r\n  timeoutIds: { [toastId: number]: number } = {};\r\n  private maxId = 0;\r\n\r\n  addToast(data: FuiToastConfig) {\r\n    data.id = data.id || ++this.maxId;\r\n    data.showProgress = data.showProgress || 'bottom';\r\n    data.class = data.class || 'info';\r\n    data.displayTime = data.displayTime || 5000;\r\n\r\n    this.toastData.unshift(data);\r\n    this.timeoutIds[data.id] = window.setTimeout(() => this.closeToast(data.id), data.displayTime);\r\n  }\r\n\r\n  closeToast(toastId: number) {\r\n    const x = this.toastData.findIndex(t => t.id === toastId);\r\n\r\n    if (x > -1) {\r\n      const id = this.toastData[x].id;\r\n      window.clearTimeout(this.timeoutIds[id]);\r\n      delete this.timeoutIds[id];\r\n      this.toastData.splice(x, 1);\r\n    }\r\n  }\r\n}\r\n","import {Injectable} from '@angular/core';\r\n\r\n@Injectable()\r\nexport class FuiToastConfig {\r\n  title: string;\r\n  message: string;\r\n  showProgress?: string;\r\n  class?: string;\r\n  progressUp?: boolean;\r\n  showIcon?: any;\r\n  closeIcon?: boolean;\r\n  displayTime?: number;\r\n  className?: string;\r\n  id?: number;\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {FuiToast} from './classes/toast';\r\nimport {FuiToastContainer} from './classes/toast-container';\r\nimport {FuiToastTitle} from './directives/toast-title';\r\nimport {FuiToastMessage} from './directives/toast-message';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    FuiToastTitle,\r\n    FuiToastMessage,\r\n    FuiToast,\r\n    FuiToastContainer\r\n  ],\r\n  exports: [\r\n    FuiToastTitle,\r\n    FuiToastMessage,\r\n    FuiToast,\r\n    FuiToastContainer\r\n  ]\r\n})\r\nexport class FuiToastModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {FuiMessageModule, FuiPaginationModule} from './collections/internal';\r\nimport {\r\n  FuiAccordionModule,\r\n  FuiCheckboxModule,\r\n  FuiCollapseModule,\r\n  FuiDatepickerModule,\r\n  FuiDimmerModule,\r\n  FuiDropdownModule,\r\n  FuiModalModule,\r\n  FuiPopupModule,\r\n  FuiProgressModule,\r\n  FuiRatingModule,\r\n  FuiSearchModule,\r\n  FuiSelectModule,\r\n  FuiSidebarModule,\r\n  FuiTabsModule,\r\n  FuiToastModule,\r\n  FuiTransitionModule\r\n} from './modules/internal';\r\nimport {FuiLocalizationModule} from './behaviors/internal';\r\nimport {FuiUtilityModule} from './misc/internal';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  exports: [\r\n    FuiMessageModule,\r\n    FuiPaginationModule,\r\n\r\n    FuiAccordionModule,\r\n    FuiCheckboxModule,\r\n    FuiCollapseModule,\r\n    FuiDatepickerModule,\r\n    FuiDimmerModule,\r\n    FuiDropdownModule,\r\n    FuiModalModule,\r\n    FuiPopupModule,\r\n    FuiProgressModule,\r\n    FuiRatingModule,\r\n    FuiSearchModule,\r\n    FuiSelectModule,\r\n    FuiSidebarModule,\r\n    FuiTabsModule,\r\n    FuiToastModule,\r\n    FuiTransitionModule,\r\n\r\n    FuiLocalizationModule,\r\n\r\n    FuiUtilityModule\r\n  ]\r\n})\r\nexport class FomanticUIModule {\r\n}\r\n"],"names":["((/** @type {?} */ ($extend))).default"],"mappings":"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"}